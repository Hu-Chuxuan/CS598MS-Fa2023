{"id": 20047, "query": "No , I think I would like to watch Easy A (2010)", "history": ["The Waterboy (1998)", "Easy A (2010)", "Click  (2006)"], "groundtruth": ["The Black Panthers: Vanguard of the Revolution (2015)", "It  (2017)", "Avengers: Infinity War (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear AS release_year, tb1.genres\nFROM title_basics AS tb1\nJOIN title_ratings AS tr ON tb1.tconst = tr.tconst\nWHERE tb1.titleType = 'movie'\nAND tb1.genres LIKE '%Comedy%'\nAND tb1.startYear >= 2005\nAND tb1.tconst NOT IN ('tt0458352', 'tt1133991', 'tt0389860')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 20053, "query": "I like to watch scary movies", "history": ["It (1990)", "The Exorcist  (1973)"], "groundtruth": ["It  (2017)", "The Last Exorcism (2010)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics AS tb1\nJOIN title_basics AS tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle IN ('It (1990)', 'The Exorcist (1973)')\nAND tb1.titleType = 'movie'\nAND tb1.primaryTitle NOT IN ('It (1990)', 'The Exorcist (1973)')\nAND tb1.startYear >= 1980\nORDER BY tb1.averageRating DESC\nLIMIT 5;"}
{"id": 20054, "query": "I love to watch funny movies", "history": ["Son of the Mask (2005)", "You Don't Mess with the Zohan (2008)", "Click  (2006)"], "groundtruth": ["The Mask (1988)"], "output": "SELECT primaryTitle, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Comedy%'\nAND primaryTitle NOT IN ('Son of the Mask (2005)', \"You Don't Mess with the Zohan (2008)\", 'Click  (2006)')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 20095, "query": "I like scary movies, can you make a suggestion?", "history": ["Jason X (2001)"], "groundtruth": ["The Conjuring (2013)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%' OR tb.genres LIKE '%Thriller%'\nAND tb.primaryTitle != 'Jason X (2001)'\nORDER BY tr.averageRating DESC, tb.startYear DESC\nLIMIT 5;"}
{"id": 20195, "query": "i think funny movies would be great", "history": ["Hangover (2010)", "Uncle Buck", "Hangover  (2014)"], "groundtruth": ["Donnie Darko (2001)", "Tommy Boy (1995)", "Black Sheep  (1996)"], "output": "SELECT primaryTitle, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Comedy%'\nAND primaryTitle NOT IN ('Hangover (2010)', 'Uncle Buck', 'Hangover  (2014)')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 20210, "query": "I enjoy fantasy type movies, and goofy comedies.  Any suggestions?", "history": ["Big Fish (2003)", "The Hangover (2009)", "The Lord of the Rings ", "Sisters  (2015)"], "groundtruth": ["Step Brothers  (2008)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Fantasy%' OR tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Big Fish (2003)', 'The Hangover (2009)', 'The Lord of the Rings ', 'Sisters  (2015)') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 20277, "query": "Yes, I'd recommend psychological thrillers.  Have you seen Nocturnal Animals  (2016)?", "history": ["Nocturnal Animals  (2016)", "Annabelle 2 (2017)"], "groundtruth": ["Annabelle  (2014)", "A Nightmare on Elm Street (1984)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating AS rating, tr.numVotes AS num_votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Psychological%' AND tb.genres LIKE '%Thriller%'\nAND tb.primaryTitle NOT IN ('Nocturnal Animals  (2016)', 'Annabelle 2 (2017)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 20296, "query": "I am looking for a funny movie. Can you . help me?", "history": ["Shallow Hal (2001)", "The Holiday (2006)", "There's Something About Mary (1998)"], "groundtruth": ["The Wedding Singer (1998)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.startYear >= 2000\nAND tb.primaryTitle NOT IN ('Shallow Hal', 'The Holiday', 'There\\'s Something About Mary')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 20300, "query": "Can you suggest a couple superhero movies for me to watch tonight?", "history": ["Guardians of the Galaxy  (2014)", "Guardians of the Galaxy Vol. 2 (2017)", "Spider-Man  (2002)"], "groundtruth": ["Avengers: Age of Ultron (2015)", "Captain America: Civil War (2016)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Superhero%'\nAND tb.primaryTitle NOT IN ('Guardians of the Galaxy', 'Guardians of the Galaxy Vol. 2', 'Spider-Man')\nORDER BY tr.averageRating DESC\nLIMIT 2;"}
{"id": 20301, "query": "I am hoping you can help me find a movie about gangsters, like Casino  (1995) . I love that movie. I also really like Goodfellas (1990) .", "history": ["Casino  (1995)", "Goodfellas (1990)", "Godfather  (1991)"], "groundtruth": ["American Gangster  (2007)", "Scarface  (1983)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Gangster%'\nAND primaryTitle NOT IN ('Casino  (1995)', 'Goodfellas (1990)', 'Godfather  (1991)')\nAND startYear <= 1995\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 20302, "query": "I love adventure movies.", "history": ["Black Panther (2018)", "Jurassic Park", "Raiders of the Lost Ark (1981)"], "groundtruth": ["Avengers: Infinity War (2018)", "Tomb Raider (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Adventure%'\nAND tb.primaryTitle NOT IN ('Black Panther (2018)', 'Jurassic Park', 'Raiders of the Lost Ark (1981)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 20379, "query": "Hi, I love musicals and am looking for some new ones!", "history": ["The Waterboy (1998)", "The Phantom of the Opera  (2004)", "Les Mis\u00e9rables  (2012)", "Happy Gilmore (1996)"], "groundtruth": ["Tommy Boy (1995)", "Black Sheep  (1996)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Musical%'\nAND tb.startYear > 2012\nAND tb.tconst NOT IN ('tt0120484', 'tt0293508', 'tt0147800', 'tt0116483')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 20381, "query": "I am actually looking for movies for my 12 yr olds sleepover", "history": ["Wonder Woman  (2017)", "Sky High  (2003)", "The Hunger Games  (2012)", "The Hunger Games: Catching Fire (2013)"], "groundtruth": ["X-Men: Apocalypse (2016)"], "output": "SELECT primaryTitle, startYear, runtimeMinutes, genres\nFROM title_basics\nWHERE titleType = 'movie' \nAND startYear <= 2010 \nAND runtimeMinutes <= 150 \nAND genres LIKE '%Family%'\nAND tconst NOT IN ('tt0451279', 'tt1392170', 'tt0449499', 'tt1951264') -- Exclude previously watched movies\nORDER BY averageRating DESC, numVotes DESC\nLIMIT 10;"}
{"id": 20382, "query": "I watch many movies. I especially like science fiction. Any recommendations?", "history": [], "groundtruth": ["The Avengers  (2012)"], "output": "```sql\nSELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Sci-Fi%'\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;\n```"}
{"id": 20399, "query": "I really like murder mysteries. Can you help me find one?", "history": ["Memento  (2000)", "Seven  (1995)", "The Silence of the Lambs  (1991)"], "groundtruth": ["Kiss Kiss Bang Bang (2005)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Mystery%' AND tb.genres LIKE '%Thriller%' \nAND tb.startYear <= 2022 \nAND tb.primaryTitle NOT IN ('Memento', 'Seven', 'The Silence of the Lambs') \nORDER BY tr.averageRating DESC, tb.startYear DESC \nLIMIT 5;"}
{"id": 20404, "query": "I am looking for a scary movie", "history": ["Halloween  (1978)", "Scream  (1996)"], "groundtruth": ["The Others  (2001)", "A Quiet Place (2018)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND tb.startYear <= 2000\nAND tb.tconst NOT IN ('tt0077651', 'tt0117571')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 20458, "query": "Can you please reccomend a movie", "history": ["Step Brothers  (2008)", "Seven Psychopaths (2012)", "The Silence of the Lambs  (1991)"], "groundtruth": ["Blockers (2018)", "Avengers: Infinity War (2018)"], "output": "SELECT primaryTitle, startYear, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE titleType = 'movie' \nAND primaryTitle NOT IN ('Step Brothers', 'Seven Psychopaths', 'The Silence of the Lambs') \nAND startYear >= 1990 \nORDER BY averageRating DESC, numVotes DESC \nLIMIT 5;"}
{"id": 20472, "query": "I like comedy movies", "history": ["Scary Movie (2000)", "American Pie  (1999)", "Click  (2006)"], "groundtruth": ["You Don't Mess with the Zohan (2008)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Scary Movie (2000)', 'American Pie  (1999)', 'Click  (2006)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 20480, "query": "I&quot;m looking for movies that have like brain twists? I enjoy movies such as Vanilla Sky (2001)", "history": ["Monster  (2003)", "Vanilla Sky (2001)", "Bridget Jones's Diary  (2001)", "Being John Malkovich (1999)"], "groundtruth": ["Maid in Manhattan"], "output": "```sql\nSELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Mystery%' OR tb.genres LIKE '%Thriller%'\nAND (tb.primaryTitle != 'Vanilla Sky' OR tb.startYear != 2001)\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;\n```"}
{"id": 20493, "query": "Hello, I am looking for new dramas or based on true life events such as We Are Marshall (2006) or The Judge  (2014)", "history": ["I Can Only Imagine (2018)", "We Are Marshall (2006)", "The Judge  (2014)"], "groundtruth": ["To Kill a Mockingbird  (1962)", "Woodlawn  (2015)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE (tb.genres LIKE '%Drama%' OR tb.genres LIKE '%Biography%') \nAND tb.primaryTitle NOT IN ('I Can Only Imagine (2018)', 'We Are Marshall (2006)', 'The Judge  (2014)')\nAND tb.startYear >= 2000\nORDER BY tr.averageRating DESC, tb.startYear DESC\nLIMIT 10;"}
{"id": 20494, "query": "I like all kinds, I feel like I could use a good Comedy", "history": ["Talladega Nights: The Ballad of Ricky Bobby (2006)"], "groundtruth": ["Anchorman ", "The House  (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle != 'Talladega Nights: The Ballad of Ricky Bobby (2006)'\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 20495, "query": "I'm looking for any recent horror movies that are good.", "history": ["Manchester by the Sea  (2016)", "The Dark Tower  (2017)", "Annabelle 2 (2017)"], "groundtruth": ["A Quiet Place (2018)", "Room  (2015)", "It  (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Horror%'\nAND tb.startYear >= 2017\nAND tr.averageRating > 7\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 20526, "query": "Yes, I love a dark comedy like that", "history": ["Talladega Nights: The Ballad of Ricky Bobby (2006)", "The Hangover (2009)", "Little Miss Sunshine (2006)"], "groundtruth": ["Fargo  (1996)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating, tr.numVotes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' AND tb.genres LIKE '%Drama%'\nAND tb.startYear >= 2000\nAND tb.primaryTitle NOT IN ('Talladega Nights: The Ballad of Ricky Bobby (2006)', 'The Hangover (2009)', 'Little Miss Sunshine (2006)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 20545, "query": "I am in the mood to watch a comedy.", "history": ["Jurassic Park", "There's Something About Mary (1998)", "50 First Dates (2004)", "Jurassic Park  (1993)", "The Wedding Singer (1998)", "National Lampoon's Vacation (1983)"], "groundtruth": ["Jurassic World (2015)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Jurassic Park', \"There's Something About Mary (1998)\", '50 First Dates (2004)', \n                            'Jurassic Park  (1993)', 'The Wedding Singer (1998)', \"National Lampoon's Vacation (1983)\")\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 20548, "query": "Yes do you have any drama reccomendations?", "history": ["Me Before You ", "The Shawshank Redemption (1994)", "Thor: Ragnarok (2017)"], "groundtruth": ["La La Land  (2016)", "The Fault in Our Stars  (2014)"], "output": "SELECT primaryTitle, averageRating, numVotes\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Drama%'\nAND primaryTitle NOT IN ('Me Before You ', 'The Shawshank Redemption (1994)', 'Thor: Ragnarok (2017)')\nORDER BY averageRating DESC, numVotes DESC\nLIMIT 5;"}
{"id": 20566, "query": "I am trying to find a movie based on a book to watch.", "history": ["Avengers: Infinity War (2018)", "The Post (2017)"], "groundtruth": ["Seabiscuit  (2003)"], "output": "SELECT tb.primaryTitle AS Recommended_Movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Drama%'\nAND tb.startYear >= 2010\nAND tb.primaryTitle NOT IN ('Avengers: Infinity War (2018)', 'The Post (2017)')\nAND tp.category = 'writer'\nAND tp.nconst IN (\n    SELECT nconst\n    FROM title_principals\n    WHERE tconst IN (\n        SELECT knownForTitles\n        FROM name_basics\n        WHERE primaryName = 'Stephen King'\n    )\n)\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 1;"}
{"id": 20581, "query": "I like Comedy Movies!!", "history": ["Talladega Nights: The Ballad of Ricky Bobby (2006)", "The Hangover (2009)", "Neighbors  (2014)"], "groundtruth": ["Neighbors 2: Sorority Rising (2016)", "The House  (2017)"], "output": "SELECT primaryTitle\nFROM title_basics\nWHERE genres LIKE '%Comedy%'\nAND tconst NOT IN ('tt0415306', 'tt1119646', 'tt2004420')  -- Excluding the movies in user's preference history\nORDER BY averageRating DESC, numVotes DESC\nLIMIT 5;"}
{"id": 20626, "query": "Do you have any comedies you can recomend?", "history": ["American Pie  (1999)"], "groundtruth": ["Fargo  (1996)", "Click  (2006)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Comedy%' \nAND tb.primaryTitle != 'American Pie'\nAND tr.averageRating >= 7 \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 20640, "query": "i'm looking forward to watching comedy movies", "history": ["The Mask  (1994)", "Click  (2006)"], "groundtruth": ["The Waterboy (1998)", "Girls Trip (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Comedy%'\nAND tb.startYear > 2006\nAND tb.primaryTitle NOT IN ('The Mask', 'Click')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 20642, "query": "i like comdy movies like Click  (2006)", "history": ["Black Panther (2018)", "Iron Man 2 (2010)", "Click  (2006)"], "groundtruth": ["The Notebook (2004)", "Avengers: Infinity War (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.startYear = 2006\nAND tb.primaryTitle != 'Click'\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 20647, "query": "i like comedy movies as Action movies", "history": ["It (1990)", "It  (2017)", "American Pie  (1999)", "Avengers: Infinity War (2018)"], "groundtruth": ["High Fidelity  (2000)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' AND tb.genres LIKE '%Action%'\nAND tb.primaryTitle NOT IN ('It (1990)', 'It  (2017)', 'American Pie  (1999)', 'Avengers: Infinity War (2018)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 20675, "query": "I like horror or thriller movies. Any recommendations?", "history": ["The Lord of the Rings: The Fellowship of the Ring (2001)", "Friday the 13th  (1980)", "A Nightmare on Elm Street (1984)"], "groundtruth": ["The Mechanic  (2011)", "Freddy vs. Jason (2003)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%' OR tb.genres LIKE '%Thriller%'\nAND tb.primaryTitle NOT IN ('The Lord of the Rings: The Fellowship of the Ring (2001)', 'Friday the 13th  (1980)', 'A Nightmare on Elm Street (1984)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC;"}
{"id": 20676, "query": "I really like comedies", "history": ["Chicago  (2002)", "Step Brothers  (2008)"], "groundtruth": ["Wedding Crashers (2005)", "Romeo & Juliet  (2013)"], "output": "SELECT primaryTitle, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Comedy%'\nAND primaryTitle NOT IN ('Chicago (2002)', 'Step Brothers (2008)')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 20683, "query": "I like comedy and action", "history": ["Meet the Fockers (2004)", "Tropic Thunder (2008)"], "groundtruth": ["This Is the End (2013)"], "output": "SELECT tb1.primaryTitle AS Recommended_Movie, tb1.startYear AS Release_Year, tb1.genres AS Genres, tr.averageRating AS Average_Rating\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb1.genres LIKE '%comedy%' OR tb1.genres LIKE '%action%'\nAND (tb1.primaryTitle NOT IN ('Meet the Fockers (2004)', 'Tropic Thunder (2008)')\nOR tb1.startYear NOT IN (2004, 2008))\nORDER BY tr.averageRating DESC, tb1.startYear DESC\nLIMIT 10;"}
{"id": 20706, "query": "Do you know of any good comedies?", "history": ["Hot Tub Time Machine", "The Hangover (2009)", "Harold & Kumar"], "groundtruth": ["Daddy's Home 2 (2017)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics AS tb\nJOIN title_ratings AS tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Hot Tub Time Machine', 'The Hangover (2009)', 'Harold & Kumar')\nAND tr.averageRating >= 7\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 20708, "query": "I like comedy and action", "history": ["Deadpool  (2016)"], "groundtruth": ["Deadpool 2  (2018)", "Scott Pilgrim vs. the World (2010)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Comedy%'\nAND tb.genres LIKE '%Action%'\nAND tb.tconst NOT IN (SELECT tconst FROM title_basics WHERE primaryTitle = 'Deadpool (2016)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 20711, "query": "Just not horror!", "history": ["Avengers: Infinity War (2018)"], "groundtruth": ["The House  (2017)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres != 'Horror' \nAND tb.tconst NOT IN ('Avengers: Infinity War (2018)') \nORDER BY tr.averageRating DESC \nLIMIT 10;"}
{"id": 20713, "query": "I like action, comedy, and  click flicks", "history": ["Deadpool  (2016)"], "groundtruth": ["Game Night (2018)", "Deadpool 2  (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%action%' OR tb.genres LIKE '%comedy%' OR tb.genres LIKE '%click flicks'\nAND (tb.genres NOT LIKE '%horror%' AND tb.genres NOT LIKE '%thriller%')\nAND tr.averageRating >= 7\nAND tb.primaryTitle NOT IN ('Deadpool (2016)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 20719, "query": "I like anything action, comedy, click flicks", "history": [], "groundtruth": ["The House  (2017)", "Hot Fuzz (2007)"], "output": "SELECT primaryTitle, averageRating, genres \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE genres LIKE '%action%' OR genres LIKE '%comedy%' OR genres LIKE '%click flicks' \nORDER BY averageRating DESC \nLIMIT 10;"}
{"id": 20724, "query": "Hi, I'm looking for horror or thriller movies", "history": ["District 9 (2009)", "Aliens  (1986)", "Life  (2017)"], "groundtruth": ["Scream  (1996)", "Scary Movie (2000)"], "output": "SELECT tb.primaryTitle \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Horror%' OR tb.genres LIKE '%Thriller%' \nAND tb.primaryTitle NOT IN ('District 9 (2009)', 'Aliens  (1986)', 'Life  (2017)') \nORDER BY tr.averageRating DESC, tr.numVotes DESC \nLIMIT 5;"}
{"id": 20729, "query": "I like romantic movies", "history": ["The Notebook (2004)", "La La Land  (2016)", "Love Actually (2003)"], "groundtruth": ["Three Billboards Outside Ebbing, Missouri (2017)", "Lady Bird  (2017)", "Love Story  (1970)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Romance%'\nAND tb.primaryTitle NOT IN ('The Notebook (2004)', 'La La Land  (2016)', 'Love Actually (2003)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 20732, "query": "i like Comedy and Action movies, what would you recommend?", "history": ["Click  (2010)", "The Incredibles (2004)"], "groundtruth": ["Game Night (2018)", "Incredibles 2 (2018)", "Hot Fuzz (2007)", "Scott Pilgrim vs. the World (2010)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Action%'\nAND tb.primaryTitle NOT IN ('Click', 'The Incredibles')\nAND tr.averageRating >= 7.5\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 20734, "query": "i like Comedy movies like I Now Pronounce You Chuck & Larry (2007)", "history": ["Lady Bird  (2017)", "I Now Pronounce You Chuck & Larry (2007)", "You Don't Mess with the Zohan (2008)", "War for the Planet of the Apes (2017)", "Click  (2006)"], "groundtruth": ["Birdman  (2014)", "American Hustle (2013)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics AS tb1\nINNER JOIN title_basics AS tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'I Now Pronounce You Chuck & Larry (2007)'\nAND tb1.titleType = 'movie'\nAND tb1.primaryTitle != 'I Now Pronounce You Chuck & Larry (2007)'\nAND tb1.startYear >= 2000\nAND tb1.genres LIKE '%Comedy%'\nAND tb1.averageRating > 7\nORDER BY tb1.numVotes DESC\nLIMIT 5;"}
{"id": 20737, "query": "I'm good thanks. Do you have any comedies you could recommend?", "history": ["Deadpool  (2016)"], "groundtruth": ["Down to Earth  (2001)", "Jumanji  (2017)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.tconst NOT IN ('tt1431045')  -- excluding previously preferred movie\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 20738, "query": "Yes! What other Marvel movies should I see?", "history": [], "groundtruth": ["Guardians of the Galaxy  (2014)", "Thor: Ragnarok (2017)", "Iron Man  (2008)"], "output": "```sql\nSELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' \nAND tb.genres LIKE '%Adventure%' \nAND tb.genres LIKE '%Sci-Fi%'\nAND tb.primaryTitle NOT LIKE '%Avengers%'\nAND tb.primaryTitle NOT LIKE '%Iron Man%'\nAND tb.primaryTitle NOT LIKE '%Thor%'\nAND tb.primaryTitle NOT LIKE '%Captain America%'\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;\n```"}
{"id": 20740, "query": "Mostly comedy", "history": ["Game Night (2018)"], "groundtruth": ["The Big Sick (2017)", "The House  (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Comedy%' \nAND tb.tconst NOT IN ('Game Night (2018)') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 20744, "query": "I like horror and thriller. Especially low budget like The Boy  (2016) and Don't Breathe (2016) .", "history": ["The Cabin in the Woods", "Don't Breathe (2016)", "The Boy  (2016)"], "groundtruth": ["The Babadook (2014)", "Raw  (2016)"], "output": "SELECT primaryTitle \nFROM title_basics \nWHERE genres LIKE '%Horror%' OR genres LIKE '%Thriller%'\nAND startYear >= 2010 \nAND tconst NOT IN ('tt2243537', 'tt4160708', 'tt0884328')\nORDER BY averageRating DESC, numVotes DESC\nLIMIT 5; ;"}
{"id": 20750, "query": "Romance like The Notebook (2004)", "history": ["Titanic  (1997)"], "groundtruth": ["Safe Haven  (2013)", "The Lucky One  (2012)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Romance%'\nAND startYear >= 2000\nAND startYear <= 2008\nAND primaryTitle != 'The Notebook'\nAND primaryTitle != 'Titanic'\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 20773, "query": "I like comedy movies as Action movies", "history": ["Get Out (2017)", "Click  (2010)"], "groundtruth": ["Spaceballs (1987)", "Home Alone (1990)", "50 First Dates (2004)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Action%'\nAND tb.primaryTitle NOT IN ('Get Out (2017)', 'Click  (2010)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 20774, "query": "I like Action and Comedy movies", "history": ["Get Him to the Greek (2010)", "Get Out (2017)"], "groundtruth": ["Rat Race  (2001)", "Thor: Ragnarok (2017)"], "output": "SELECT primaryTitle, averageRating, genres\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Action%' OR genres LIKE '%Comedy%'\nAND primaryTitle NOT IN ('Get Him to the Greek (2010)', 'Get Out (2017)')\nORDER BY averageRating DESC\nLIMIT 10;"}
{"id": 20782, "query": "mystery or action", "history": ["Black Panther (2018)", "Ant-Man and the Wasp (2018)", "Avengers: Infinity War (2018)", "Deadpool  (2016)"], "groundtruth": ["Deadpool 2  (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%mystery%' OR tb.genres LIKE '%action%'\nAND tb.primaryTitle NOT IN ('Black Panther (2018)', 'Ant-Man and the Wasp (2018)', 'Avengers: Infinity War (2018)', 'Deadpool  (2016)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 20789, "query": "Hi! Do you know of any good comedies?", "history": ["Foul Play  (1977)", "National Lampoon's Vacation (1983)", "National Lampoon's Christmas Vacation (1989)"], "groundtruth": ["Vacation  (2015)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Foul Play  (1977)', \"National Lampoon's Vacation (1983)\", \"National Lampoon's Christmas Vacation (1989)\")\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 20795, "query": "i like all kinds, but lately I have been looking for good action movies.", "history": ["Doctor Strange  (2016)", "Iron Man  (2008)", "Spider-Man  (2002)"], "groundtruth": ["Iron Man 2 (2010)", "Man of Steel  (2013)", "Spider-Man: Homecoming (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Action%'\nAND tb.primaryTitle NOT IN ('Doctor Strange  (2016)', 'Iron Man  (2008)', 'Spider-Man  (2002)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 20810, "query": "I'm looking for horror/thriller movies", "history": ["Winchester (2018)", "The Exorcist  (1973)", "It Follows (2014)", "Friday the 13th  (1980)"], "groundtruth": ["Scream  (1996)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%' OR tb.genres LIKE '%Thriller%'\nAND tb.primaryTitle NOT IN ('Winchester (2018)', 'The Exorcist  (1973)', 'It Follows (2014)', 'Friday the 13th  (1980)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 20811, "query": "I'm looking for small budget horror/thrillers like It Follows (2014) .", "history": ["Killer Clowns from Outer Space (1988)", "It Follows (2014)"], "groundtruth": ["Curse of the Blue Lights (1988)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Horror%' AND genres LIKE '%Thriller%'\nAND startYear > 1980 AND startYear < 2010\nAND runtimeMinutes < 120\nAND averageRating > 6.5\nAND tconst NOT IN ('tt0095444', 'tt3235888');"}
{"id": 20821, "query": "I  like family oriented movies.", "history": ["A Bug's Life (1998)", "101 Dalmatians II: Patch's London Adventure (2003)", "Antz (1998)"], "groundtruth": ["Christmas with the Kranks (2004)", "Elf  (2003)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Family%' \nAND tb.genres LIKE '%Animation%'\nAND tb.startYear >= 1990 \nAND tb.startYear <= 2005 \nAND tb.tconst NOT IN ('tt0120623', 'tt0324941', 'tt0120587')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 20839, "query": "I'm looking for slasher movies", "history": ["Scream  (1996)", "Cabin Fever  (2000)", "The Texas Chainsaw Massacre 2 (1986)"], "groundtruth": ["Leatherface  (2017)", "Jigsaw (2017)", "Saw  (2003)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Slasher%'\nAND tb.primaryTitle NOT IN ('Scream', 'Cabin Fever', 'The Texas Chainsaw Massacre 2')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 20841, "query": "Great, do you have any good comedy suggestions?", "history": ["Beetlejuice (1988)", "Ghostbusters (1984)"], "groundtruth": ["Anchorman "], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb1.genres LIKE '%Comedy%'\nAND tr.averageRating >= 7.5\nAND (tb1.primaryTitle NOT IN ('Beetlejuice (1988)', 'Ghostbusters (1984)'))\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 20847, "query": "Hi. Yes, you are right. I watched Up  (2009) . It's a great moovie. My daughter loved it. Will you recommend me something similar?", "history": ["Up  (2009)", "The Avengers  (2012)"], "groundtruth": ["Annie  (2014)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Animation%' \nAND startYear >= 2009 \nAND averageRating >= 8 \nAND title_basics.tconst NOT IN ('tt1049413', 'tt0848228')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 20855, "query": "I like comedy movies and action movies like Click  (2010) and Black Panther (2018)", "history": ["Click  (2010)", "Black Panther (2018)"], "groundtruth": ["Ant-Man  (2015)", "A Wrinkle in Time ", "Here Comes the Bride, My Mom! (2010)", "Man-Proof (1938)", "What Women Want  (2011)", "Killing Time  (2013)"], "output": "SELECT primaryTitle, startYear, runtimeMinutes, genres\nFROM title_basics\nWHERE genres LIKE '%Comedy%' OR genres LIKE '%Action%'\nAND startYear > 2010\nAND primaryTitle NOT IN ('Click  (2010)', 'Black Panther (2018)')\nORDER BY RAND()\nLIMIT 5;"}
{"id": 20856, "query": "I should watch get out.", "history": ["Up  (2009)", "A Wrinkle in Time ", "Get Out (2017)", "Coco  (2017)"], "groundtruth": ["The Cabin in the Woods", "Man of Steel  (2013)"], "output": "SELECT primaryTitle\nFROM title_basics\nWHERE tconst IN (SELECT tconst FROM title_principals WHERE nconst IN \n    (SELECT nconst FROM title_principals WHERE tconst IN \n        (SELECT tconst FROM title_basics WHERE primaryTitle = 'Get Out')\n    )\n)\nAND titleType = 'movie'\nAND primaryTitle != 'Get Out'\nORDER BY averageRating DESC, numVotes DESC\nLIMIT 5;"}
{"id": 20857, "query": "I can watch scary or romantic.", "history": ["Coco  (2017)", "Click  (2010)"], "groundtruth": ["I Now Pronounce You Chuck & Larry (2007)", "Get Out (2017)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE (tb.genres LIKE '%scary%' OR tb.genres LIKE '%romantic%')\nAND tb.primaryTitle NOT IN ('Coco  (2017)', 'Click  (2010)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 20864, "query": "I like horror movies, what would you recommend?", "history": ["It (1990)", "Scary Movie (2000)", "Get Out (2017)"], "groundtruth": ["The Shining  (1980)", "It  (2017)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Horror%'\nAND tb.primaryTitle NOT IN ('It (1990)', 'Scary Movie (2000)', 'Get Out (2017)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 20866, "query": "I am looking for some good comedies. For the record, I am in no way easily offended, so content isnt an issue.", "history": ["Superbad  (2007)"], "groundtruth": ["Jumanji  (2017)", "Rush Hour "], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb1.titleType = 'movie'\nAND tb1.genres LIKE '%Comedy%'\nAND tr.averageRating >= 7.5\nAND tb1.primaryTitle != 'Superbad'\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 20868, "query": "yes! Both of those as well! I liked Click  (2010) but not You Don't Mess with the Zohan (2008)", "history": ["Click  (2010)", "American Pie  (1999)", "Scary Movie (2000)"], "groundtruth": ["I Now Pronounce You Chuck & Larry (2007)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 2010\nAND tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT LIKE '%You Don\\'t Mess with the Zohan (2008)%'\nAND tr.averageRating > 6\nAND tb.primaryTitle NOT IN ('Click  (2010)', 'American Pie  (1999)', 'Scary Movie (2000)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 20869, "query": "I am great, do you know any good movies similar to Ant-Man  (2015)", "history": ["Ant-Man  (2015)", "Deadpool  (2016)"], "groundtruth": ["Avengers: Infinity War (2018)", "Deadpool 2  (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics AS tb1\nJOIN title_basics AS tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'Ant-Man  (2015)'\nAND tb1.primaryTitle NOT IN ('Ant-Man  (2015)', 'Deadpool  (2016)')\nORDER BY tb1.averageRating DESC\nLIMIT 5;"}
{"id": 20873, "query": "I like comedy and musicals", "history": ["Grease  (1978)", "Dreamgirls  (2006)"], "groundtruth": ["West Side Story  (1961)", "Camelot  (1967)", "Evita  (1996)", "Grease 2 (1982)", "The Greatest Showman (2017)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS average_rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND (tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Musical%')\nAND tb.primaryTitle NOT IN ('Grease', 'Dreamgirls')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 20899, "query": "i like comedy movies like American Pie  (1999) and Scary Movie (2000)", "history": ["American Pie  (1999)", "Scary Movie (2000)"], "groundtruth": ["Jaws  (1975)", "Michael Clayton  (2007)", "The Goonies (1985)"], "output": "SELECT primaryTitle, startYear, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE genres LIKE '%Comedy%' \nAND (primaryTitle <> 'American Pie' OR startYear <> 1999) \nAND (primaryTitle <> 'Scary Movie' OR startYear <> 2000) \nORDER BY averageRating DESC \nLIMIT 10;"}
{"id": 20900, "query": "My favorite movies are about Action", "history": ["Black Panther (2018)", "Michael Clayton  (2007)", "Star Trek  (2009)"], "groundtruth": ["Gladiator  (2000)", "The Score  (1978)"], "output": "```sql\nSELECT tb.primaryTitle AS recommended_movie, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%'\nAND tb.primaryTitle NOT IN ('Black Panther (2018)', 'Michael Clayton  (2007)', 'Star Trek  (2009)')\nORDER BY tr.averageRating DESC\nLIMIT 5;\n```"}
{"id": 20901, "query": "Hello! I am looking for a good family movie.", "history": ["The Karate Kid  (2010)", "I Now Pronounce You Chuck & Larry (2007)", "Ted  (2012)", "The Goonies (1985)"], "groundtruth": ["Frozen (2013)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating \nFROM title_basics tb \nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Family%' \nAND tb.startYear <= 2022 \nAND tr.numVotes >= 1000 \nAND tb.tconst NOT IN ('tt1155076', 'tt0762107', 'tt1637725', 'tt0089218')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 20902, "query": "but I do love comedy", "history": ["Fast & Furious  (2009)", "Coming to America (1988)", "The Ring  (2002)", "The Silence of the Lambs  (1991)"], "groundtruth": ["I Now Pronounce You Chuck & Larry (2007)", "The Cabin", "The Goonies (1985)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Fast & Furious', 'Coming to America', 'The Ring', 'The Silence of the Lambs')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 20903, "query": "I like comedy movies", "history": ["You Don't Mess with the Zohan (2008)", "Click  (2010)"], "groundtruth": ["Joe Maddison's War", "Dancemaker (1998)", "Princess  (2006)", "Airhawk (1981)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' \nAND tb.primaryTitle NOT IN (\"You Don't Mess with the Zohan (2008)\", 'Click  (2010)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 20928, "query": "Musicals, comedy, action", "history": ["Ant-Man  (2015)", "Avengers: Infinity War (2018)", "Dreamgirls  (2006)"], "groundtruth": ["Incredibles 2 (2018)", "Ant-Man and the Wasp (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating, tr.numVotes AS num_votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Musicals%'\n    OR tb.genres LIKE '%Comedy%'\n    OR tb.genres LIKE '%Action%'\n    AND tb.primaryTitle NOT IN ('Ant-Man  (2015)', 'Avengers: Infinity War (2018)', 'Dreamgirls  (2006)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 20936, "query": "I like Action and comedy movies", "history": ["Deadpool  (2016)", "Deadpool 2  (2018)"], "groundtruth": ["Avengers: Infinity War (2018)", "Rush Hour 3 (2007)"], "output": "SELECT primaryTitle, averageRating, genres\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Action%' OR genres LIKE '%Comedy%'\nORDER BY averageRating DESC\nLIMIT 10;"}
{"id": 20945, "query": "I like romantic comedy and older movies.", "history": ["Runaway Bride  (1999)", "Enough  (2002)"], "groundtruth": ["The Bounty Hunter  (2010)"], "output": "SELECT DISTINCT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE (tb.genres LIKE '%Romance%' OR tb.genres LIKE '%Comedy%')\nAND (tb.startYear <= 1999)\nAND tb.tconst NOT IN ('tt0163187', 'tt0283426')\nORDER BY tr.averageRating DESC, tb.startYear DESC\nLIMIT 10;"}
{"id": 20963, "query": "I like Comedy and Action movies", "history": ["Black Panther (2018)", "I Now Pronounce You Chuck & Larry (2007)", "Get Out (2017)"], "groundtruth": ["Jumanji  (2017)"], "output": "SELECT primaryTitle, averageRating, genres\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Comedy%' OR genres LIKE '%Action%'\nAND primaryTitle NOT IN ('Black Panther (2018)', 'I Now Pronounce You Chuck & Larry (2007)', 'Get Out (2017)')\nORDER BY averageRating DESC\nLIMIT 10;"}
{"id": 20964, "query": "I can recommend you Deadpool  (2016) the old one and the new one Deadpool 2  (2018)", "history": ["Deadpool 2  (2018)", "Black Panther (2018)", "The Mask  (1994)", "Deadpool  (2016)", "Click  (2006)"], "groundtruth": ["Fun with Dick and Jane  (2005)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, AVG(tr.averageRating) AS average_rating\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nJOIN title_principals tp ON tb1.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE tb1.titleType = 'movie'\nAND tb1.startYear >= 2010\nAND tb1.genres LIKE '%Action%'\nAND (tb1.primaryTitle = 'Deadpool (2016)' OR tb1.primaryTitle = 'Deadpool 2 (2018)')\nAND tb1.primaryTitle NOT IN ('Deadpool 2 (2018)', 'Black Panther (2018)', 'The Mask (1994)', 'Deadpool (2016)', 'Click (2006)')\nGROUP BY tb1.primaryTitle\nORDER BY average_rating DESC\nLIMIT 5;"}
{"id": 20967, "query": "I like Comedy and action movies", "history": [], "groundtruth": ["The Commuter  (2017)", "Fun with Dick and Jane  (2005)", "Elf  (2003)", "Click  (2006)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Action%'\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 20968, "query": "I also like Comedy movies like Click  (2006)", "history": ["Click  (2010)", "I Now Pronounce You Chuck & Larry (2007)", "Click  (2006)"], "groundtruth": ["Avengers: Infinity War (2018)", "Big Daddy  (1999)"], "output": "SELECT primaryTitle, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Comedy%'\nAND primaryTitle != 'Click  (2006)'\nAND primaryTitle NOT IN ('Click  (2010)', 'I Now Pronounce You Chuck & Larry (2007)', 'Click  (2006)')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 20970, "query": "So, i like Action, comedy and Marvel movies", "history": [], "groundtruth": ["Black Panther (2018)", "The Commuter  (2017)", "Independence Day  (2000)", "Elf  (2003)", "Click  (2010)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' \n   OR tb.genres LIKE '%Comedy%'\n   OR tb.genres LIKE '%Adventure%'\n   OR tb.genres LIKE '%Sci-Fi%'\n   OR tb.genres LIKE '%Fantasy%'\n   OR tb.genres LIKE '%Thriller%'\n   OR tb.genres LIKE '%Animation%'\n   AND tb.primaryTitle NOT IN\n       (SELECT primaryTitle\n        FROM title_basics\n        WHERE genres NOT LIKE '%Action%' \n           AND genres NOT LIKE '%Comedy%' \n           AND genres NOT LIKE '%Adventure%'\n           AND genres NOT LIKE '%Sci-Fi%'\n           AND genres NOT LIKE '%Fantasy%'\n           AND genres NOT LIKE '%Thriller%'\n           AND genres NOT LIKE '%Animation%')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 20971, "query": "I'm into Horror movies like The Texas Chain Saw Massacre (1974)", "history": ["The Texas Chain Saw Massacre (1974)", "Get Out (2017)"], "groundtruth": ["Bonnie and Clyde  (1967)", "The Commuter  (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND tb.startYear < 1990\nAND tr.averageRating > 7\nAND tb.primaryTitle NOT IN ('The Texas Chain Saw Massacre (1974)', 'Get Out (2017)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 20978, "query": "I'm looking for time travel movies like Looper  (2012)", "history": ["Looper  (2012)", "Bill & Ted's Excellent Adventure (1989)", "Back to the Future (1985)"], "groundtruth": ["The Time Machine  (1960)", "Primer  (2004)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Time Travel%'\nAND tb.startYear < 2012\nAND tb.primaryTitle NOT IN ('Looper','Bill & Ted\\'s Excellent Adventure','Back to the Future')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 20985, "query": "Do you know of any interesting documentaries?", "history": ["Making a Murderer", "Super Size Me (2004)"], "groundtruth": ["Food, Inc. (2008)"], "output": "SELECT primaryTitle, averageRating\nFROM title_basics\nJOIN title_ratings\nON title_basics.tconst = title_ratings.tconst\nWHERE titleType = 'documentary'\nAND primaryTitle NOT IN ('Making a Murderer', 'Super Size Me (2004)')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 20995, "query": "Do you know of any family friendly movies?", "history": ["Peter Rabbit (2018)", "Finding Nemo (2003)", "Finding Dory (2016)"], "groundtruth": ["Black Panther (2018)"], "output": "SELECT tb.primaryTitle\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Family%'\nAND tr.averageRating >= 7\nAND tb.primaryTitle NOT IN ('Peter Rabbit (2018)', 'Finding Nemo (2003)', 'Finding Dory (2016)')\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 21006, "query": "i like horror, Rom. Coms, and thrillers", "history": ["Halloween  (2007)", "Avengers: Infinity War (2018)", "Saw  (2004)"], "groundtruth": ["It  (2017)"], "output": "```sql\nSELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Horror%'\nAND tb.genres LIKE '%Rom. Com%'\nAND tb.genres LIKE '%Thriller%'\nAND tb.primaryTitle NOT IN ('Halloween (2007)', 'Avengers: Infinity War (2018)', 'Saw (2004)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;\n```"}
{"id": 21015, "query": "Sometime i like watching Comedy movies, what would you recommend?", "history": ["The Texas Chain Saw Massacre (1974)", "Black Panther (2018)", "Wish Upon (2017)"], "groundtruth": ["Life of the Party  (2018)", "The Avengers  (2012)", "Rampage (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nINNER JOIN title_basics tb2 ON tb1.genres LIKE '%Comedy%' AND tb1.tconst != tb2.tconst\nWHERE tb2.primaryTitle IN ('The Texas Chain Saw Massacre (1974)', 'Black Panther (2018)', 'Wish Upon (2017)')\nGROUP BY tb1.tconst\nORDER BY COUNT(tb1.tconst) DESC\nLIMIT 5;"}
{"id": 21022, "query": "Do you have some movie reccomendations", "history": ["The Lord of the Rings  (1978)", "Scarface  (1983)"], "groundtruth": ["Seven  (1995)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres IN (SELECT genres FROM title_basics WHERE primaryTitle IN ('The Lord of the Rings  (1978)', 'Scarface  (1983)'))\nAND tb.primaryTitle NOT IN ('The Lord of the Rings  (1978)', 'Scarface  (1983)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21026, "query": "I like scary movies", "history": [], "groundtruth": ["The Cabin in the Woods"], "output": "SELECT tb.primaryTitle AS Recommended_Movie\nFROM title_basics tb\nWHERE tb.genres LIKE '%Horror%'\nORDER BY tb.averageRating DESC\nLIMIT 5;"}
{"id": 21029, "query": "Do you have any crime good crime movies", "history": [], "groundtruth": ["True Lies (1994)", "Ronin  (1998)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating AS rating, tr.numVotes AS num_votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Crime%'\nAND tb.titleType = 'movie'\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 21031, "query": "do you have some good movies to recommend", "history": ["James Bond  (2015)", "Apocalypto (2006)"], "groundtruth": ["Casino Royale  (2006)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear AS release_year, tr.averageRating AS rating\nFROM title_basics AS tb1\nJOIN title_ratings AS tr ON tb1.tconst = tr.tconst\nJOIN title_basics AS tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle IN ('James Bond (2015)', 'Apocalypto (2006)')\nAND tb1.titleType = 'movie'\nAND tb1.averageRating >= 8\nORDER BY tr.averageRating DESC, tb1.startYear DESC\nLIMIT 10;"}
{"id": 21035, "query": "I looking for good drama movies", "history": ["The Untouchables  (1987)", "The Pianist  (2002)", "Whiplash  (2014)"], "groundtruth": ["Dunkirk  (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Drama%' \nAND tb.primaryTitle NOT IN ('The Untouchables', 'The Pianist', 'Whiplash')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21041, "query": "Hello looking for a great movie to watch with my boyfriend tonight", "history": ["Jumanji  (2017)", "Baywatch  (2017)", "Rampage (2018)"], "groundtruth": ["Oldboy  (2003)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 2017\nAND tb.genres LIKE '%Romance%'\nAND tr.averageRating >= 7\nAND tb.primaryTitle NOT IN ('Jumanji (2017)', 'Baywatch (2017)', 'Rampage (2018)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21042, "query": "I am looking for some new movie suggestions.  Do you have any?", "history": ["The Boss  (2016)", "Fifty Shades of Grey  (2015)"], "groundtruth": ["Life of the Party  (2018)", "Rampage (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 2017\nAND tb.genres LIKE '%Drama%'\nAND tr.averageRating > 7\nAND tb.primaryTitle NOT IN ('The Boss  (2016)', 'Fifty Shades of Grey  (2015)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21043, "query": "Hello Im so bored can you suggest a movie for me?", "history": ["Game Night (2018)", "The Boss  (2016)"], "groundtruth": ["Blockers (2018)"], "output": "SELECT primaryTitle, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE titleType = 'movie'\nAND startYear >= 2010\nAND genres LIKE '%Comedy%'\nAND primaryTitle NOT IN ('Game Night', 'The Boss')\nORDER BY averageRating DESC\nLIMIT 1;"}
{"id": 21048, "query": "maybe you sould watch La La Land  (2016) ", "history": ["Notebook  (2006)"], "groundtruth": ["Game Night (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Musical%'\nAND tb.startYear >= 2010\nAND tb.startYear <= 2020\nAND tb.primaryTitle != 'La La Land'\nAND tb.primaryTitle NOT IN ('Notebook')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21049, "query": "I  am looking for good romance movie.", "history": ["Hangover (2010)", "Yes  (2004)"], "groundtruth": ["Life of the Party  (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Romance%'\nAND tb.primaryTitle NOT IN ('Hangover (2010)', 'Yes  (2004)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21050, "query": "I like Hangover (2010) type movies", "history": ["The Commuter  (2017)"], "groundtruth": ["Overboard (2018)"], "output": "SELECT primaryTitle \nFROM title_basics \nWHERE genres LIKE '%Comedy%' \nAND startYear >= 2010 \nAND startYear <= 2020 \nAND primaryTitle != 'The Commuter (2017)'\nORDER BY numVotes DESC \nLIMIT 5;"}
{"id": 21051, "query": "I have not seen it. I like mystery movies", "history": [], "groundtruth": ["Inception (2010)", "The Dark Knight Rises (2012)", "Die Hard (1988)", "Lethal Weapon (1987)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Mystery%'\nAND tr.averageRating >= 7\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 21059, "query": "have you seen good drama movie lately?", "history": ["Die Hard (1988)", "Deadpool  (2016)", "The Terminator (1984)"], "groundtruth": ["Deadpool 2  (2018)"], "output": "SELECT primaryTitle, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE genres LIKE '%Drama%' \nAND startYear > 2010 \nAND averageRating > 7 \nAND primaryTitle NOT IN ('Die Hard (1988)', 'Deadpool  (2016)', 'The Terminator (1984)') \nORDER BY averageRating DESC \nLIMIT 5;"}
{"id": 21060, "query": "i need one good action movie too!", "history": [], "groundtruth": ["Incredibles 2 (2018)", "Peter Rabbit (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Action%'\nAND tr.averageRating >= 7\nORDER BY tr.averageRating DESC\nLIMIT 1;"}
{"id": 21075, "query": "I especially like family films like Frozen (2013)", "history": ["Jurassic Park", "The Dawns Here Are Quiet (1972)", "Jurassic Park III (2001)", "Jumanji  (2017)"], "groundtruth": ["The Waterboy (1998)", "Black Panther (2018)", "The Commuter  (2017)", "Vacation  (2015)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Family%' \nAND tb.startYear >= 2010 \nAND tb.tconst NOT IN ('tt0107290', 'tt0068713', 'tt0163025', 'tt2283362') \nORDER BY tr.averageRating DESC \nLIMIT 10;"}
{"id": 21076, "query": "Can you recommend me fun movies ?", "history": ["Hollow  (2014)", "A Walk in the Clouds (1995)", "The Little Mermaid  (1989)", "Hercules  (1997)"], "groundtruth": ["Am\u00e9lie (2001)", "Spaceballs (1987)", "The Hundred-Foot Journey  (2014)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Adventure%' OR tb.genres LIKE '%Animation%'\nAND tb.startYear <= 2022\nAND tb.primaryTitle NOT IN ('Hollow  (2014)', 'A Walk in the Clouds (1995)', 'The Little Mermaid  (1989)', 'Hercules  (1997)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21078, "query": "I like action and comedy", "history": ["Coming Home  (2012)", "Mermaid  (2000)", "Black Panther (2018)", "Jumanji  (2017)", "Train Ride (2005)"], "groundtruth": ["Elf  (2003)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE (tb.genres LIKE '%Action%' OR tb.genres LIKE '%Comedy%')\nAND tb.primaryTitle NOT IN ('Coming Home  (2012)', 'Mermaid  (2000)', 'Black Panther (2018)', 'Jumanji  (2017)', 'Train Ride (2005)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21079, "query": "I can even watch Coming Home  (2012)", "history": ["Jumanji  (2017)", "Rampage (2018)"], "groundtruth": ["Ever After (1998)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'Coming Home')\nAND startYear >= 2010\nAND startYear <= 2012\nAND averageRating > 7\nAND primaryTitle NOT IN ('Coming Home', 'Jumanji', 'Rampage')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 21089, "query": "What should I watch? Well I am into science and comedy.", "history": ["Rush Hour  (1998)", "Men in Black  (1997)", "The Avengers  (2012)"], "groundtruth": ["Rampage (2018)"], "output": "SELECT primaryTitle \nFROM title_basics \nWHERE genres LIKE '%Science%' \n    AND genres LIKE '%Comedy%' \n    AND tconst NOT IN ('tt0119282', 'tt0119654', 'tt0848228')\nORDER BY averageRating DESC, numVotes DESC\nLIMIT 5;"}
{"id": 21116, "query": "Hey, I'm looking for horror/thriller movies from 2016 or 2017", "history": ["Zodiac  (2007)", "Murder on the Orient Express (2017)"], "groundtruth": ["Seven  (1995)", "The Girl with the Dragon Tattoo  (2011)", "Identity  (2003)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND (tb.startYear = 2016 OR tb.startYear = 2017)\nAND tb.genres LIKE '%Horror%'\nOR tb.genres LIKE '%Thriller%'\nAND tb.primaryTitle NOT IN ('Zodiac', 'Murder on the Orient Express')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21117, "query": "Hi can you please recommend a detective moovie?", "history": ["Memento  (2000)", "Clue  (1985)", "It  (2017)"], "groundtruth": ["The Ring  (2002)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Mystery%' OR tb.genres LIKE '%Crime%'\nAND tb.titleType = 'movie'\nAND tb.primaryTitle NOT IN ('Memento', 'Clue', 'It')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21118, "query": "Hi, can you recommend me mystery? I liked Memento  (2000)", "history": ["She's All That (1999)"], "groundtruth": ["Big Fat Liar (2002)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres\nFROM title_basics tb\nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Mystery%'\nAND tb.startYear >= 2000\nAND tb.tconst NOT IN ('tt0209144')  -- Exclude \"Memento\"\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21120, "query": "How about a comedy.", "history": ["The Lord of the Rings: The Fellowship of the Ring (2001)"], "groundtruth": ["Harry Potter and the Chamber of Secrets  (2002)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Comedy%' \nAND tb.tconst NOT IN \n    (SELECT DISTINCT tp.tconst \n     FROM title_principals tp \n     JOIN name_basics nb ON tp.nconst = nb.nconst \n     WHERE nb.primaryName = 'The Lord of the Rings: The Fellowship of the Ring (2001)') \nORDER BY tr.numVotes DESC \nLIMIT 10;"}
{"id": 21123, "query": "how about action like Avengers: Infinity War (2018)", "history": ["Blade  (1998)", "Justice League  (2017)", "Thor: Ragnarok (2017)"], "groundtruth": ["Highlander  (1986)"], "output": "SELECT \n    tb.tconst AS movie_id,\n    tb.primaryTitle AS movie_title,\n    tb.startYear AS release_year,\n    tb.genres,\n    tr.averageRating AS rating,\n    tr.numVotes AS num_votes\nFROM \n    title_basics tb\nJOIN \n    title_ratings tr ON tb.tconst = tr.tconst\nWHERE \n    tb.genres LIKE '%Action%' \n    AND tb.startYear > 2017 \n    AND tb.tconst NOT IN ('tt0120616', 'tt0974015', 'tt3501632') \nORDER BY \n    tr.averageRating DESC,\n    tr.numVotes DESC\nLIMIT 5;"}
{"id": 21124, "query": "How about action like Black Panther (2018)", "history": [], "groundtruth": ["The Odd Couple  (1968)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS movie_year, tb.genres AS movie_genres, tr.averageRating AS movie_rating\nFROM title_basics AS tb\nJOIN title_ratings AS tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' AND tb.startYear = 2018\nAND tb.tconst NOT IN ('tt1825683') -- Exclude Black Panther\nORDER BY tr.averageRating DESC, tb.startYear DESC\nLIMIT 5;"}
{"id": 21125, "query": "Looking for a funny one!", "history": ["La La Land  (2016)", "Hairspray  (2007)", "Dreamgirls  (2006)"], "groundtruth": ["Rent  (2005)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Comedy%'\nAND tb.startYear >= 2000\nAND tb.tconst NOT IN ('tt3783958', 'tt0427327', 'tt0443489') -- exclude user's historical preferences\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21141, "query": "How about a comedy?", "history": ["Pain & Gain (2013)", "Faster  (2010)", "Deepwater Horizon  (2016)", "Deadpool  (2016)"], "groundtruth": ["Rush Hour  (1998)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Pain & Gain (2013)', 'Faster  (2010)', 'Deepwater Horizon  (2016)', 'Deadpool  (2016)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21142, "query": "Hi, what kind of action movies can you recommend? I like things like Faster  (2010)", "history": ["Hitch  (2005)", "27 Dresses (2008)", "Maid in Manhattan"], "groundtruth": ["10 Things I Hate About You (1999)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%'\nAND tb.startYear >= 2010\nAND tb.averageRating >= 7\nAND (\n    tb.primaryTitle IN (\n        'Hitch  (2005)', '27 Dresses (2008)', 'Maid in Manhattan'\n    ) OR tb.genres LIKE '%Romance%'\n)\nAND tb.primaryTitle != 'Faster (2010)'\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 21150, "query": "What can you suggest for a romantic comedy?", "history": ["Fast Times at Ridgemont High", "The Breakfast Club (1985)", "Avengers: Infinity War (2018)"], "groundtruth": ["Ghostbusters (1984)", "Footloose  (1984)"], "output": "SELECT primaryTitle \nFROM title_basics \nWHERE genres LIKE '%Romance%' AND genres LIKE '%Comedy%' \nAND tconst NOT IN ('tt0083929', 'tt0088847', 'tt4154756') \nORDER BY averageRating DESC, numVotes DESC \nLIMIT 5;"}
{"id": 21165, "query": "You would probably like The Hangover (2009)", "history": ["Mean Girls (2004)"], "groundtruth": ["Life of the Party  (2018)"], "output": "SELECT tb.primaryTitle AS Recommended_Movie, tb.startYear AS Release_Year, tb.runtimeMinutes AS Runtime, tb.genres AS Genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie' \nAND tb.startYear >= 2000 \nAND tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle != 'The Hangover'\nAND tb.primaryTitle NOT IN ('Mean Girls (2004)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 3;"}
{"id": 21180, "query": "I would love to watch an action movie. Do you have any suggestions?", "history": ["Game Night (2018)", "Girls Trip (2017)"], "groundtruth": ["The Hangover (2009)", "Hangover  (2014)"], "output": "SELECT primaryTitle, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Action%'\nAND primaryTitle NOT IN ('Game Night (2018)', 'Girls Trip (2017)')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 21185, "query": "I love stoner movies, so Pineapple Express  (2008) is a good movie and How High (2001)  do you have any recommendations?", "history": ["The Incredibles (2004)", "Wreck-It Ralph (2012)"], "groundtruth": ["Peter Rabbit (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' AND tb.genres LIKE '%Stoner%'\nAND tb.startYear < 2008\nAND tr.averageRating > 7\nAND tb.primaryTitle NOT IN ('Pineapple Express', 'How High', 'The Incredibles', 'Wreck-It Ralph')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21191, "query": "Hi. Can you please recommend a good action movie. Something similar to The Matrix (1999)", "history": ["The Matrix (1999)", "John Wick (2014)"], "groundtruth": ["The Matrix Revolutions (2003)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%'\nAND tb.tconst != 'tt0133093' -- excluding The Matrix (1999)\nAND (tb.primaryTitle != 'John Wick (2014)' OR tb.startYear != 2014)\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21195, "query": "I love animation movies, would you recommend any?", "history": ["Ant-Man  (2015)", "Deadpool 2  (2018)", "Black Panther (2018)", "The Avengers  (2012)", "Avengers: Infinity War (2018)", "Deadpool  (2016)"], "groundtruth": ["Incredibles 2 (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Animation%' \nAND tb.startYear >= 2010 \nAND tb.tconst NOT IN ('tt0478970', 'tt5463162', 'tt1825683', 'tt4154756', 'tt4154796', 'tt1431045', 'tt5463162', 'tt4154746', 'tt4154664') \nORDER BY tr.averageRating DESC;"}
{"id": 21197, "query": "I want to see Ant-Man and the Wasp (2018)", "history": ["Black Panther (2018)", "The Incredibles (2004)", "Game Night (2018)", "Girls Trip (2017)"], "groundtruth": ["Incredibles 2 (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 2017\nAND tb.genres IN (SELECT genres FROM title_basics WHERE primaryTitle = 'Ant-Man and the Wasp')\nAND tb.tconst NOT IN ('tt1825683', 'tt3606756', 'tt4881806', 'tt6781982') \nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21198, "query": "I like comedy Game Night (2018)", "history": ["Zootopia", "The Incredibles (2004)", "Wreck-It Ralph (2012)"], "groundtruth": ["Peter Rabbit (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres LIKE CONCAT('%', tb2.genres, '%')\nWHERE tb2.primaryTitle = 'Game Night'\nAND tb2.startYear = 2018\nAND tb1.titleType = 'movie'\nAND tb1.genres LIKE '%Comedy'\nAND tb1.primaryTitle NOT IN ('Zootopia', 'The Incredibles', 'Wreck-It Ralph')\nGROUP BY tb1.primaryTitle\nORDER BY COUNT(tb1.primaryTitle) DESC\nLIMIT 5;"}
{"id": 21199, "query": "I love movies like Zootopia  The Incredibles (2004) and Wreck-It Ralph (2012) - what would you recommend?", "history": ["Pineapple Express  (2008)", "Girls Trip (2017)", "Game Night (2018)", "How High (2001)"], "groundtruth": ["Blockers (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle IN ('Zootopia', 'The Incredibles', 'Wreck-It Ralph')\nAND tb1.primaryTitle NOT IN ('Zootopia', 'The Incredibles', 'Wreck-It Ralph', 'Pineapple Express', 'Girls Trip', 'Game Night', 'How High')\nGROUP BY recommended_movie\nORDER BY COUNT(tb1.primaryTitle) DESC\nLIMIT 5;"}
{"id": 21204, "query": "I love movies like Black Panther (2018)  Guardians of the Galaxy  (2014)  and Guardians of the Galaxy Vol. 2 (2017) and The Avengers  (2012)  - what would you recommend?", "history": ["Game Night (2018)", "Think Like a Man Too (2014)", "Girls Trip (2017)", "The Hangover (2009)", "Bridesmaids  (2011)"], "groundtruth": ["Avengers: Infinity War (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' OR tb.genres LIKE '%Adventure%'\nAND tb.startYear > 2012\nAND tb.endYear IS NULL\nAND tb.tconst NOT IN ('tt1825683', 'tt2015381', 'tt3896198', 'tt0848228')  -- Excluding user's historical preferences\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21205, "query": "Do you know any good comedies like Girls Trip (2017) or Game Night (2018)", "history": ["Titanic  (1997)", "Casino  (1995)", "The Godfather (1972)", "Godfather  (1991)"], "groundtruth": ["The Fault in Our Stars  (2014)", "Goodfellas (1990)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear\nFROM title_basics AS tb1\nJOIN title_ratings AS tr1 ON tb1.tconst = tr1.tconst\nJOIN title_principals AS tp1 ON tb1.tconst = tp1.tconst\nJOIN name_basics AS nb1 ON tp1.nconst = nb1.nconst\nWHERE tb1.genres LIKE '%Comedy%'\nAND tb1.startYear >= 2010\nAND (tb1.primaryTitle != 'Girls Trip' OR tb1.primaryTitle != 'Game Night')\nAND (tb1.primaryTitle NOT IN ('Titanic', 'Casino', 'The Godfather', 'Godfather'))\nGROUP BY tb1.primaryTitle\nORDER BY tr1.averageRating DESC, tr1.numVotes DESC\nLIMIT 5;"}
{"id": 21220, "query": "Hi. Could you please recommend me a movie with happy ending? Something simmilat to Waiting for Forever (2010)", "history": ["Jumanji  (2017)", "Baywatch  (2017)", "Rampage (2018)"], "groundtruth": ["The Commuter  (2017)"], "output": "SELECT tb.primaryTitle \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Romance%' \nAND tr.averageRating > 7 \nAND (tb.primaryTitle != 'Waiting for Forever' OR tb.startYear != 2010) \nAND tb.primaryTitle NOT IN ('Jumanji', 'Baywatch', 'Rampage') \nORDER BY tr.averageRating DESC \nLIMIT 1;"}
{"id": 21225, "query": "Have you seen any good animated movies like The Boss Baby (2017)", "history": ["Casino  (1995)", "Training Day (2001)", "Scarface  (1983)", "Goodfellas (1990)"], "groundtruth": ["Inside Man (2006)"], "output": "SELECT tb.primaryTitle\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Animation%'\nAND tb.startYear > 2010\nAND tr.averageRating > 7\nAND tb.primaryTitle != 'The Boss Baby'\nAND tb.primaryTitle NOT IN ('Casino', 'Training Day', 'Scarface', 'Goodfellas')\nLIMIT 5;"}
{"id": 21229, "query": "Looking for a good romantic movie", "history": ["The Avengers  (2012)"], "groundtruth": ["Guardians of the Galaxy Vol. 2 (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Romance%' \nAND tb.startYear < 2023 \nAND tr.averageRating >= 7 \nAND tb.primaryTitle NOT IN ('The Avengers (2012)') \nORDER BY tr.averageRating DESC, tb.startYear DESC\nLIMIT 10;"}
{"id": 21239, "query": "I'm looking for something scary, like Saw  (2004)", "history": ["The Shawshank Redemption (1994)", "Mr. Holland's Opus (1995)"], "groundtruth": ["What About Bob%3F (1991)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Horror%' \nAND tb.startYear = 2004 \nAND tb.primaryTitle != 'Saw' \nAND tb.primaryTitle NOT IN ('The Shawshank Redemption (1994)', \"Mr. Holland's Opus (1995)\") \nORDER BY tr.averageRating DESC;"}
{"id": 21249, "query": "I'm looking for something like Rain Man (1988)", "history": ["The Break-Up (2006)", "Love Happens", "Friends  (1993)"], "groundtruth": ["Horrible Bosses (2011)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE tb.genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'Rain Man' AND startYear = 1988)\nAND tb.primaryTitle NOT IN ('Rain Man', 'The Break-Up (2006)', 'Love Happens', 'Friends  (1993)')\nAND nb.primaryName = 'Dustin Hoffman'\nAND tr.averageRating >= 7\nAND tb.startYear <= 1988\nORDER BY tr.averageRating DESC, tb.startYear ASC\nLIMIT 5;"}
{"id": 21269, "query": "I love animated films like The Secret Life of Pets (2016) and Moana  (2016)", "history": ["Taxi Driver (1976)", "The Curious Case of Benjamin Button  (2008)", "Cruel Intentions (1999)", "Mr. & Mrs. Smith  (2005)", "Fight Club (1999)", "The Mask  (1994)", "Troy  (2004)"], "groundtruth": ["Fury  (2014)", "Inglourious Basterds (2009)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Animation%'\nAND tb.startYear >= 2016\nAND tb.primaryTitle NOT IN ('The Secret Life of Pets', 'Moana', 'Taxi Driver', 'The Curious Case of Benjamin Button', 'Cruel Intentions', 'Mr. & Mrs. Smith', 'Fight Club', 'The Mask', 'Troy')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21300, "query": "I will watch The Big Sick (2017), not a fan of Charlize though so will pass on Tully  . I like anything like American Pie  (1999).", "history": ["The Shawshank Redemption (1994)", "Chasing Amy (1997)"], "groundtruth": ["Good Will Hunting (1997)", "Lady Bird  (2017)", "Despicable Me (2010)"], "output": "SELECT tb.primaryTitle AS recommended_movie, \n       tb.startYear AS release_year, \n       tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.startYear >= 1995\nAND tb.startYear <= 2005\nAND tb.primaryTitle NOT IN ('The Big Sick', 'Tully', 'The Shawshank Redemption', 'Chasing Amy')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21304, "query": "Hi. How are you? I feel like watching a good drama today. Do you have any suggestions? My favorite is The Shawshank Redemption (1994)", "history": ["She's All That (1999)", "The Ring  (2002)", "A Walk to Remember (2002)"], "groundtruth": ["Saw  (2004)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Drama%'\nAND tb.primaryTitle != 'The Shawshank Redemption'\nAND tb.startYear <= 1994\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21313, "query": "I am looking for some comedies I've never seen before.", "history": ["Killer Clowns from Outer Space (1988)", "Tucker & Dale vs. Evil (2010)", "Shaun of the Dead (2004)", "A Nightmare on Elm Street (1984)"], "groundtruth": ["Dead Before Dawn (2012)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Killer Clowns from Outer Space (1988)', 'Tucker & Dale vs. Evil (2010)', 'Shaun of the Dead (2004)', 'A Nightmare on Elm Street (1984)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21330, "query": "I love The Lord of the Rings: The Return of the King (2003) , what can you recommend?", "history": ["John Q. (2002)"], "groundtruth": ["Remember the Titans (2000)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Adventure%' \nAND tb.startYear >= 2000\nAND tb.endYear IS NULL\nAND tr.averageRating >= 8\nAND tb.tconst NOT IN ('tt0167260') \nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 21339, "query": "I am looking for a movie starring Sandra Bullock. Do you know of any good ones?", "history": ["The Matrix (1999)", "Total Recall  (1990)"], "groundtruth": ["The Maze Runner  (2014)"], "output": "SELECT tb.primaryTitle \nFROM title_basics tb \nJOIN title_principals tp ON tb.tconst = tp.tconst \nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE nb.primaryName = 'Sandra Bullock' \nAND tb.titleType = 'movie' \nAND tb.averageRating > 7.5 \nAND tb.startYear > 1990 \nAND tb.genres LIKE '%Drama%' \nAND tb.primaryTitle NOT IN ('The Matrix (1999)', 'Total Recall  (1990)')\nORDER BY tb.averageRating DESC, tb.startYear ASC\nLIMIT 5;"}
{"id": 21340, "query": "I am a huge fan of sci-fi? Got any good recommendations?", "history": ["28 Days Later (2002)", "The Matrix (1999)"], "groundtruth": ["Event Horizon  (1997)", "A Tale of Two Sisters (2003)", "Contagion  (2011)"], "output": "SELECT tb.tconst, tb.primaryTitle, tr.averageRating, tr.numVotes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Sci-Fi%'\nAND tb.tconst NOT IN ('tt0289043', 'tt0133093')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21347, "query": "I love a good Adam Sandler movie. Got any recommendations?", "history": ["Jurassic Park", "Jaws  (1975)", "Jurassic Park  (1993)"], "groundtruth": ["E.T. the Extra-Terrestrial (1982)", "Ready Player One  (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN name_basics nb ON tb.tconst = nb.knownForTitles\nWHERE tb.titleType = 'movie'\nAND nb.primaryName = 'Adam Sandler'\nAND tr.averageRating >= 7\nAND tb.primaryTitle NOT IN ('Jurassic Park', 'Jaws', 'Jurassic Park  (1993)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21348, "query": "Excellent! Do you know of any good movies directed by Steven Spielberg?", "history": ["Jeepers Creepers  (2001)", "Scream  (1996)", "Saw  (2004)", "I Know What You Did Last Summer (1997)"], "groundtruth": ["Jigsaw (2017)"], "output": "SELECT tb.primaryTitle, tr.averageRating\nFROM title_basics tb\nJOIN title_crew tc ON tb.tconst = tc.tconst\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tc.directors LIKE '%Steven Spielberg%'\nAND tb.titleType = 'movie'\nAND tb.startYear <= 2022\nAND tr.numVotes >= 1000\nAND tb.primaryTitle NOT IN ('Jeepers Creepers  (2001)', 'Scream  (1996)', 'Saw  (2004)', 'I Know What You Did Last Summer (1997)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21352, "query": "I really enjoy scary movies but haven't seen a good one in a while. Know of any?", "history": ["Avengers: Infinity War (2018)", "Planet of the Apes  (1968)"], "groundtruth": ["War for the Planet of the Apes (2017)", "Dawn of the Planet of the Apes (2014)", "Rise of the Planet of the Apes (2011)"], "output": "SELECT primaryTitle, averageRating\nFROM title_basics \nINNER JOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Horror%' \nAND title_basics.startYear > 2010 \nAND title_basics.primaryTitle NOT IN ('Avengers: Infinity War (2018)', 'Planet of the Apes  (1968)')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 21355, "query": "Can you recommend anything non-ape related?", "history": ["High School Musical 2", "High School Musical 3: Senior Year (2008)", "Where the Red Fern Grows  (1974)", "High School Musical "], "groundtruth": ["Dream House  (2011)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics AS tb\nWHERE tb.titleType = 'movie'\nAND tb.genres NOT LIKE '%ape%'\nAND tb.primaryTitle NOT IN ('High School Musical 2', 'High School Musical 3: Senior Year (2008)', 'Where the Red Fern Grows  (1974)', 'High School Musical ')\nORDER BY tb.startYear DESC\nLIMIT 5;"}
{"id": 21358, "query": "Can you think of anything like The Evil Dead (1981) ?", "history": ["City of Angels ", "Dumb and Dumber (1994)", "Pretty Woman (1990)"], "groundtruth": ["Sleepless in Seattle (1993)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres IN \n    (SELECT genres \n     FROM title_basics \n     WHERE primaryTitle = 'The Evil Dead' AND startYear = 1981)\nAND tb.primaryTitle NOT IN ('City of Angels', 'Dumb and Dumber', 'Pretty Woman')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21359, "query": "I would really like to find a comedy from the 90s! Can you recommend anything?", "history": ["I Saw the Devil (2010)", "Shutter Island  (2010)", "The Sixth Sense (1999)", "Gone Girl  (2014)"], "groundtruth": ["Girls Trip (2017)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics AS tb1\nJOIN title_ratings AS tr ON tb1.tconst = tr.tconst\nWHERE tb1.genres LIKE '%Comedy%'\nAND tb1.startYear >= 1990\nAND tb1.startYear < 2000\nAND tr.averageRating >= 7\nAND tb1.tconst NOT IN ('tt1314652', 'tt1130884', 'tt0167404', 'tt2267998')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21361, "query": "I love Lost  (2004) , can you think of more sci-fi?", "history": [], "groundtruth": ["Deadpool 2  (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear AS release_year, tb1.genres AS genre\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'Lost'\nAND tb2.startYear = 2004\nAND tb1.titleType = 'movie'\nAND tb1.genres LIKE '%Sci-Fi%'\nAND tb1.primaryTitle != 'Lost'\nLIMIT 5;"}
{"id": 21366, "query": "I'm fine thanks! Can you recommend any good Tom Hanks movies?", "history": ["Saving Private Ryan (1998)", "Training Day (2001)", "Avengers: Infinity War (2018)"], "groundtruth": ["Heat  (1996)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_crew tc ON tb1.tconst = tc.tconst\nJOIN name_basics nb ON tc.directors LIKE CONCAT('%', nb.nconst, '%')\nWHERE nb.primaryName = 'Tom Hanks'\nAND tb1.titleType = 'movie'\nAND tb1.startYear <= 2018\nAND tb1.averageRating >= 8\nAND tb1.tconst NOT IN ('tt0120815', 'tt0139654', 'tt4154756')\nORDER BY tb1.averageRating DESC\nLIMIT 5;"}
{"id": 21367, "query": "my favorite movie is Training Day (2001) i love thrillers with action", "history": ["The Matrix (1999)", "Avengers: Infinity War (2018)"], "groundtruth": ["Fargo  (1996)", "Sling Blade (1996)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Thriller%' AND genres LIKE '%Action%'\nAND startYear > 2001\nAND startYear < 2022\nAND title_basics.tconst NOT IN ('tt0139654', 'tt4154756')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 21376, "query": "What movie is good to see for fans of The Matrix (1999)", "history": ["Room  (2015)", "The Commuter  (2017)", "Taken  (2008)"], "groundtruth": ["The Grey  (2011)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE nb.primaryName = 'Keanu Reeves'\nAND tb.startYear <= 1999\nAND tb.titleType = 'movie'\nAND tr.averageRating >= 7\nAND tb.tconst NOT IN ('tt0465234', 'tt2015381', 'tt0088247')  -- Exclude 'Room', 'The Commuter', 'Taken'\nGROUP BY tb.primaryTitle\nORDER BY tr.averageRating DESC\nLIMIT 1;"}
{"id": 21379, "query": "Can you tell me any black and white romance classics I can watch this weekend?", "history": ["Talladega Nights: The Ballad of Ricky Bobby (2006)", "Game Night (2018)"], "groundtruth": ["Waterworld (1995)", "The Postman  (1997)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear < 1960\nAND tb.genres LIKE '%Romance%'\nAND tb.genres NOT LIKE '%Action%'\nAND tb.genres NOT LIKE '%Thriller%'\nAND tb.genres NOT LIKE '%Horror%'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21382, "query": "I love Nocturnal Animals  (2016) , what else should I see?", "history": ["Little Nicky (2000)", "Superbad  (2007)", "The 40-Year-Old Virgin (2005)"], "groundtruth": ["Deadpool 2  (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Thriller%' \nAND tb.startYear >= 2000 \nAND tb.startYear <= 2016 \nAND tr.averageRating >= 7\nAND (tb.primaryTitle != 'Nocturnal Animals' OR tb.startYear != 2016)\nAND tb.primaryTitle NOT IN ('Little Nicky', 'Superbad', 'The 40-Year-Old Virgin')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21384, "query": "I can't wait to see Deadpool 2  (2018) , how about one I can rent?", "history": ["The Sixth Sense (1999)", "Oldboy  (2003)"], "groundtruth": ["Gone Girl  (2014)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE title_basics.titleType = 'movie'\nAND title_basics.startYear <= 2018\nAND title_basics.genres LIKE '%Action%'\nAND title_basics.tconst NOT IN ('tt3896198')  -- Exclude Deadpool 2\nAND title_basics.tconst NOT IN ('tt0167404', 'tt0364569')  -- Exclude user's historical preferences\nORDER BY averageRating DESC\nLIMIT 1;"}
{"id": 21387, "query": "I love The Silence of the Hams (1994) , what can you recommend?", "history": ["The Incredibles (2004)", "Isle Of Dogs (2018)", "Despicable Me 2 (2013)"], "groundtruth": ["Mulan (1998)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' \nAND tb.startYear BETWEEN 1990 AND 2000\nAND tb.primaryTitle != 'The Silence of the Hams'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21388, "query": "I am looking for a kids movie for my son what do you suggest?", "history": ["Love Actually (2003)"], "groundtruth": ["Twins  (1988)", "Rocky V (1990)", "Rambo  (2012)", "Rambo III (1988)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Kids%'\nAND tb.startYear <= 2022\nAND tr.averageRating >= 7\nAND tb.primaryTitle NOT IN ('Love Actually (2003)')\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 21396, "query": "Hiya. I like rom-com movies. Can you recommend any?", "history": ["The Goonies (1985)", "Pirates of the Caribbean "], "groundtruth": ["In the Heart of the Sea  (2015)", "Cast Away (2000)"], "output": "SELECT tb.primaryTitle \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Romance%' \nAND tb.genres LIKE '%Comedy%' \nAND tb.primaryTitle NOT IN ('The Goonies (1985)', 'Pirates of the Caribbean ') \nORDER BY tr.averageRating DESC, tr.numVotes DESC \nLIMIT 5;"}
{"id": 21398, "query": "I really like the The Goonies (1985). Not similar but I just thought of the pirate ship haha", "history": ["The Sixth Sense (1999)"], "groundtruth": ["Die Hard (1988)", "The Good Life  (1997)", "Die Hard 2 (1990)", "Daylight  (1996)"], "output": "```sql\nSELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating, tr.numVotes AS num_votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Adventure%'\nAND tb.startYear <= 1990\nAND tb.primaryTitle != 'The Goonies'\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;\n```"}
{"id": 21399, "query": "Hi, I LOVE action films! Can you recommend any from the 90s?", "history": ["Pretty Woman (1990)"], "groundtruth": ["Mona Lisa Smile (2003)", "Erin Brockovich  (2000)", "Stepmom  (1998)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.startYear >= 1990 AND tb.startYear < 2000 \nAND tb.genres LIKE '%Action%' \nAND tb.tconst NOT IN ('tt0100405') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 21400, "query": "I've seen it and love it which is why I am looking for another film with her in it", "history": ["Pineapple Express  (2008)"], "groundtruth": ["Up in Smoke (1978)", "This Is the End (2013)"], "output": "SELECT tb.primaryTitle, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nJOIN title_principals tp ON tp.tconst = tb.tconst \nJOIN name_basics nb ON nb.nconst = tp.nconst \nWHERE nb.primaryName = 'her' \nAND tb.primaryTitle != 'Pineapple Express ' \nAND tb.titleType = 'movie' \nORDER BY tr.averageRating DESC;"}
{"id": 21401, "query": "I do! I really enjoy stoner comedies!", "history": ["Twins  (1988)", "Matilda  (1996)"], "groundtruth": ["Throw Momma from the Train (1987)", "Even Money  (2006)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Comedy%' AND tb.genres LIKE '%Stoner%' \nAND tb.startYear <= 1996 \nAND tb.primaryTitle NOT IN ('Twins', 'Matilda') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 21402, "query": "Good evening! Do you know any movies starring Danny Devito?", "history": ["Sunset Boulevard  (1950)"], "groundtruth": ["The Hateful Eight (2015)", "The Game  (1997)", "The Prestige  (2006)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_principals tp\nJOIN title_basics tb ON tp.tconst = tb.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE nb.primaryName = 'Danny Devito'\nAND tp.category = 'actor'\nAND tp.tconst NOT IN (SELECT knownForTitles FROM name_basics WHERE primaryName = 'Danny Devito')\nAND tb.genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'Sunset Boulevard')\nLIMIT 5;"}
{"id": 21405, "query": "I like crime movies", "history": ["Citizen Kane (1941)", "The Wizard of Oz  (1939)", "Psycho  (1960)"], "groundtruth": ["Casablanca  (1942)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Crime%'\nAND tb.tconst NOT IN ('tt0032138', 'tt0032138', 'tt0054215')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21408, "query": "What are the best movies with Oprah in them?", "history": ["The Hunger Games  (2012)", "Oldboy  (2003)", "Battle Royale  (2000)"], "groundtruth": ["Oldboy  (2013)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE nb.primaryName = 'Oprah Winfrey'\nAND tb.titleType = 'movie'\nAND tb.startYear >= 2000\nAND tb.primaryTitle NOT IN ('The Hunger Games', 'Oldboy', 'Battle Royale')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21409, "query": "I am home all weekend and am looking for some movie recommendations. I'm not picky.", "history": ["Sex and Lucia (2001)", "The Pianist  (2002)", "The Shawshank Redemption (1994)"], "groundtruth": ["Life of Pi "], "output": "SELECT tb.primaryTitle AS Recommended_Movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear <= 2005\nAND (tb.genres LIKE '%Drama%' OR tb.genres LIKE '%Romance%')\nAND tb.primaryTitle NOT IN ('Sex and Lucia', 'The Pianist', 'The Shawshank Redemption')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21411, "query": "I love 80s films? Can you tell me any good ones?", "history": [], "groundtruth": ["The Cabin in the Woods"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.startYear >= 1980 AND tb.startYear <= 1989\nAND tb.titleType = 'movie'\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21412, "query": "I love horror films. Have you seen any you can recommend?", "history": ["How to Be a Latin Lover (2017)", "Frida (2002)", "Dogma  (1999)"], "groundtruth": ["Desperado  (1995)", "Ask the Dust  (2006)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND tb.primaryTitle NOT IN ('How to Be a Latin Lover (2017)', 'Frida (2002)', 'Dogma  (1999)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21416, "query": "Mystery, know any?", "history": [], "groundtruth": ["Dance Flick (2009)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics AS tb1\nJOIN title_basics AS tb2 ON tb1.tconst = tb2.tconst\nWHERE tb2.genres LIKE '%Mystery%'\nAND tb1.titleType = 'movie'\nAND tb1.averageRating >= 8\nORDER BY tb1.numVotes DESC\nLIMIT 5;"}
{"id": 21417, "query": "I am looking to watch anything with the Wayans Brothers. Know any good ones?", "history": ["Star Wars  (1977)"], "groundtruth": ["The Empire Strikes Back (1980)"], "output": "SELECT primaryTitle, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nJOIN title_principals ON title_basics.tconst = title_principals.tconst\nJOIN name_basics ON title_principals.nconst = name_basics.nconst\nWHERE primaryName LIKE '%Wayans Brothers%'\nAND title_basics.titleType = 'movie'\nAND averageRating >= 7\nAND primaryTitle NOT IN ('Star Wars  (1977)')\nORDER BY averageRating DESC\nLIMIT 10;"}
{"id": 21418, "query": "Oh I really liked Star Wars  (1977) What's the next one you think I should see?", "history": ["American Psycho  (2000)", "Psycho  (1960)"], "groundtruth": ["Escape from Alcatraz  (1979)", "Casablanca  (1942)"], "output": "SELECT tb2.primaryTitle \nFROM title_basics AS tb1 \nJOIN title_basics AS tb2 ON tb1.genres = tb2.genres \nWHERE tb1.primaryTitle = 'Star Wars' \nAND tb1.startYear = 1977 \nAND tb2.startYear > tb1.startYear \nAND tb2.titleType = 'movie' \nAND tb2.averageRating > 7 \nAND tb2.numVotes > 1000 \nAND tb2.primaryTitle NOT IN ('Star Wars', 'American Psycho', 'Psycho') \nORDER BY tb2.averageRating DESC, tb2.numVotes DESC \nLIMIT 1;"}
{"id": 21424, "query": "do you know some good sexy movies?", "history": ["Seven  (1995)", "The Godfather (1972)", "Godfather  (1991)"], "groundtruth": ["The Hateful Eight (2015)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Romance%' \n    OR tb.genres LIKE '%Drama%' \n    OR tb.genres LIKE '%Thriller%' \n    AND tb.startYear < 2000 \n    AND tr.averageRating > 7 \n    AND tb.primaryTitle NOT IN ('Seven', 'The Godfather', 'Godfather') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 21425, "query": "do you know Any good crime movies", "history": ["The Ring  (2002)", "The Silence of the Lambs  (1991)"], "groundtruth": ["The Exorcist  (1973)", "Omen  (2003)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.genres, tr.averageRating\nFROM title_basics AS tb\nJOIN title_ratings AS tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Crime%'\nAND tb.primaryTitle NOT IN ('The Ring  (2002)', 'The Silence of the Lambs  (1991)')\nAND tr.numVotes > 1000\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21431, "query": "do you have some horror movies to recommend please!", "history": ["Godfather  (1991)"], "groundtruth": ["Life of the Party  (2018)", "Scarface  (1983)"], "output": "```sql\nSELECT tb.primaryTitle AS recommended_movie, tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nORDER BY tr.averageRating DESC;\n```"}
{"id": 21454, "query": "Hi. I am good. Thanks for asking.  How are you today? Can you recommend me a  crime moovie that you liked?", "history": ["Highlander  (1986)"], "groundtruth": ["Thor: Ragnarok (2017)", "Braveheart (1995)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Crime%'\nAND tb.tconst NOT IN ('Highlander  (1986)')\nORDER BY tr.averageRating DESC\nLIMIT 1;"}
{"id": 21456, "query": "I love Highlander  (1986) , what can you recommend?", "history": ["The Master of Disguise (2002)"], "groundtruth": ["Ferris Bueller's Day Off (1986)"], "output": "SELECT primaryTitle \nFROM title_basics \nWHERE startYear = 1986 \nAND genres LIKE '%Action%'\nAND tconst NOT IN ('tt0270980') \nORDER BY averageRating DESC, numVotes DESC \nLIMIT 5;"}
{"id": 21458, "query": "What about something like The Master of Disguise (2002) ?", "history": ["John Wick (2014)", "Taken  (2008)", "Taken 2 (2012)"], "groundtruth": ["Unknown  (2011)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 2000\nAND tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle != 'The Master of Disguise' \nAND tb.primaryTitle NOT IN ('John Wick', 'Taken', 'Taken 2')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21466, "query": "Great! Thanks. I like epic historical pieces. And recommendations?", "history": ["The Lost Boys (1987)", "Bram Stoker's Dracula (1992)"], "groundtruth": ["Interview with the Vampire  (1994)", "The Vampire Diaries (2009)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Epic%' AND tb.genres LIKE '%Historical%'\nAND tb.primaryTitle NOT IN ('The Lost Boys (1987)', \"Bram Stoker's Dracula (1992)\")\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21473, "query": "I love The Lost Boys (1987) , can you recommend me some vampire movies?", "history": ["A Quiet Place (2018)"], "groundtruth": ["The Reader  (2008)"], "output": "SELECT tb.primaryTitle\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Vampire%'\nAND tb.startYear <= 1987\nAND tb.tconst NOT IN ('tt0093437')  -- exclude The Lost Boys\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21489, "query": "hello how are you do you have any suggestions for horror films similar to Poltergeist  (1982) ?", "history": ["The Incredibles (2004)", "A Quiet Place (2018)"], "groundtruth": ["Game Night (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear AS release_year, tb1.genres\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'Poltergeist' AND tb2.startYear = 1982\nAND tb1.titleType = 'movie'\nAND tb1.primaryTitle != 'Poltergeist'\nAND tb1.genres LIKE '%Horror%'\nAND tb1.startYear > 1982\nAND tb1.averageRating > 7\nAND tb1.primaryTitle NOT IN ('The Incredibles', 'A Quiet Place')\nORDER BY tb1.averageRating DESC\nLIMIT 5;"}
{"id": 21490, "query": "I love suspense, horror, drama anything with a catchy mind twisting plot", "history": ["Poltergeist  (1982)", "Mama  (2013)"], "groundtruth": ["Wind River  (2017)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%suspense%' OR tb.genres LIKE '%horror%' OR tb.genres LIKE '%drama%'\nAND (tb.primaryTitle NOT IN ('Poltergeist', 'Mama'))\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21494, "query": "Any other good alien movies you know about?", "history": ["Annie Hall (1977)", "When Harry Met Sally... (1989)", "Sleepless in Seattle (1993)"], "groundtruth": ["Leap Year  (2010)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating AS rating, tr.numVotes AS num_votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Alien%'\nAND tb.startYear >= 1980\nAND tb.primaryTitle NOT IN ('Annie Hall (1977)', 'When Harry Met Sally... (1989)', 'Sleepless in Seattle (1993)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21496, "query": "I am looking for doog comedy movie to watch tonight", "history": ["The Butterfly Effect (2004)", "Crash  (2004)"], "groundtruth": ["The Next Three Days (2010)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Comedy%'\nAND tb.genres LIKE '%Drama%'\nAND tr.averageRating >= 7\nAND tb.startYear >= 2000\nAND tb.startYear <= 2010\nAND tb.primaryTitle NOT IN ('The Butterfly Effect (2004)', 'Crash (2004)')\nORDER BY tr.averageRating DESC, tb.startYear ASC\nLIMIT 5;"}
{"id": 21497, "query": "hello how are you. I am looking for movies similar to Crash  (2004)", "history": ["Seven  (1995)", "Hannibal  (2001)", "Wind River  (2017)"], "groundtruth": ["Zodiac  (2007)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.primaryTitle != 'Crash' AND tb.startYear = 2004\nAND (tb.genres LIKE '%Drama%' OR tb.genres LIKE '%Crime%')\nAND tr.averageRating > 7.5\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21501, "query": "I want to see Avengers: Infinity War (2018) have you seen it?", "history": ["The Shawshank Redemption (1994)", "Hollywood  (1923)"], "groundtruth": ["Jane Eyre  (1970)"], "output": "SELECT tb.primaryTitle AS recommended_movie,\n       tr.averageRating AS rating,\n       tr.numVotes AS num_votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 2017\nAND tb.genres LIKE '%Action%'\nAND tb.genres LIKE '%Adventure%'\nAND tb.genres LIKE '%Sci-Fi%'\nAND tb.primaryTitle != 'Avengers: Infinity War'\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21502, "query": "i need some great movies to watch with a lover tonight", "history": ["The Departed (2006)", "Goodfellas (1990)"], "groundtruth": ["Once Upon a Time in America (1984)", "Zodiac  (2007)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Romance%'\nAND tb.startYear >= 2000\nAND tr.averageRating >= 8\nAND tb.tconst NOT IN ('tt0407887', 'tt0099685')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21504, "query": "Oh yes! Now some good crime movie to recommend.", "history": ["The Proposal  (2009)", "La La Land  (2016)"], "groundtruth": ["Notebook  (2006)"], "output": "SELECT primaryTitle, startYear, averageRating, genres\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Crime%'\nAND startYear > 2000\nAND primaryTitle NOT IN ('The Proposal', 'La La Land')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 21509, "query": "do you know some good disney movie", "history": ["Hidden Figures (2016)", "Terms of Endearment (1983)", "Beaches  (1988)"], "groundtruth": ["20th Century Women (2016)"], "output": "SELECT primaryTitle, averageRating, genres\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Disney%' \nAND primaryTitle NOT IN ('Hidden Figures (2016)', 'Terms of Endearment (1983)', 'Beaches  (1988)')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 21527, "query": "Yeah, I'm in the mood for a female-oriented drama like Beaches  (1988) or Terms of Endearment (1983). I like those kinds of films.", "history": ["It Follows (2014)", "Sinister  (2012)"], "groundtruth": ["Ring  (1998)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE tb.titleType = 'movie'\nAND (tb.genres LIKE '%Drama%' OR tb.genres LIKE '%Romance%')\nAND (tb.startYear BETWEEN 1980 AND 1990)\nAND (nb.primaryName LIKE '%female%' OR nb.primaryName LIKE '%woman%' OR nb.primaryProfession LIKE '%actress%')\nAND tb.primaryTitle NOT IN ('Beaches', 'Terms of Endearment', 'It Follows', 'Sinister')\nGROUP BY tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21528, "query": "I am looking for good horror movie.", "history": ["The Lion King (1994)", "Beauty and the Beast  (1992)", "Pocahontas  (1995)"], "groundtruth": ["Tangled (2010)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND tb.startYear >= 1990\nAND tb.startYear <= 2022\nAND tb.primaryTitle NOT IN ('The Lion King (1994)', 'Beauty and the Beast  (1992)', 'Pocahontas  (1995)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21560, "query": "I am great, I am looking for disney movies to watch tonight", "history": ["Step Brothers  (2008)", "Zoolander (2001)"], "groundtruth": ["Tropic Thunder (2008)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE (tb.genres LIKE '%Animation%' OR tb.genres LIKE '%Family%') \nAND (tb.primaryTitle LIKE '%Disney%' OR tb.primaryTitle LIKE '%Pixar%')\nAND tr.averageRating > 7\nAND (nb.primaryName = 'Will Ferrell' OR nb.primaryName = 'Ben Stiller')\nAND tb.primaryTitle NOT IN ('Step Brothers', 'Zoolander')\nGROUP BY tb.primaryTitle\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21568, "query": "I'm looking for something like The Sixth Sense (1999) , can you help?", "history": ["Avenger  (2006)", "Avengers: Age of Ultron (2015)"], "groundtruth": ["Blade  (1998)", "Blade II (2002)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Thriller%'\nAND startYear = 1999\nAND averageRating > 7\nAND primaryTitle != 'The Sixth Sense'\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 21583, "query": "Not sure really. Maybe a romantic comedy.", "history": ["Step Brothers  (2008)", "Talladega Nights: The Ballad of Ricky Bobby (2006)"], "groundtruth": ["Chicago  (2002)", "Ocean's 8 (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Romance%' AND tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Step Brothers  (2008)', 'Talladega Nights: The Ballad of Ricky Bobby (2006)')\nAND tb.titleType = 'movie'\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21592, "query": "I love the movie Pan's Labyrinth (2006) , what do you recommend?", "history": ["Argo  (2012)", "Kingsman: The Secret Service (2014)"], "groundtruth": ["Bridge of Spies  (2015)", "The Manchurian Candidate  (1962)"], "output": "SELECT tb.primaryTitle AS Recommended_Movie, tb.startYear AS Release_Year, tb.genres AS Genre\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Fantasy%' \nAND tb.startYear < 2006\nAND tr.averageRating >= 7.5 \nAND tr.numVotes > 100000\nAND tb.primaryTitle NOT IN ('Pan\\'s Labyrinth (2006)', 'Argo (2012)', 'Kingsman: The Secret Service (2014)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21593, "query": "I love Argo  (2012) , can you recommend an action or spy movie?", "history": ["Pulp Fiction (1994)"], "groundtruth": ["The Gold Rush (1925)", "Planes, Trains and Automobiles (1986)", "Invasion of the Body Snatchers (1956)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE (tb.genres LIKE '%Action%' OR tb.genres LIKE '%Spy%')\nAND tb.startYear >= 1990\nAND tb.startYear <= 2012\nAND tb.tconst NOT IN ('tt0110912')  -- Exclude \"Pulp Fiction\"\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21596, "query": "I like a great mystery what do you have in mind?", "history": ["Pulp Fiction (1994)", "Kill Bill: Volume 1 (2003)"], "groundtruth": ["The Rock  (1996)", "I Saw the Devil (2010)"], "output": "SELECT primaryTitle\nFROM title_basics\nINNER JOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Mystery%'\nAND primaryTitle NOT IN ('Pulp Fiction', 'Kill Bill: Volume 1')\nORDER BY averageRating DESC, numVotes DESC\nLIMIT 5;"}
{"id": 21597, "query": "I like crime movies like Pulp Fiction (1994)", "history": ["Toy Story (1995)", "Peter Rabbit (2018)"], "groundtruth": ["Mulan (1998)", "Isle Of Dogs (2018)"], "output": "SELECT tb.primaryTitle AS recommendation, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE tb.genres LIKE '%Crime%'\nAND tb.startYear >= 1990\nAND tb.startYear <= 2000\nAND tr.numVotes > 10000\nAND nb.primaryName = 'Quentin Tarantino'\nAND tb.primaryTitle NOT IN ('Toy Story (1995)', 'Peter Rabbit (2018)', 'Pulp Fiction (1994)')\nGROUP BY tb.primaryTitle, tr.averageRating\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21599, "query": "My son loved Peter Rabbit (2018) do you know any movies thats similar?", "history": ["The Martian  (2015)", "Mission to Mars (2000)"], "groundtruth": ["Red Planet  (2000)"], "output": "SELECT tb1.primaryTitle \nFROM title_basics tb1 \nJOIN title_basics tb2 ON tb1.genres = tb2.genres \nWHERE tb2.primaryTitle = 'Peter Rabbit' \nAND tb1.startYear > 2010 \nAND tb1.primaryTitle != 'Peter Rabbit'\nAND tb1.primaryTitle NOT IN ('The Martian', 'Mission to Mars')\nLIMIT 5;"}
{"id": 21600, "query": "I love The Martian  (2015) , what else would I like?", "history": ["Mission: Impossible \u2013 Ghost Protocol (2011)", "Mission: Impossible ", "Gone Girl  (2014)"], "groundtruth": ["Edge of Tomorrow (2014)", "Pi  (1998)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear AS year\nFROM title_basics AS tb1\nJOIN title_ratings AS tr1 ON tb1.tconst = tr1.tconst\nJOIN title_principals AS tp1 ON tb1.tconst = tp1.tconst\nJOIN title_basics AS tb2 ON tp1.nconst = tb2.tconst\nJOIN title_ratings AS tr2 ON tb2.tconst = tr2.tconst\nWHERE tb1.genres = tb2.genres\nAND tb1.startYear >= 2010\nAND tb1.startYear < 2016\nAND tb1.tconst <> 'tt3659388' -- excluding The Martian\nAND tr1.averageRating > 7.5\nAND tr2.averageRating > 7.5\nAND (tb2.primaryTitle = 'Mission: Impossible \u2013 Ghost Protocol' AND tb2.startYear = 2011)\n   OR (tb2.primaryTitle = 'Mission: Impossible' AND tb2.startYear IS NULL)\n   OR (tb2.primaryTitle = 'Gone Girl' AND tb2.startYear = 2014)\nLIMIT 5;"}
{"id": 21602, "query": "I like movies like Gone Girl  (2014) do you know anything else that is worth watching?", "history": ["Love Actually (2003)", "The Notebook (2004)"], "groundtruth": ["When Harry Met Sally... (1989)", "Serendipity  (2001)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Thriller%' \nAND tb.startYear >= 2010\nAND tb.startYear <= 2014\nAND tb.primaryTitle <> 'Gone Girl'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21604, "query": "Hello, I am looking for a great movie for date night?", "history": ["The Big Sick (2017)", "Saving Private Ryan (1998)"], "groundtruth": ["Equilibrium  (2002)", "GoldenEye (1995)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating, tr.numVotes AS num_votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear <= 2022\nAND tb.genres LIKE '%Romance%'\nAND tr.averageRating >= 7.5\nAND tr.numVotes >= 1000\nAND tb.primaryTitle NOT IN ('The Big Sick (2017)', 'Saving Private Ryan (1998)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 1;"}
{"id": 21605, "query": "I am looking for something similar to The Big Sick (2017)", "history": ["Saving Private Ryan (1998)", "Black Hawk Down  (2002)"], "groundtruth": ["Jarhead  (2005)", "Letters from Iwo Jima (2006)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating, tr.numVotes AS num_votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE tb.genres LIKE '%Comedy%' \nAND tb.startYear >= 2010 \nAND tb.tconst != 'tt5462602' -- exclude The Big Sick\nAND tb.tconst NOT IN ('tt0120815', 'tt0265086') -- exclude Saving Private Ryan and Black Hawk Down\nAND nb.primaryName <> 'Kumail Nanjiani' -- exclude movies with same actor\nGROUP BY tb.primaryTitle, tb.startYear, tr.averageRating, tr.numVotes\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21610, "query": "I love Saving Private Ryan (1998) , could you recommend more?", "history": [], "groundtruth": ["Equilibrium  (2002)", "Oblivion  (2013)"], "output": "SELECT tb1.primaryTitle, tb1.startYear, tb1.genres, tr.averageRating \nFROM title_basics tb1 \nJOIN title_ratings tr ON tb1.tconst = tr.tconst \nWHERE tb1.genres LIKE '%War%' \nAND tb1.startYear >= 1990 \nAND tb1.tconst <> 'tt0120815' \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 21614, "query": "I love Highlander II: The Quickening (1991) , what can you recommend for fantasy/action?", "history": ["Jack Reacher: Never Go Back (2016)", "Mission: Impossible II (2000)", "Mission: Impossible  (1996)"], "groundtruth": ["Knight and Day (2010)"], "output": "SELECT tb1.primaryTitle, tb1.startYear, tb1.runtimeMinutes, tb1.genres\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb1.genres LIKE '%Fantasy%' AND tb1.genres LIKE '%Action%' \nAND tb1.primaryTitle != 'Highlander II: The Quickening'\nAND tb1.primaryTitle NOT IN ('Jack Reacher: Never Go Back (2016)', 'Mission: Impossible II (2000)', 'Mission: Impossible  (1996)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21616, "query": "I love Rain Man (1988) , what else would I enjoy?", "history": [], "groundtruth": ["Get Out (2017)", "Breaking In (2018)", "Panic Room (2002)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Drama%' \nAND tb.startYear BETWEEN 1985 AND 1990\nAND tb.tconst != 'tt0095953'\nORDER BY tr.averageRating DESC, tb.startYear DESC\nLIMIT 10;"}
{"id": 21619, "query": "I love K-19: The Widowmaker (2002) , can you recommend action or drama?", "history": ["Pitch Perfect (2012)"], "groundtruth": ["Whiplash  (2014)", "This Is Spinal Tap (1984)"], "output": "SELECT primaryTitle, startYear, averageRating, genres\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE (genres LIKE '%Action%' OR genres LIKE '%Drama%')\nAND startYear >= 2000\nAND startYear <= 2005\nAND title_basics.tconst NOT IN ('tt0267626')  -- Exclude the movie the user already loves\nORDER BY averageRating DESC, numVotes DESC\nLIMIT 5;"}
{"id": 21620, "query": "Pitch Perfect (2012)", "history": ["Les Mis\u00e9rables  (2012)", "The Greatest Showman (2017)", "Into the Woods  (2014)"], "groundtruth": ["Moulin Rouge! (2001)"], "output": "SELECT tb.primaryTitle AS recommended_movie,\n       tb.startYear AS release_year,\n       tr.averageRating AS rating,\n       tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Musical%'\nAND tb.startYear >= 2012\nAND tb.tconst NOT IN ('tt1860353', 'tt1485796', 'tt2180411')  -- excluding user's historical preferences\nORDER BY tr.averageRating DESC, tb.startYear DESC\nLIMIT 5;"}
{"id": 21626, "query": "I love chick flicks like Mother's Day  (1980) . Can you recommend any movies like that?", "history": ["The Secret Life of Walter Mitty  (2013)"], "groundtruth": ["Indiana Jones and the Last Crusade (1989)"], "output": "SELECT tb1.primaryTitle \nFROM title_basics AS tb1 \nJOIN title_basics AS tb2 ON tb1.genres = tb2.genres \nWHERE tb2.primaryTitle = 'Mother\\'s Day' AND tb2.startYear = 1980\nAND tb1.primaryTitle != 'Mother\\'s Day' AND tb1.startYear > 1980\nAND tb1.primaryTitle NOT IN ('The Secret Life of Walter Mitty')\nORDER BY tb1.numVotes DESC\nLIMIT 5;"}
{"id": 21632, "query": "I Love action and adventure style movies.", "history": [], "groundtruth": ["Black Mass  (2015)"], "output": "SELECT primaryTitle, genres, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE genres LIKE '%Action%' OR genres LIKE '%Adventure%' \nORDER BY averageRating DESC \nLIMIT 10;"}
{"id": 21633, "query": "Do you know some good crime movies!", "history": ["Forrest Gump (1994)", "Big Fish (2003)"], "groundtruth": ["Spotlight  (2015)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tr.averageRating, tr.numVotes\nFROM title_basics tb\nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Crime%'\nAND tb.tconst NOT IN ('tt0109830', 'tt0319061')  -- Excluding Forrest Gump and Big Fish\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 21634, "query": "I do! Do you know any good drama movies?", "history": ["Notebook  (2006)"], "groundtruth": ["Singing Lovebirds (1939)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Drama%'\nAND tb.tconst NOT IN (SELECT tp.tconst\n                      FROM title_principals tp\n                      JOIN name_basics nb ON tp.nconst = nb.nconst\n                      WHERE nb.primaryName = 'Notebook'\n                      AND nb.primaryTitle LIKE '%2006%')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21640, "query": "I do too! I l really liked Wonder Woman  (2017) . What other movies like that do you recommend?", "history": ["Batman Returns (1992)", "Batman Begins", "Deadpool  (2016)"], "groundtruth": ["Superman: Unbound (2013)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' \nAND tb.startYear >= 2010 \nAND tb.startYear <= 2020 \nAND (tb.primaryTitle != 'Wonder Woman' OR tb.startYear != 2017)\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21641, "query": "I love Deadpool  (2016) can you recommend some movies like that one", "history": ["A Beautiful Mind  (2001)"], "groundtruth": ["Boyhood  (2014)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE \n    tb.startYear > 2016 \n    AND tb.genres LIKE '%Action%' \n    AND tb.genres LIKE '%Comedy%' \n    AND nb.primaryName <> 'Ryan Reynolds'\n    AND tb.tconst NOT IN ('tt0290334') -- Exclude 'A Beautiful Mind'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21642, "query": "I'm great! I love drama movies. Do you have any recommendations?", "history": ["Seven  (1995)", "Wind River  (2017)"], "groundtruth": ["Memento  (2000)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear <= 2023\nAND tb.genres LIKE '%Drama%'\nAND tb.primaryTitle NOT IN ('Seven', 'Wind River')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21643, "query": "I need good mystery movies", "history": ["Black Mass  (2015)", "The Tourist  (2010)"], "groundtruth": ["The Astronaut's Wife (1999)", "Dark Shadows  (2012)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating\nFROM title_basics AS tb\nJOIN title_ratings AS tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Mystery%'\nAND tb.primaryTitle NOT IN ('Black Mass  (2015)', 'The Tourist  (2010)')\nORDER BY tr.averageRating DESC, tb.startYear DESC\nLIMIT 5;"}
{"id": 21648, "query": "I love The Place Beyond the Pines (2012) , what can you recommend?", "history": ["The Shawshank Redemption (1994)", "Anchorman: The Legend of Ron Burgundy (2004)"], "groundtruth": ["Evil Dead  (2013)", "Life  (1999)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE tb.titleType = 'movie'\nAND tb.genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'The Place Beyond the Pines')\nAND tb.startYear >= 2010\nAND tr.averageRating >= 7.5\nAND nb.primaryName != 'Derek Cianfrance'\nAND tb.primaryTitle NOT IN ('The Place Beyond the Pines', 'The Shawshank Redemption', 'Anchorman: The Legend of Ron Burgundy')\nGROUP BY tb.primaryTitle\nORDER BY SUM(tr.numVotes) DESC\nLIMIT 5;"}
{"id": 21651, "query": "I like comedies.", "history": ["Insidious  (2011)", "A Quiet Place (2018)"], "groundtruth": ["Truth or Dare  (2013)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating AS rating, tr.numVotes AS num_votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Insidious', 'A Quiet Place')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21653, "query": "Yeah I feel like watching a good horror movie tonight", "history": ["Anchorman: The Legend of Ron Burgundy (2004)"], "groundtruth": ["Spy  (2015)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND tb.startYear >= 2000\nAND tr.averageRating >= 7\nAND tb.primaryTitle NOT IN ('Anchorman: The Legend of Ron Burgundy (2004)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21654, "query": "Got any ideas for a funny movie?", "history": ["Meet the Parents (2000)"], "groundtruth": ["I Love You, Man (2009)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Comedy%'\nAND tr.averageRating >= 7.5\nAND tb.primaryTitle NOT IN ('Meet the Parents (2000)')\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 21657, "query": "I would like to watch a good action movie tonight. any recommendations?", "history": ["The Matrix (1999)", "Source Code (2011)", "Primer  (2004)"], "groundtruth": ["Inception (2010)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Action%' \nAND tb.startYear <= 2011 \nAND tr.averageRating > 7 \nAND tb.primaryTitle NOT IN ('The Matrix (1999)', 'Source Code (2011)', 'Primer  (2004)') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 21658, "query": "I love The Matrix (1999) , can you recommend something like that?", "history": ["Pan's Labyrinth (2006)"], "groundtruth": ["Looper  (2012)", "Die Hard (1988)", "Die Hard 2 (1990)", "Live Free or Die Hard (2007)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' \nAND tb.genres LIKE '%Sci-Fi%'\nAND tb.startYear > 1990 \nAND tb.startYear < 2005 \nAND tr.averageRating > 7\nAND tb.tconst NOT IN ('tt0457430') -- Exclude The Matrix\nAND tb.tconst NOT IN ('tt0457430') -- Exclude Pan's Labyrinth\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 21664, "query": "I would like to relax with some robot apocalypse-type movies", "history": ["Game Night (2018)", "Jumanji  (2017)"], "groundtruth": ["Spaceballs (1987)", "Show Dogs (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Sci-Fi%' \nAND tb.genres LIKE '%Action%' \nAND tb.genres LIKE '%Adventure%' \nAND tb.genres LIKE '%Thriller%' \nAND tb.primaryTitle NOT IN ('Game Night (2018)', 'Jumanji  (2017)') \nORDER BY tr.averageRating DESC;"}
{"id": 21665, "query": "Im looking for a good comedy what would you suggest", "history": ["Fargo  (1996)", "The Usual Suspects (1995)", "Reservoir Dogs (1992)", "Pulp Fiction (1994)", "Oldboy  (2003)"], "groundtruth": ["I Saw the Devil (2010)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Fargo', 'The Usual Suspects', 'Reservoir Dogs', 'Pulp Fiction', 'Oldboy')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21667, "query": "I love horror and comedies though", "history": ["Fargo  (1996)", "Apocalypse Now (1979)", "The Usual Suspects (1995)", "Predator  (1987)", "Pulp Fiction (1994)", "Ocean's 11 (1960)"], "groundtruth": ["Deadpool 2  (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nWHERE tb.genres LIKE '%Horror%' OR tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Fargo', 'Apocalypse Now', 'The Usual Suspects', 'Predator', 'Pulp Fiction', \"Ocean's 11\")\nORDER BY tb.startYear DESC\nLIMIT 10;"}
{"id": 21669, "query": "I loved Ant-Man  (2015) , can you recommend more?", "history": ["Ant-Man  (2015)", "The Avengers  (2012)", "Deadpool 2  (2018)"], "groundtruth": ["Ant-Man and the Wasp (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear AS release_year, tb1.runtimeMinutes AS duration_minutes, tb1.genres AS genre\nFROM title_basics AS tb1\nJOIN title_ratings AS tr ON tb1.tconst = tr.tconst\nWHERE tb1.titleType = 'movie'\nAND tb1.startYear <= 2015\nAND tb1.genres LIKE '%Action%'\nAND tb1.tconst NOT IN ('tt0478970', 'tt0848228', 'tt5463162')  -- excluding the user's historical preferences\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21670, "query": "Right now I'm looking for a good bunch of superhero movies", "history": ["Terminator 2: Judgment Day (1991)", "Star Wars: Episode I \u2013 The Phantom Menace (1999)"], "groundtruth": ["The Guest  (2014)", "Equilibrium  (2002)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Superhero%' \nAND tb.primaryTitle NOT IN ('Terminator 2: Judgment Day (1991)', 'Star Wars: Episode I \u2013 The Phantom Menace (1999)') \nORDER BY tr.averageRating DESC;"}
{"id": 21682, "query": "Let's see, I like weird foreign films, you know, like Cinema Paradiso (1988)", "history": ["Superbad  (2007)", "The 40-Year-Old Virgin (2005)", "The Naked Gun 2\u00bd: The Smell of Fear (1991)"], "groundtruth": ["Game Night (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear AS release_year, tb1.genres\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb1.genres LIKE '%Foreign%' \nAND tb1.genres LIKE '%Drama%'\nAND tb1.startYear >= 1980\nAND tr.averageRating >= 7.5\nAND tb1.tconst NOT IN ('tt0095765', 'tt0405422', 'tt0102510')\nAND tb1.tconst != 'tt0095765'\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 21683, "query": "Hi, I'm kinda bored, I'm looking for a movie. One that is funny but not too stupid. I like parodies, like The Naked Gun 2\u00bd: The Smell of Fear (1991)", "history": ["La La Land  (2016)", "The Great Gatsby  (2013)"], "groundtruth": ["The Notebook (2004)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics AS tb\nJOIN title_ratings AS tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND (tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Parody%')\nAND tb.startYear >= 2000\nAND tb.averageRating >= 6.5\nAND tb.primaryTitle NOT IN ('The Naked Gun 2\u00bd: The Smell of Fear (1991)', 'La La Land (2016)', 'The Great Gatsby (2013)')\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 21684, "query": "I love The Great Gatsby  (2013) , can you recommend more?", "history": ["The Rock  (1996)", "The Hunt for Red October  (1990)", "Indiana Jones and the Last Crusade (1989)"], "groundtruth": ["The Last Boy Scout (1991)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Drama%' \nAND startYear > 2010 \nAND primaryTitle != 'The Great Gatsby' \nAND primaryTitle NOT IN ('The Rock', 'The Hunt for Red October', 'Indiana Jones and the Last Crusade')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 21685, "query": "I love The Hunt for Red October  (1990) , can you recommend some movies?", "history": ["Horrible Bosses 2 (2014)", "Game Night (2018)", "Horrible Bosses (2011)"], "groundtruth": ["Arsenic and Old Lace "], "output": "SELECT tb1.primaryTitle, tb1.startYear, tb1.genres, tr.averageRating\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb1.tconst IN \n    (SELECT distinct(tp.tconst)\n    FROM title_principals tp\n    JOIN title_basics tb2 ON tp.tconst = tb2.tconst\n    WHERE tp.nconst IN \n        (SELECT nconst \n        FROM title_principals \n        WHERE tconst = \n            (SELECT tconst \n            FROM title_basics \n            WHERE primaryTitle = 'The Hunt for Red October' AND startYear = 1990))\n    AND tp.category = 'director'\n    AND tp.tconst <> \n        (SELECT tconst \n        FROM title_basics \n        WHERE primaryTitle = 'The Hunt for Red October' AND startYear = 1990)\n    AND tb2.titleType = 'movie')\nAND tb1.titleType = 'movie'\nAND tb1.startYear <= 1990 + 5\nAND tb1.startYear >= 1990 - 5\nAND tb1.tconst NOT IN \n    (SELECT tconst \n    FROM title_basics \n    WHERE primaryTitle IN ('Horrible Bosses 2', 'Game Night', 'Horrible Bosses'))\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21686, "query": "I like movies like Game Night (2018) any suggestions", "history": ["Eragon  (2006)", "Harry Potter and the Philosopher's Stone  (2001)"], "groundtruth": ["Warcraft  (2016)", "Percy Jackson & the Olympians: The Lightning Thief"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'Game Night')\nAND tb.startYear >= 2010\nAND tr.averageRating >= 7\nAND (tb.primaryTitle NOT IN ('Game Night', 'Eragon', 'Harry Potter and the Philosopher\\'s Stone'))\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21687, "query": "I love Eragon  (2006) , what else would I like?", "history": ["Teaching Mrs. Tingle (1999)", "Date Night (2010)", "Deadpool 2  (2018)", "Game Night (2018)", "Deadpool  (2016)"], "groundtruth": ["Charade  (1953)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Fantasy%' \nAND tb.startYear > 2000 \nAND tb.startYear < 2010 \nAND tb.primaryTitle != 'Eragon'\nAND tb.primaryTitle NOT IN ('Teaching Mrs. Tingle (1999)', 'Date Night (2010)', 'Deadpool 2 (2018)', 'Game Night (2018)', 'Deadpool (2016)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21689, "query": "I am. Can you recommend me something like my favorite movie The 'Burbs (1989) ?", "history": ["Battlefield Earth  (2000)"], "groundtruth": ["Warcraft  (2016)", "Ender's Game  (2013)"], "output": "SELECT primaryTitle, startYear, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'The \\'Burbs' AND startYear = 1989) \nAND startYear > 1980 \nAND startYear < 1995 \nAND averageRating > 7 \nAND primaryTitle != 'The \\'Burbs' \nAND primaryTitle != 'Battlefield Earth (2000)' \nORDER BY averageRating DESC, startYear ASC;"}
{"id": 21690, "query": "I love Battlefield Earth  (2000) , can you recommend some films?", "history": ["Fargo  (1996)", "Terminator 2: Judgment Day (1991)", "Pulp Fiction (1994)", "The Terminator (1984)"], "groundtruth": ["W  (2014)", "Fahrenheit 9/11 (2004)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'Battlefield Earth' AND startYear = 2000)\nAND tr.averageRating > 6\nAND tb.primaryTitle NOT IN ('Fargo', 'Terminator 2: Judgment Day', 'Pulp Fiction', 'The Terminator')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21695, "query": "I enjoy Being John Malkovich (1999) , what can you recommend?", "history": ["Fargo  (1996)", "Deadpool 2  (2018)"], "groundtruth": ["Three Billboards Outside Ebbing, Missouri (2017)", "Burn After Reading (2008)"], "output": "```sql\nSELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 1990\nAND tb.genres LIKE '%Comedy%'\nAND tb.tconst NOT IN ('tt0119217', 'tt0117998', 'tt1431045')  -- Exclude movies in user preference history\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;\n```"}
{"id": 21700, "query": "can you recommend some movies?", "history": ["Fear and Loathing in Las Vegas  (1998)", "Wes Craven's New Nightmare (1994)", "Dogma  (1999)", "Tucker & Dale vs. Evil (2010)", "Confessions of a Dangerous Mind (2002)", "Scream 3 (2000)", "Ed Wood  (1994)", "Behind the Mask  (2006)"], "groundtruth": ["Martyrs  (2008)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE titleType = 'movie'\nAND primaryTitle NOT IN ('Fear and Loathing in Las Vegas', \"Wes Craven's New Nightmare\", 'Dogma', 'Tucker & Dale vs. Evil', 'Confessions of a Dangerous Mind', 'Scream 3', 'Ed Wood', 'Behind the Mask')\nAND startYear <= 2010\nORDER BY averageRating DESC\nLIMIT 10;"}
{"id": 21701, "query": "i'm a sucker for the scream series. have you seen Behind the Mask  (2006) ?", "history": ["Enter the Dragon (1973)", "The Last Dragon  (2004)", "Deadpool  (2016)"], "groundtruth": ["Fist of the North Star  (1986)", "Deadpool 2  (2018)", "Way of the Dragon (1972)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nJOIN title_principals tp ON tb.tconst = tp.tconst \nJOIN name_basics nb ON tp.nconst = nb.nconst \nWHERE tb.genres LIKE '%Horror%' \nAND tb.startYear >= 2000 \nAND tb.startYear <= 2010 \nAND nb.primaryName = 'Timothy Balme' \nAND tb.primaryTitle != 'Behind the Mask' \nAND tr.averageRating >= 7 \nGROUP BY tb.primaryTitle \nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21702, "query": "Tonight I am in the mood to see a kung-fu movie. Something like The Last Dragon  (2004)", "history": ["The Jungle Book  (2016)", "Moana  (2016)", "Jumanji  (2017)", "Beauty and the Beast  (2017)"], "groundtruth": ["The Incredibles (2004)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Kung-Fu%'\nAND tb.startYear >= 2000\nAND tb.startYear <= 2004\nAND tb.primaryTitle != 'The Last Dragon'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21709, "query": "I've seen that one. Any other superhero film suggestions?  Or films in theater?", "history": ["Hangover (2010)", "Blades of Glory (2007)", "Ghostbusters (1984)", "Hot Fuzz (2007)", "Shaun of the Dead (2004)"], "groundtruth": ["Deadpool 2  (2018)"], "output": "SELECT primaryTitle, startYear, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE genres LIKE '%Action%' OR genres LIKE '%Adventure%' OR genres LIKE '%Sci-Fi%' \nAND startYear >= YEAR(DATE_SUB(CURDATE(), INTERVAL 1 YEAR));"}
{"id": 21729, "query": "I want to watch action", "history": ["The Dukes of Hazzard  (2005)", "The Lone Ranger  (2013)"], "groundtruth": ["Identity Thief (2013)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%'\nAND tb.primaryTitle NOT IN ('The Dukes of Hazzard (2005)', 'The Lone Ranger (2013)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21737, "query": "Hi, I am looking for a suggeston for a good romatic comedy.", "history": ["Guardians of the Galaxy  (2014)", "Thor ", "The Avengers  (2012)", "The Dark Knight  (2008)"], "groundtruth": ["Deadpool 2  (2018)", "Blade II (2002)", "Triplex  (1991)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Romance%'\nAND tb.genres LIKE '%Comedy%'\nAND tb.startYear >= 2000\nAND (tb.primaryTitle != 'Guardians of the Galaxy' \nAND tb.primaryTitle != 'Thor'\nAND tb.primaryTitle != 'The Avengers' \nAND tb.primaryTitle != 'The Dark Knight')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21756, "query": "I'm wanting to find out all of the hype with these comic book movies. Where do i start?", "history": ["The Last of the Mohicans  (1992)", "A River Runs Through It  (1992)"], "groundtruth": ["Legends of the Fall (1994)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Comic Book%' \nORDER BY tr.averageRating DESC \nLIMIT 10;"}
{"id": 21760, "query": "I love The Matrix (1999) , do you know more sci fi?", "history": ["Bill & Ted's Bogus Journey (1991)", "Bio-Dome (1996)", "Happy Gilmore (1996)"], "groundtruth": ["Dumb and Dumber To (2014)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Sci-Fi%'\nAND tb.startYear <= 1999\nAND tb.tconst NOT IN ('tt0117030', 'tt0115683', 'tt0116483')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21762, "query": "I love Bill & Ted's Bogus Journey (1991) , can you recommend something like that?", "history": ["The Lord of the Rings: The Return of the King (2003)", "Harry Potter ", "The Chronicles of Narnia "], "groundtruth": ["The NeverEnding Story  (1984)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Adventure%' \nAND tb.startYear BETWEEN 1980 AND 1995 \nAND tb.primaryTitle != 'Bill & Ted\\'s Bogus Journey' \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 21763, "query": "Something fantasy, like my favorite The Lord of the Rings: The Return of the King (2003)", "history": ["Superbad  (2007)", "The Usual Suspects (1995)", "Sherlock Holmes  (2010)", "Seven  (1995)"], "groundtruth": ["Kiss Kiss Bang Bang (2005)"], "output": "SELECT primaryTitle, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Fantasy%'\nAND primaryTitle != 'The Lord of the Rings: The Return of the King (2003)'\nAND primaryTitle IN ('Superbad (2007)', 'The Usual Suspects (1995)', 'Sherlock Holmes (2010)', 'Seven (1995)')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 21764, "query": "I love Sherlock Holmes  (2010) , can you recommend something like a mystery?", "history": ["The Martian  (2015)", "Avengers: Infinity War (2018)"], "groundtruth": ["Deadpool 2  (2018)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Mystery%' \nAND tb.startYear >= 2010 \nAND tb.primaryTitle != 'Sherlock Holmes'  (2010) \nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21771, "query": "I haven't seen that. I have seen Forgetting Sarah Marshall (2008) and that was pretty good. Can you recommend more movies like that?", "history": ["Love Actually (2003)", "The Martian  (2015)"], "groundtruth": ["The Space Between Us  (2016)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tr.averageRating\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'Forgetting Sarah Marshall' AND tb1.primaryTitle != 'Forgetting Sarah Marshall'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21772, "query": "I'm great! I really like the movie The Martian  (2015) . Do you know any other drama movies like that one?", "history": ["The Notebook (2004)", "The Big Sick (2017)", "The Fault in Our Stars  (2014)"], "groundtruth": ["A Walk to Remember (2002)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Drama%'\nAND tb.tconst NOT IN ('tt1663202', 'tt5462602', 'tt2582802')  -- Excluding user's historical preferences\nAND (tb.startYear >= 2010 AND tb.startYear <= 2020)  -- Considering recent drama movies\nAND tr.averageRating >= 7.5  -- Considering highly rated movies\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 21773, "query": "I love the The Notebook (2004) Do you know any other movies thats similar?", "history": ["Memento  (2000)", "Inception (2010)"], "groundtruth": ["Arrival  (2016)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Romance%'\nAND tb.startYear BETWEEN 2000 AND 2010\nAND tb.tconst NOT IN ('tt0338013', 'tt1375666')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21777, "query": "I like movies like Gone Girl  (2014) Need something similar to watch", "history": ["Hangover (2010)", "Game Night (2018)", "Girls Trip (2017)", "How High (2001)", "Bridesmaids  (2011)", "Pineapple Express  (2008)", "Half Baked (1998)"], "groundtruth": ["Dazed and Confused  (1993)"], "output": "SELECT tb1.primaryTitle, tb1.startYear, tb1.genres, tr.averageRating\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb1.genres LIKE '%Thriller%' \nAND tb1.startYear > 2010 \nAND tb1.startYear < 2018 \nAND tb1.primaryTitle != 'Gone Girl'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21779, "query": "I\u2019m looking for a good \u201cscience movie\u201dlike The Martian  (2015)", "history": ["Black Panther (2018)", "Deadpool 2  (2018)"], "groundtruth": ["Avengers: Infinity War (2018)", "The Avengers  (2012)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Science%' \nAND tb.startYear = 2015 \nAND tb.primaryTitle != 'The Martian' \nAND tb.primaryTitle NOT IN ('Black Panther (2018)', 'Deadpool 2 (2018)') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 21780, "query": "I did too!! I also really liked Black Panther (2018). Got any other recommendations?", "history": ["Lost in Translation  (2003)"], "groundtruth": ["Groundhog Day  (1993)", "The Jungle Book  (2016)", "Ghostbusters (1984)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Action%' \nAND startYear >= 2010 \nAND averageRating >= 8\nAND primaryTitle != 'Black Panther'\nAND primaryTitle != 'Lost in Translation'\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 21781, "query": "Know any good movies starring Bill Murray?", "history": ["Hangover (2010)", "Game Night (2018)", "Date Night (2010)", "Girls Trip (2017)", "Step Brothers  (2008)", "Bridesmaids  (2011)"], "groundtruth": ["Due Date", "The House  (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE nb.primaryName = 'Bill Murray'\nAND tb.titleType = 'movie'\nAND tb.startYear <= 2022\nAND tr.averageRating >= 7\nAND tb.primaryTitle NOT IN ('Hangover (2010)', 'Game Night (2018)', 'Date Night (2010)', 'Girls Trip (2017)', 'Step Brothers  (2008)', 'Bridesmaids  (2011)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21782, "query": "I love comedies like Game Night (2018) and Bridesmaids  (2011)  and Girls Trip (2017)", "history": ["The Revenant  (2015)"], "groundtruth": ["The Great Gatsby  (2013)", "True Grit  (2010)"], "output": "SELECT DISTINCT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.startYear >= 2010\nAND tb.startYear <= 2018\nAND (tb.primaryTitle LIKE '%Game Night%' OR tb.primaryTitle LIKE '%Bridesmaids%' OR tb.primaryTitle LIKE '%Girls Trip%')\nAND tb.primaryTitle NOT IN ('The Revenant')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21784, "query": "I love a good laugh can you recommend a comedy", "history": ["Married to the Mob (1988)", "Casino  (1995)", "Goodfellas (1990)", "My Cousin Vinny (1992)"], "groundtruth": ["American Gangster  (2007)", "Gone Fishin'  (1997)", "Gone Fishing  (2008)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating \nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Married to the Mob (1988)', 'Casino  (1995)', 'Goodfellas (1990)', 'My Cousin Vinny (1992)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21786, "query": "I'm looking for some scary movies like Annabelle  (2014) or The Conjuring (2013)", "history": ["How to Lose a Guy in 10 Days (2003)", "Sleepless in Seattle (1993)", "Sleepless in New York (2014)"], "groundtruth": ["When Harry Met Sally... (1989)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics AS tb\nJOIN title_ratings AS tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND tb.startYear >= 2010\nAND tb.primaryTitle NOT IN ('Annabelle', 'The Conjuring', 'How to Lose a Guy in 10 Days', 'Sleepless in Seattle', 'Sleepless in New York')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21787, "query": "I like romantic comedies", "history": ["Grease  (1978)", "West Side Story  (1961)", "Les Mis\u00e9rables  (2012)"], "groundtruth": ["Fiddler on the Roof  (1971)", "Chicago  (2002)"], "output": "SELECT tb.primaryTitle AS Recommended_Movies\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Romance%' AND tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Grease', 'West Side Story', 'Les Mis\u00e9rables')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21788, "query": "I really enjoy musicals like Les Mis\u00e9rables  (2012)", "history": ["The Notebook (2004)"], "groundtruth": ["Sherlock Holmes  (2009)", "Game Night (2018)", "About Time  (2013)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Musical%'\nAND tb.startYear >= 2010\nAND tb.primaryTitle != 'Les Mis\u00e9rables'\nAND tb.primaryTitle NOT IN ('The Notebook')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21789, "query": "I like Rachel McAdams. Do you know any good ones with her in them?", "history": ["Bridget Jones: The Edge of Reason  (2004)", "Bridget Jones's Diary  (2001)", "Bridget Jones's Baby (2016)"], "groundtruth": ["Pretty Woman (1990)", "You've Got Mail (1998)", "Notting Hill "], "output": "SELECT tb.primaryTitle \nFROM title_basics tb \nJOIN title_principals tp ON tb.tconst = tp.tconst \nJOIN name_basics nb ON tp.nconst = nb.nconst \nWHERE nb.primaryName = 'Rachel McAdams' \nAND tb.titleType = 'movie' \nAND tb.averageRating >= 7 \nAND tb.numVotes > 1000 \nAND tb.primaryTitle NOT IN ('Bridget Jones: The Edge of Reason (2004)', \"Bridget Jones's Diary (2001)\", \"Bridget Jones's Baby (2016)\")\nORDER BY tb.averageRating DESC, tb.numVotes DESC\nLIMIT 10;"}
{"id": 21793, "query": "I like comedy movies", "history": ["Scarface  (1983)", "The Orphanage  (2007)", "American Beauty  (1999)", "Fight Club (1999)", "A Beautiful Mind  (2001)"], "groundtruth": ["Forrest Gump (1994)"], "output": "SELECT tb.primaryTitle AS recommendation\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Scarface  (1983)', 'The Orphanage  (2007)', 'American Beauty  (1999)', 'Fight Club (1999)', 'A Beautiful Mind  (2001)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5\n;"}
{"id": 21794, "query": "I love a good drama like Fight Club (1999)", "history": ["Star Wars  (1977)"], "groundtruth": ["Solo: A Star Wars Story (2018)", "Avengers: Infinity War (2018)", "Game Night (2018)", "Wind River  (2017)"], "output": "SELECT primaryTitle \nFROM title_basics \nWHERE genres LIKE '%Drama%' \nAND startYear = 1999 \nAND tconst NOT IN \n    (SELECT tconst \n     FROM title_basics \n     WHERE primaryTitle = 'Fight Club'\n     AND startYear = 1999)\nAND tconst NOT IN \n    (SELECT knownForTitles \n     FROM name_basics \n     WHERE primaryName = 'Brad Pitt')\nAND tconst NOT IN \n    (SELECT knownForTitles \n     FROM name_basics \n     WHERE primaryName = 'Edward Norton')\nAND tconst NOT IN \n    (SELECT tconst \n     FROM title_basics \n     WHERE primaryTitle = 'Star Wars' \n     AND startYear = 1977)\nLIMIT 5;"}
{"id": 21801, "query": "I love movies like Kiss the Girls  (1997)", "history": ["Bio-Dome (1996)", "Can't Hardly Wait", "My Best Friend's Wedding (1997)", "Happy Gilmore (1996)"], "groundtruth": ["Tommy Boy (1995)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_ratings tr1 ON tb1.tconst = tr1.tconst\nJOIN title_basics tb2 ON tb2.primaryTitle = 'Kiss the Girls' AND tb1.startYear = tb2.startYear\nWHERE tb1.titleType = 'movie'\nAND tr1.averageRating > 7\nAND tb1.primaryTitle NOT IN ('Bio-Dome (1996)', \"Can't Hardly Wait\", \"My Best Friend's Wedding (1997)\", 'Happy Gilmore (1996)')\nORDER BY tr1.averageRating DESC, tr1.numVotes DESC\nLIMIT 5;"}
{"id": 21802, "query": "I love comedies from the 90s. Can you recommend any.", "history": ["Aladdin  (1992)"], "groundtruth": ["Zootopia", "Moana  (2016)", "Coco  (2017)"], "output": "SELECT primaryTitle, startYear, genres, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE titleType = 'movie'\nAND genres LIKE '%Comedy%'\nAND startYear >= 1990 AND startYear <= 1999\nAND primaryTitle != 'Aladdin'\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 21805, "query": "Would love to see any movie directed by Pedro Almodovar", "history": ["Arrival  (2016)"], "groundtruth": ["Shut In  (2016)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nINNER JOIN title_crew tc ON tb.tconst = tc.tconst\nWHERE tc.directors LIKE '%Pedro Almodovar%'\nAND tb.genres IN (SELECT genres FROM title_basics WHERE primaryTitle = 'Arrival (2016)')\nAND tb.tconst NOT IN (SELECT tconst FROM title_basics WHERE primaryTitle = 'Arrival (2016)')\nORDER BY tb.averageRating DESC, tb.numVotes DESC\nLIMIT 5;"}
{"id": 21806, "query": "I am looking for goo science fiction movies like Arrival  (2016)", "history": ["Tropic Thunder (2008)", "Eyes Wide Shut (1999)"], "groundtruth": ["The Last Samurai (2003)", "Jack Reacher  (2012)"], "output": "SELECT tb1.primaryTitle, tb1.startYear, tb1.genres, tr.averageRating \nFROM title_basics tb1 \nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb1.genres LIKE '%Science Fiction%' \nAND tb1.startYear = 2016\nAND (tb1.primaryTitle != 'Arrival' OR tb1.startYear != 2016)\nAND tb1.primaryTitle NOT IN ('Tropic Thunder', 'Eyes Wide Shut')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21824, "query": "I'd love to see anything directed by James Cameron. I loved Titanic (2012)", "history": ["Sweet Home Alabama  (2002)", "Legally Blonde (2001)"], "groundtruth": ["Sing  (2016)"], "output": "SELECT primaryTitle \nFROM title_basics \nJOIN title_crew ON title_basics.tconst = title_crew.tconst\nWHERE title_crew.directors LIKE '%James Cameron%' \nAND title_basics.primaryTitle != 'Titanic'\nAND title_basics.startYear >= 2000\nAND title_basics.genres LIKE '%Romance%'\nORDER BY title_basics.startYear DESC\nLIMIT 5;"}
{"id": 21825, "query": "Hi. How are you? Can you recommend me a movie with Reese Witherspoon?", "history": ["Hangover (2010)", "Girls Trip (2017)", "Super Troopers (2001)", "Pineapple Express  (2008)", "Dumb and Dumber (1994)", "Super Troopers 2 (2018)"], "groundtruth": ["Superbad  (2007)"], "output": "SELECT tb.primaryTitle\nFROM title_basics tb\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE nb.primaryName = 'Reese Witherspoon'\nAND tb.titleType = 'movie'\nAND tb.startYear >= 2000\nAND tb.startYear <= 2020\nAND tb.primaryTitle NOT IN ('Hangover', 'Girls Trip', 'Super Troopers', 'Pineapple Express', 'Dumb and Dumber', 'Super Troopers 2')\nORDER BY tb.averageRating DESC, tb.numVotes DESC\nLIMIT 1;"}
{"id": 21827, "query": "I really like movies like Hangover (2010) and Girls Trip (2017)", "history": ["Notebook  (2006)", "Game Night (2018)"], "groundtruth": ["Deadpool  (2016)", "Goodfellas (1990)", "Deadpool 2  (2018)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.startYear >= 2010\nAND tb.genres LIKE '%Comedy%'\nAND tb.tconst NOT IN ('tt0361748', 'tt3569230', 'tt0457913', 'tt7772580');"}
{"id": 21830, "query": "I like movies like Dumb and Dumber (1994) and Super Troopers (2001)", "history": ["Scarface  (1983)", "Goodfellas (1990)", "Training Day (2001)", "Lethal Weapon (1987)"], "groundtruth": ["Shutter Island  (2010)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear \nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'Dumb and Dumber')\nOR tb.genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'Super Troopers')\nAND tb.primaryTitle NOT IN ('Dumb and Dumber', 'Super Troopers', 'Scarface', 'Goodfellas', 'Training Day', 'Lethal Weapon')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21854, "query": "I like movies similar to Ace Ventura: Pet Detective (1994) and Dumb and Dumber (1994)", "history": ["Dumb and Dumber (1994)", "Superbad  (2007)", "Fight Club (1999)", "Pulp Fiction (1994)", "Deadpool  (2016)"], "groundtruth": ["This Is the End (2013)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nJOIN title_ratings tr2 ON tb2.tconst = tr2.tconst\nWHERE tb2.primaryTitle IN ('Ace Ventura: Pet Detective (1994)', 'Dumb and Dumber (1994)')\nAND tb1.primaryTitle NOT IN ('Dumb and Dumber (1994)', 'Superbad  (2007)', 'Fight Club (1999)', 'Pulp Fiction (1994)', 'Deadpool  (2016)')\nAND tb1.startYear >= 1990\nAND tb1.titleType = 'movie'\nORDER BY tr2.averageRating DESC, tr2.numVotes DESC\nLIMIT 5;"}
{"id": 21855, "query": "i like the movies Dumb and Dumber (1994) and Superbad  (2007)", "history": ["Hot Tub Time Machine", "Office Space (1999)", "Superbad  (2007)", "The 40-Year-Old Virgin (2005)", "Dumb and Dumber (1994)"], "groundtruth": ["Easy A (2010)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.titleType = 'movie' \nAND (tb.primaryTitle = 'Dumb and Dumber' OR tb.primaryTitle = 'Superbad')\nAND tb.primaryTitle NOT IN ('Hot Tub Time Machine', 'Office Space (1999)', 'Superbad  (2007)', 'The 40-Year-Old Virgin (2005)', 'Dumb and Dumber (1994)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21858, "query": "i like movies similar to Dumb and Dumber (1994) and Superbad  (2007)", "history": ["Iron Man  (2008)", "Superbad  (2007)", "Dumb and Dumber (1994)", "Deadpool  (2016)"], "groundtruth": ["Game Night (2018)", "Deadpool 2  (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics AS tb1\nJOIN title_basics AS tb2 ON tb1.genres = tb2.genres\nWHERE (tb2.primaryTitle = 'Dumb and Dumber' AND tb2.startYear = 1994)\n   OR (tb2.primaryTitle = 'Superbad' AND tb2.startYear = 2007)\n   AND tb1.primaryTitle NOT IN ('Dumb and Dumber', 'Superbad', 'Iron Man', 'Deadpool')\nGROUP BY tb1.primaryTitle\nORDER BY COUNT(tb1.primaryTitle) DESC\nLIMIT 5;"}
{"id": 21860, "query": "I\u2019m looking for a good sci-fi movie, like Guardians of the Galaxy  (2014)", "history": ["Superbad  (2007)", "Dumb and Dumber (1994)", "Kick-Ass  (2010)"], "groundtruth": ["This Is the End (2013)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating, tr.numVotes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Sci-Fi%' \nAND tb.startYear = 2014\nAND tb.tconst NOT IN ('tt1136608', 'tt0107419', 'tt1250777') \nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21861, "query": "i liked Dumb and Dumber (1994) and Superbad  (2007)", "history": ["Star Wars  (1977)"], "groundtruth": ["Stargate  (1994)", "District 9 (2009)", "Deadpool 2  (2018)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 2000\nAND tb.genres LIKE '%Comedy%'\nAND tb.tconst NOT IN ('tt0109686', 'tt0829482')  -- excluding Dumb and Dumber and Superbad\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21863, "query": "I want a nice action movie", "history": ["Rush Hour  (1998)", "The Transporter (2002)", "Deadpool 2  (2018)", "Hot Fuzz (2007)", "Tropic Thunder (2008)"], "groundtruth": ["Die Hard (1988)"], "output": "SELECT tb.primaryTitle AS Recommended_Movie, tb.startYear AS Release_Year, tb.genres AS Genre\nFROM title_basics tb\nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Action%' \nAND tr.averageRating > 7\nAND tb.primaryTitle NOT IN ('Rush Hour', 'The Transporter', 'Deadpool 2', 'Hot Fuzz', 'Tropic Thunder')\nORDER BY tr.averageRating DESC, tb.startYear ASC;"}
{"id": 21868, "query": "i liked Dumb and Dumber (1994) and Superbad  (2007)", "history": ["Talladega Nights: The Ballad of Ricky Bobby (2006)", "Anchorman ", "Happy Gilmore (1996)"], "groundtruth": ["Napoleon Dynamite (2004)"], "output": "SELECT tb.primaryTitle AS recommended_movie, AVG(tr.averageRating) AS average_rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp1 ON tb.tconst = tp1.tconst\nJOIN title_principals tp2 ON tp1.nconst = tp2.nconst\nWHERE (tp1.primaryTitle = 'Dumb and Dumber' OR tp1.primaryTitle = 'Superbad')\nAND tp2.primaryTitle NOT IN ('Talladega Nights: The Ballad of Ricky Bobby', 'Anchorman', 'Happy Gilmore')\nAND tb.titleType = 'movie'\nGROUP BY tb.primaryTitle\nORDER BY average_rating DESC\nLIMIT 10;"}
{"id": 21869, "query": "What are some good comedies you watch?", "history": ["Superbad  (2007)", "Super Troopers (2001)", "Van Wilder (2002)", "Dumb and Dumber (1994)"], "groundtruth": ["The Interview (2014)", "The Disaster Artist (2017)"], "output": "SELECT tb1.primaryTitle\nFROM title_basics tb1\nINNER JOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb1.genres LIKE '%Comedy%'\nAND tb1.primaryTitle NOT IN ('Superbad', 'Super Troopers', 'Van Wilder', 'Dumb and Dumber')\nAND tr.averageRating >= 7\nORDER BY tr.numVotes DESC\nLIMIT 10;"}
{"id": 21871, "query": "im in the mood for a movie like Dumb and Dumber (1994) and Superbad  (2007)", "history": ["Black Panther (2018)"], "groundtruth": ["Ant-Man and the Wasp (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.startYear BETWEEN 1990 AND 2010\nAND nb.primaryName IN ('Jim Carrey', 'Jeff Daniels', 'Jonah Hill', 'Michael Cera')\nAND tb.primaryTitle NOT IN ('Dumb and Dumber', 'Superbad', 'Black Panther')\nGROUP BY tb.primaryTitle\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21873, "query": "I\u2019m well, I\u2019m looking for some funny movies like Superbad  (2007) or Kick-Ass  (2010)", "history": ["Moana  (2016)"], "groundtruth": ["Ocean's 8 (2018)", "The 15-17 to Paris"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS movie_year, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tp.tconst = tb.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE tb.genres LIKE '%Comedy%'\nAND (tb.primaryTitle != 'Superbad' OR tb.startYear != 2007)\nAND (tb.primaryTitle != 'Kick-Ass' OR tb.startYear != 2010)\nAND (tb.primaryTitle != 'Moana' OR tb.startYear != 2016)\nAND nb.primaryName IN ('Seth Rogen', 'Michael Cera', 'Jonah Hill', 'Chlo\u00eb Grace Moretz')\nGROUP BY tb.primaryTitle, tb.startYear, tb.genres\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;\n"}
{"id": 21874, "query": "Hello, what can you recommend for action movies?", "history": ["Along Came Polly", "Pretty Woman (1990)", "Bridget Jones's Diary  (2001)"], "groundtruth": ["A Lot like Love (2005)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%'\nAND tb.primaryTitle NOT IN ('Along Came Polly', 'Pretty Woman (1990)', \"Bridget Jones's Diary  (2001)\")\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21876, "query": "i am in the mood for something like Superbad  (2007) and Ace Ventura: Pet Detective (1994)", "history": ["John Wick: Chapter 2 (2017)"], "groundtruth": ["Guardians of the Galaxy Vol. 2 (2017)", "Mad Max: Fury Road (2015)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Comedy%'\nAND startYear BETWEEN 1990 AND 2010\nAND primaryTitle NOT IN ('Superbad', 'Ace Ventura: Pet Detective', 'John Wick: Chapter 2')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 21878, "query": "can you rec any other good zombie movies", "history": ["Superbad  (2007)", "Dumb and Dumber (1994)", "Pineapple Express  (2008)"], "groundtruth": ["Easy A (2010)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Zombie%' \nAND tb.primaryTitle NOT IN ('Superbad', 'Dumb and Dumber', 'Pineapple Express') \nORDER BY tr.averageRating DESC;"}
{"id": 21891, "query": "Hey there, I'm looking for some good animated film recommendations. Have you seen any in the past year?", "history": ["The Basketball Diaries  (1995)", "The Good Son  (1993)", "Fight Club (1999)", "The Wolf of Wall Street  (2013)", "Inception (2010)"], "groundtruth": ["The Revenant  (2015)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics AS tb1\nJOIN title_ratings AS tr ON tb1.tconst = tr.tconst\nWHERE tb1.titleType = 'movie'\nAND tb1.genres LIKE '%Animation%'\nAND tb1.startYear = 2021\nAND tb1.tconst NOT IN ('tt0112461', 'tt0107034', 'tt0137523', 'tt0993846', 'tt1375666')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21905, "query": "Hello can you recommend movies for someone who grew up with A Nightmare on Elm Street (1984) ?", "history": ["Friday the 13th  (1980)", "A Nightmare on Elm Street (1984)"], "groundtruth": ["The Usual Suspects (1995)", "Deadpool 2  (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics AS tb1\nJOIN title_ratings AS tr ON tb1.tconst = tr.tconst\nJOIN title_principals AS tp1 ON tb1.tconst = tp1.tconst\nJOIN title_basics AS tb2 ON tp1.nconst = tb2.tconst\nWHERE tb1.titleType = 'movie'\nAND tb1.startYear >= 1980\nAND tb1.genres LIKE CONCAT('%',tb2.genres,'%')\nAND tb2.primaryTitle = 'A Nightmare on Elm Street'\nAND tb1.primaryTitle NOT IN ('Friday the 13th','A Nightmare on Elm Street')\nGROUP BY tb1.primaryTitle\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21912, "query": "I want to see something like Dumb and Dumber (1994) and Zombieland (2009)", "history": ["The Last House on the Left  (1972)", "It Follows (2014)", "The Last House on the Left  (2009)"], "groundtruth": ["The Forest  (2016)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE (genres LIKE '%Comedy%' OR genres LIKE '%Horror%')\nAND (startYear > 2010 OR startYear < 1970)\nAND primaryTitle NOT IN ('Dumb and Dumber', 'Zombieland', 'The Last House on the Left (1972)', 'It Follows', 'The Last House on the Left (2009)')\nORDER BY averageRating DESC\nLIMIT 10;"}
{"id": 21914, "query": "I enjoy films like Ace Ventura: Pet Detective (1994) and Superbad  (2007)", "history": ["The Wedding Singer (1998)", "50 First Dates (2004)"], "groundtruth": ["The Big Sick (2017)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE primaryTitle NOT IN ('Ace Ventura: Pet Detective', 'Superbad', 'The Wedding Singer', '50 First Dates')\nAND genres IN (\n    SELECT genres\n    FROM title_basics\n    WHERE primaryTitle = 'Ace Ventura: Pet Detective'\n    OR primaryTitle = 'Superbad'\n)\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 21924, "query": "i am in the mood for something like Ace Ventura: Pet Detective (1994) or Superbad  (2007)", "history": ["Super Troopers (2001)", "Beerfest (2006)", "Zombieland (2009)"], "groundtruth": ["Super Troopers 2 (2018)"], "output": "SELECT tb.primaryTitle AS recommendation, tb.startYear AS releaseYear, tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tp.tconst = tb.tconst\nJOIN name_basics nb ON nb.nconst = tp.nconst\nWHERE tb.titleType = 'movie'\nAND (tb.primaryTitle LIKE '%Ace Ventura: Pet Detective%'\nOR tb.primaryTitle LIKE '%Superbad%')\nAND tb.primaryTitle NOT IN ('Super Troopers (2001)', 'Beerfest (2006)', 'Zombieland (2009)')\nORDER BY tr.averageRating DESC, tb.startYear DESC\nLIMIT 10;"}
{"id": 21926, "query": "What about a good comedy for the end?", "history": ["Wells Fargo  (1937)", "Pulp Fiction (1994)", "Sin City  (2005)"], "groundtruth": ["Eagle Eye (2008)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.startYear <= 2005\nAND tb.tconst NOT IN ('tt0029442', 'tt0110912', 'tt0401792')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 1;"}
{"id": 21930, "query": "I just watched Clerks (1994) and Chasing Amy (1997) so I'm in a comedy mood", "history": ["The Terminator (1984)"], "groundtruth": ["Predator  (1987)", "Die Hard (1988)", "Kingpin  (1996)"], "output": "SELECT primaryTitle, startYear, averageRating \nFROM title_basics \nJOIN title_ratings \nON title_basics.tconst = title_ratings.tconst \nWHERE genres LIKE '%Comedy%' \nAND startYear > 1997 \nAND startYear < 2022 \nAND title_basics.tconst NOT IN ('tt0103064', 'tt0118842') \nORDER BY averageRating DESC \nLIMIT 5;"}
{"id": 21932, "query": "Can you recommend some movies for me to watch?", "history": ["The Matrix (1999)", "Speed  (1994)"], "groundtruth": ["Ghost in the Shell  (1995)", "Die Hard (1988)", "John Wick (2014)", "Predator  (1987)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear AS release_year, tr.averageRating AS rating, tr.numVotes AS num_votes\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb1.titleType = 'movie'\nAND tb1.primaryTitle NOT IN ('The Matrix (1999)', 'Speed  (1994)')\nAND tb1.startYear <= 2000\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 21933, "query": "Do you know any movies similar to The Matrix (1999) ? I loved the trilogy!", "history": ["True Lies (1994)", "A Walk to Remember (2002)"], "groundtruth": ["Love Stinks  (1999)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' OR tb.genres LIKE '%Sci-Fi%'\nAND (tb.startYear BETWEEN 1999 AND 2003) \nAND tb.primaryTitle NOT IN ('The Matrix (1999)', 'True Lies (1994)', 'A Walk to Remember (2002)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21951, "query": "I am looking for a movie similar to Juno (2007). Can you recommend a few options?", "history": ["Shakespeare in Love (1998)", "Citizen Kane (1941)", "Casablanca  (1942)"], "groundtruth": ["Elizabeth  (1998)", "Anonymous  (2011)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_ratings tr1 ON tb1.tconst = tr1.tconst\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nJOIN title_ratings tr2 ON tb2.tconst = tr2.tconst\nWHERE tb1.startYear > 2000 \nAND tb1.titleType = 'movie'\nAND tb2.primaryTitle = 'Juno'\nAND (tb2.primaryTitle NOT IN ('Shakespeare in Love (1998)', 'Citizen Kane (1941)', 'Casablanca (1942)'))\nORDER BY tr1.averageRating DESC, tr1.numVotes DESC\nLIMIT 5;"}
{"id": 21954, "query": "Know any movies like Shakespeare in Love (1998)?", "history": ["Grease  (1978)", "Mamma Mia!  (2008)"], "groundtruth": ["High School Musical 3: Senior Year (2008)", "Hairspray  (2007)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Romance%' \nAND tb.startYear BETWEEN 1995 AND 2005\nAND tb.tconst NOT IN ('tt0138097', 'tt0795421') \nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21958, "query": "I'm fine thanks. Actually I saw both and love them but in the mood for something more along the lines of The Terminator (1984)", "history": ["28 Days Later (2002)", "I Am Legend  (2007)"], "groundtruth": ["Dawn of the Dead  (2004)", "World War Z "], "output": "SELECT primaryTitle \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE title_basics.titleType = 'movie' \nAND title_basics.startYear < 1984 \nAND title_basics.genres LIKE '%Action%' \nORDER BY title_ratings.averageRating DESC \nLIMIT 5;"}
{"id": 21959, "query": "Hmm I like zombie movies like 28 Days Later (2002)", "history": ["Saving Private Ryan (1998)", "The Inglorious Bastards (1978)"], "groundtruth": ["Shooter  (2007)", "Black Hawk Down  (2002)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Zombie%'\nAND tb.primaryTitle NOT IN ('Saving Private Ryan (1998)', 'The Inglorious Bastards (1978)', '28 Days Later (2002)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21960, "query": "Know any movies similar to Saving Private Ryan (1998)?", "history": ["Forever Young  (1992)", "Powder  (1995)"], "groundtruth": ["Rites of Passage  (1999)", "The Time Traveler's Wife  (2009)", "Phenomenon  (1996)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.tconst IN \n    (SELECT tp.tconst\n     FROM title_principals tp\n     JOIN title_basics tb1 ON tp.tconst = tb1.tconst\n     WHERE tp.nconst IN \n         (SELECT tp1.nconst\n          FROM title_principals tp1\n          JOIN title_basics tb2 ON tp1.tconst = tb2.tconst\n          WHERE tb2.primaryTitle = 'Saving Private Ryan' AND tb2.startYear = 1998)\n     AND tb1.primaryTitle NOT IN ('Saving Private Ryan', 'Forever Young', 'Powder')\n     AND tb1.titleType = 'movie')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21961, "query": "Hope you're having a great day! Know any movies similar to Powder  (1995)?", "history": ["The Italian Job (1969)", "Gone in 60 Seconds  (2000)", "Drive  (2011)"], "groundtruth": ["The Guest  (2014)", "Thief  (1981)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nJOIN title_principals tp ON tb.tconst = tp.tconst \nJOIN name_basics nb ON tp.nconst = nb.nconst \nWHERE tb.genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'Powder' AND startYear = 1995) \nAND tb.tconst != (SELECT tconst FROM title_basics WHERE primaryTitle = 'Powder' AND startYear = 1995) \nAND nb.primaryName IN ('The Italian Job (1969)', 'Gone in 60 Seconds  (2000)', 'Drive  (2011)') \nGROUP BY tb.primaryTitle, tr.averageRating \nORDER BY tr.averageRating DESC;"}
{"id": 21963, "query": "I feel like watching something like Drive  (2011) or The Italian Job (1969)", "history": ["The Greatest Showman (2017)"], "groundtruth": ["La La Land  (2016)", "Moulin Rouge! (2001)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS year\nFROM title_basics tb\nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Crime%' \nAND tb.startYear BETWEEN 1960 AND 2020\nAND (tb.primaryTitle LIKE '%Drive%' OR tb.primaryTitle LIKE '%The Italian Job%')\nAND tb.primaryTitle NOT IN ('The Greatest Showman (2017)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21964, "query": "Hello! I love The Greatest Showman (2017) . Do you know any movies like it?", "history": ["Deadpool 2  (2018)", "Deadpool  (2016)"], "groundtruth": ["Fargo  (1996)", "Rush Hour  (1998)", "Tango & Cash (1989)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Musical%'\nAND tb.startYear > 2010\nAND tb.tconst NOT IN ('tt3411444', 'tt5463162')\nAND tr.averageRating > 7\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 21966, "query": "Any others funny action comedies?", "history": ["Edward Scissorhands (1990)", "Blow  (2001)"], "groundtruth": ["Secret Window (2004)", "Pirates of the Caribbean "], "output": "SELECT tb.primaryTitle AS RecommendedMovie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' \nAND tb.genres LIKE '%Comedy%'\nAND tb.genres NOT LIKE '%Horror%'\nAND tb.startYear >= 2000\nAND tr.averageRating >= 7\nAND tb.primaryTitle NOT IN ('Edward Scissorhands (1990)', 'Blow  (2001)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 21969, "query": "I'm looking for something more like Halloween  (1978)", "history": ["Lost in Translation  (2003)"], "groundtruth": ["Iron Man 2 (2010)", "Lucy  (2014)", "Captain America: Civil War (2016)", "Ghost in the Shell  (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Horror%'\nAND tb.startYear = 1978\nAND tb.primaryTitle NOT LIKE '%Halloween%'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21973, "query": "I do actually. I love Scarlett Johannson. Know any of her movies?", "history": ["West Side Story  (1961)", "The Man in the Iron Mask  (1998)"], "groundtruth": ["The Count of Monte Cristo  (2002)", "The Phantom of the Opera  (2004)"], "output": "SELECT tb.primaryTitle \nFROM title_basics tb \nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE nb.primaryName = 'Scarlett Johansson';"}
{"id": 21976, "query": "I am a huge Brad Pitt fan. Got any suggestions?", "history": ["National Lampoon's Vacation (1983)", "Porky's (1981)", "Animal House (1978)"], "groundtruth": ["Van Wilder (2002)", "National Lampoon's Christmas Vacation (1989)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nJOIN title_principals tp ON tb.tconst = tp.tconst \nJOIN name_basics nb ON tp.nconst = nb.nconst \nWHERE nb.primaryName = 'Brad Pitt' \nAND tb.titleType = 'movie' \nAND tb.startYear >= 1980 \nAND tb.startYear <= 1990 \nAND tr.numVotes > 1000 \nAND tb.primaryTitle NOT IN ('National Lampoon\\'s Vacation (1983)', 'Porky\\'s (1981)', 'Animal House (1978)') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 21977, "query": "I recently saw Porky's (1981) and would love to know of any other movies that are similar if you know of any!", "history": ["Zombieland (2009)", "Shaun of the Dead (2004)", "Terminator 2: Judgment Day (1991)", "Deadpool  (2016)", "The Terminator (1984)"], "groundtruth": ["Cargo (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' \nAND tb.startYear >= 1980 \nAND tb.startYear <= 1985\nAND tr.averageRating >= 7\nAND tb.tconst NOT IN ('tt0088000', 'tt0090605', 'tt0103064', 'tt1431045', 'tt0088247', 'tt0099700', 'tt0100403', 'tt0094048', 'tt0092005')\nORDER BY tr.averageRating DESC, tb.startYear ASC\nLIMIT 5;"}
{"id": 21980, "query": "Great. I was hoping you could recommend some classics like Stand by Me  (1986)", "history": ["Avatar  (2009)"], "groundtruth": ["Tron (1982)", "Valerian and the City of a Thousand Planets (2017)", "Guardians of the Galaxy  (2014)"], "output": "SELECT tb.primaryTitle\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.startYear < 1986\nAND tb.genres LIKE '%Drama%'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21984, "query": "Awesome! I'm looking for a good scary movie like Rosemary's Baby  (1968) a classic, you know?", "history": ["Blade Runner (1982)"], "groundtruth": ["Blade Runner 2049 (2017)"], "output": "SELECT primaryTitle, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Horror%' AND startYear < 1970\nAND primaryTitle != 'Rosemary\\'s Baby (1968)' \nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 21986, "query": "I am looking for something scary, similar to The Possession (2012) or Evil Dead  (2013)", "history": [], "groundtruth": ["Seven Pounds (2008)", "If I Stay  (2014)"], "output": "SELECT DISTINCT tb.primaryTitle\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND tb.startYear > 2010\nAND tb.startYear < 2014\nAND (tb.primaryTitle = 'The Possession' OR tb.primaryTitle = 'Evil Dead')\nAND tr.averageRating > 7\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21987, "query": "I'm just finishing up watching Hereafter  (2010) and I really like it. Can you recommend anything similar?", "history": ["Zathura  (2005)", "Jumanji (1995)"], "groundtruth": ["The BFG  (2016)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Drama%' \nAND tb.startYear >= 2000 \nAND tb.startYear <= 2010 \nAND tb.tconst != 'Hereafter'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 21988, "query": "I've been watching 5 straight hours of chopped and need a movie to watch.", "history": ["Jeepers Creepers  (2001)", "Girls Trip (2017)"], "groundtruth": ["Jeepers Creepers 3 (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Horror%'\nAND tb.startYear > 2000\nAND tr.averageRating > 6.5\nAND tb.tconst NOT IN ('tt0263488', 'tt3564472')\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 21989, "query": "i like horror and comedies do you know any good ones", "history": ["Insidious  (2011)", "Jigsaw (2017)", "Girls Trip (2017)"], "groundtruth": ["The Other Guys (2010)", "The Possession (2012)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Horror%' OR tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Insidious', 'Jigsaw', 'Girls Trip')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 21991, "query": "I am looking for movies with a great story, like Captain Phillips  (2013) and Sully  (2016) - any suggestions?", "history": ["Girls Trip (2017)"], "groundtruth": ["Army of Darkness (1992)", "Evil Dead II (1987)", "Evil Dead"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Drama%' \nAND tb.startYear BETWEEN 2010 AND 2020 \nAND tb.primaryTitle NOT IN ('Captain Phillips', 'Sully', 'Girls Trip') \nAND tr.averageRating >= 7 \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 21992, "query": "im into horros and comedies do you have any suggestions", "history": ["Annabelle  (2014)", "Insidious  (2011)", "Superbad  (2007)", "Girls Trip (2017)"], "groundtruth": ["Super Troopers (2001)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE (tb.genres LIKE '%Horror%' OR tb.genres LIKE '%Comedy%')\nAND tb.primaryTitle NOT IN ('Annabelle  (2014)', 'Insidious  (2011)', 'Superbad  (2007)', 'Girls Trip (2017)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22013, "query": "I'm good!  My brother is coming to visit and I want to queue up some good old fashioned monster movies for him.  Any suggestions?", "history": ["Along Came Polly", "The 40-Year-Old Virgin (2005)", "There's Something About Mary (1998)"], "groundtruth": ["Hall Pass"], "output": "SELECT tb.primaryTitle \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Horror%' \nAND tb.startYear <= 1970 \nAND tr.averageRating >= 7 \nORDER BY tr.numVotes DESC \nLIMIT 5;"}
{"id": 22014, "query": "I'd love to see something similar to There's Something About Mary (1998)", "history": ["The Sandlot (1993)", "Stand by Me  (1986)", "The Goonies (1985)"], "groundtruth": ["Gremlins (1984)", "The Lost Boys (1987)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating AS rating, tr.numVotes AS votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.startYear >= 1980 \nAND tb.titleType = 'movie'\nAND tb.genres LIKE '%Comedy%'\nAND tb.tconst NOT IN ('tt0109830', 'tt0092005', 'tt0089218')  -- excluding user preference history\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22016, "query": "I'm looking to watch a movie like The Goonies (1985). Know of any good ones?", "history": ["Saw  (2004)", "Cube  (1997)"], "groundtruth": ["The Cabin in the Woods", "The Killing Room (2009)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nJOIN title_principals tp ON tb.tconst = tp.tconst \nJOIN name_basics nb ON tp.nconst = nb.nconst \nWHERE tb.genres LIKE '%Adventure%' \nAND tb.startYear < 1985 \nAND tr.averageRating > 7 \nAND nb.primaryName <> 'Steven Spielberg' \nAND tb.tconst NOT IN ('tt0316208', 'tt0123755') \nGROUP BY tb.primaryTitle \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 22019, "query": "I loved The Professional  (1981) and would love to see something similar", "history": ["Eraser  (1996)", "The Terminator (1984)"], "groundtruth": ["Shooter  (2007)"], "output": "SELECT tb1.primaryTitle, tb1.startYear, tb1.genres, tr.averageRating\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb1.genres LIKE '%Action%' OR tb1.genres LIKE '%Thriller%'\nAND tb1.startYear > 1981\nAND tb1.startYear < 1996\nAND tb1.tconst NOT IN ('tt0110413', 'tt0088247')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22021, "query": "I really like action films but not super hero movies", "history": ["Wolf Creek  (2005)", "Hostel  (2011)"], "groundtruth": ["Winchester (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' \nAND tb.genres NOT LIKE '%Superhero%'\nAND (tb.primaryTitle NOT IN ('Wolf Creek  (2005)', 'Hostel  (2011)'))\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22028, "query": "I really like romantic comedies like Knocked Up (2007)", "history": ["Joe Dirt (2001)", "Daddy's Home  (2015)"], "groundtruth": ["Joe Dirt 2: Beautiful Loser (2015)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Romance%' AND tb.genres LIKE '%Comedy%'\nAND (tb.startYear >= 2000 AND tb.startYear <= 2010)\nAND tb.primaryTitle != 'Knocked Up'\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22029, "query": "Hello there!  Yes, I do.  I like silly comedies like Daddy's Home  (2015) .", "history": ["Halloween  (1978)", "It (1990)"], "groundtruth": ["Winchester (2018)", "Wrong Turn (2003)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE titleType = 'movie'\nAND primaryTitle NOT LIKE '%Daddy\\'s Home%'\nAND genres LIKE '%Comedy%'\nAND startYear > 2010\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 22031, "query": "I liked Dumb and Dumber (1994) and Superbad  (2007)", "history": ["Deadpool  (2016)", "Reservoir Dogs (1992)", "Predator  (1987)", "Drive  (2011)"], "groundtruth": ["Run  (1991)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres IN \n    (SELECT genres \n     FROM title_basics \n     WHERE primaryTitle IN ('Dumb and Dumber', 'Superbad')) \n     AND tb.primaryTitle NOT IN ('Dumb and Dumber', 'Superbad', 'Deadpool', 'Reservoir Dogs', 'Predator', 'Drive')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22032, "query": "i feel like watching something like Predator  (1987) or Drive  (2011)", "history": ["Fargo  (1996)", "Scream  (1996)", "It (1990)", "Friday the 13th  (1980)", "Pulp Fiction (1994)"], "groundtruth": ["The Usual Suspects (1995)", "Halloween  (1978)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE (tb.primaryTitle LIKE '%Predator%' OR tb.primaryTitle LIKE '%Drive%')\nAND tb.startYear >= 1980\nAND tb.startYear <= 2011\nAND tb.genres LIKE '%Action%' \nAND tb.tconst NOT IN ('tt0110912', 'tt2267998', 'tt0878550', 'tt0780504', 'tt4633694') \nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22033, "query": "Do you watch anything like Pulp Fiction (1994)?", "history": ["It (1990)", "30 Minutes or Less (2011)", "Zombieland (2009)"], "groundtruth": ["30 Days of Night  (2007)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating AS rating, tr.numVotes AS num_votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE tb.genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'Pulp Fiction')\nAND tb.startYear BETWEEN 1990 AND 1998\nAND tb.tconst NOT IN ('It (1990)', '30 Minutes or Less (2011)', 'Zombieland (2009)')\nAND nb.primaryName = ANY (SELECT primaryName FROM name_basics WHERE knownForTitles LIKE '%Pulp Fiction%')\nGROUP BY tb.primaryTitle, tr.averageRating, tr.numVotes\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 22034, "query": "I am in the mood for something like Zombieland (2009) or 30 Minutes or Less (2011)", "history": ["The Bodyguard  (1992)", "Waterworld (1995)", "Field of Dreams (1989)", "Dances with Wolves (1990)"], "groundtruth": ["Draft Day (2014)"], "output": "```sql\nSELECT tb.primaryTitle AS recommended_movie, tr.averageRating, tr.numVotes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp1 ON tb.tconst = tp1.tconst\nJOIN title_principals tp2 ON tp1.nconst = tp2.nconst\nWHERE tp2.tconst IN \n    (SELECT tconst\n     FROM title_basics\n     WHERE primaryTitle IN ('Zombieland', '30 Minutes or Less'))\nAND tb.primaryTitle NOT IN ('Zombieland', '30 Minutes or Less', 'The Bodyguard', 'Waterworld', 'Field of Dreams', 'Dances with Wolves')\nAND startYear >= 2000\nAND titleType = 'movie'\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;\n```"}
{"id": 22037, "query": "Hello!  I'm good. I am in the mood for some sort of end of the world type movie.  Do you have any ideas?", "history": ["Beloved  (1998)", "The Color Purple  (1985)"], "groundtruth": ["Amistad  (1997)", "Precious ", "Driving Miss Daisy (1989)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%apocalyptic%' OR tb.genres LIKE '%post-apocalyptic%'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22038, "query": "Yes actually. I really enjoyed the movie The Color Purple  (1985). Know any similar movies?", "history": ["Ferris Bueller's Day Off (1986)"], "groundtruth": ["The Freshman  (1990)", "License to Drive (1988)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Drama%' \nAND tb.startYear BETWEEN 1980 AND 1990 \nAND tb.tconst != 'tt0088939' \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 22046, "query": "I am in the mood for something funny like Ace Ventura: Pet Detective (1994) or Superbad  (2007)", "history": ["Superbad  (2007)", "Grown Ups  (2010)", "Ace Ventura: Pet Detective (1994)"], "groundtruth": ["The Other Guys (2010)"], "output": "SELECT primaryTitle\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Comedy%'\nAND startYear > 1990\nAND primaryTitle NOT IN ('Superbad  (2007)', 'Grown Ups  (2010)', 'Ace Ventura: Pet Detective (1994)')\nORDER BY averageRating DESC, numVotes DESC\nLIMIT 5;"}
{"id": 22055, "query": "I like action movies like Armageddon  (1997)", "history": ["Superbad  (2007)", "Dumb and Dumber (1994)", "Hot Fuzz (2007)"], "groundtruth": ["Paul Blart: Mall Cop (2009)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%'\nAND tb.startYear >= 2000\nAND tr.averageRating > 7.5\nAND tb.primaryTitle NOT IN ('Superbad', 'Dumb and Dumber', 'Hot Fuzz', 'Armageddon')\nLIMIT 5;"}
{"id": 22057, "query": "I am in the mood for comedies today", "history": ["30 Minutes or Less (2011)", "Shaun of the Dead (2004)", "Zombieland (2009)"], "groundtruth": ["Wristcutters: A Love Story (2006)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating AS rating, tr.numVotes AS num_votes\nFROM title_basics AS tb\nJOIN title_ratings AS tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('30 Minutes or Less (2011)', 'Shaun of the Dead (2004)', 'Zombieland (2009)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22059, "query": "Would love to see a Ben Stiller movie like Meet the Parents (2000). Know any?", "history": ["Face/Off (1997)", "The Punisher  (2004)", "Drive  (2011)"], "groundtruth": ["Death Wish "], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE nb.primaryName = 'Ben Stiller'\nAND tb.startYear = 2000\nAND tb.genres LIKE '%Comedy%'\nAND tb.tconst NOT IN ('tt0119114', 'tt0330793', 'tt0780504') -- Excluding previously watched movies\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22062, "query": "Hello!  I am in the mood for a romantic comedy.  Something similar to When Harry Met Sally... (1989) .", "history": ["Scarface  (1983)"], "groundtruth": ["Carlito's Way (1993)", "Goodfellas (1990)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Romance%' AND tb.genres LIKE '%Comedy%' \nAND tb.startYear >= 1980 \nAND tb.tconst != 'tt0098635' \nAND tr.numVotes > 10000 \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 22070, "query": "Hello!  I am in the mood for a movie with animals.  Nothing too sad like Hachi: A Dog's Tale (2009) , something upbeat.", "history": ["Goodfellas (1990)", "The Terminator (1984)"], "groundtruth": ["Pirates of the Caribbean "], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' AND tb.genres LIKE '%Family%'\nAND tb.primaryTitle NOT LIKE '%Hachi: A Dog\\'s Tale%'\nAND tb.primaryTitle NOT IN ('Goodfellas (1990)', 'The Terminator (1984)')\nAND tr.averageRating >= 7\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 22073, "query": "Would love to see a movie like The Passion of the Christ (2004)", "history": ["Notebook ", "Drive  (2011)"], "groundtruth": ["The Nice Guys (2016)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'The Passion of the Christ (2004)') \nAND tb.tconst NOT IN ('tt0338013', 'tt0780504') \nAND tb.startYear >= 2000 \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 22074, "query": "I have been in the mood to see a good Ryan Gosling movie like Drive  (2011). Know some good ones?", "history": ["Brighton Beach Memoirs  (1986)", "The Ten Commandments  (1956)"], "groundtruth": ["Submarine  (2010)", "Boyhood  (2014)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE nb.primaryName = 'Ryan Gosling' \nAND tb.titleType = 'movie' \nAND tb.startYear >= 1980 \nAND tb.startYear < 2011 \nAND tr.averageRating >= 7 \nAND tb.tconst NOT IN ('Brighton Beach Memoirs (1986)', 'The Ten Commandments (1956)')\nORDER BY tr.averageRating DESC, tb.startYear DESC\nLIMIT 5;"}
{"id": 22076, "query": "Like Brighton Beach Memoirs  (1986)", "history": ["The Taming of the Shrew", "Cleopatra  (1970)", "National Velvet ", "Cat on a Hot Tin Roof  (1958)"], "groundtruth": ["Who's Afraid of Virginia Woolf%3F  (1966)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics AS tb1\nJOIN title_ratings AS tr ON tb1.tconst = tr.tconst\nJOIN title_basics AS tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'Brighton Beach Memoirs'\nAND tb1.startYear >= 1980\nAND tb1.titleType = 'movie'\nAND tb1.primaryTitle NOT IN ('The Taming of the Shrew', 'Cleopatra  (1970)', 'National Velvet ', 'Cat on a Hot Tin Roof  (1958)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22078, "query": "i am in the mood for something like Drive  (2011) or Half Baked (1998)", "history": ["The Shining  (1980)", "A Clockwork Orange  (1971)", "Misery  (1990)"], "groundtruth": ["Dr. Strangelove (1964)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE (tb.primaryTitle LIKE '%Drive%' OR tb.primaryTitle LIKE '%Half Baked%')\nAND (tb.primaryTitle NOT IN ('The Shining', 'A Clockwork Orange', 'Misery'))\nAND tb.titleType = 'movie'\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22083, "query": "A comedy like Say Anything... (1989) would be nice, but I'm open to other suggestions.", "history": ["Zack and Miri Make a Porno (2008)", "Superbad  (2007)", "Knocked Up (2007)", "Drive  (2011)"], "groundtruth": ["The Faculty (1998)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear AS release_year, tb1.genres\nFROM title_basics AS tb1\nJOIN title_basics AS tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'Say Anything...'\nAND tb2.startYear = 1989\nAND tb1.titleType = 'movie'\nAND tb1.primaryTitle NOT IN ('Zack and Miri Make a Porno (2008)', 'Superbad (2007)', 'Knocked Up (2007)', 'Drive (2011)')\nAND tb1.startYear >= 1980\nAND tb1.genres LIKE '%Comedy%'\nORDER BY tb1.averageRating DESC, tb1.numVotes DESC\nLIMIT 5;"}
{"id": 22091, "query": "I am looking for some movie suggestions I am hoping you can help me out.", "history": ["Baby Driver  (2017)", "Tucker & Dale vs. Evil (2010)", "Drive  (2011)"], "groundtruth": ["Point Break  (2015)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND (tb.genres LIKE '%Action%' OR tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Crime%')\nAND tb.startYear >= 2010\nAND tb.tconst NOT IN ('tt3890160', 'tt1462758', 'tt1675434')  -- Exclude movies already watched\nORDER BY tr.averageRating DESC, tb.startYear DESC\nLIMIT 10;"}
{"id": 22093, "query": "I just watched Baby Driver  (2017) and I'm looking for similar titles!", "history": ["Despicable Me 3 (2017)"], "groundtruth": ["Black Panther (2018)", "Solo  (2008)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Action%' \nAND tb.startYear BETWEEN 2015 AND 2019 \nAND tb.tconst <> 'tt3890160' \nORDER BY tr.averageRating DESC, tb.startYear DESC;"}
{"id": 22097, "query": "Yes I would love some movie suggestions.", "history": ["Deadpool  (2016)"], "groundtruth": ["La La Land  (2016)", "Mad Max: Fury Road (2015)"], "output": "SELECT tb.primaryTitle AS Recommended_Movie, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' AND tb.startYear >= 2010\nAND tb.tconst NOT IN ('tt1431045') -- excluding Deadpool (2016)\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22100, "query": "I'm in the mood for a horror movie.  Do you know of something I'd like?", "history": ["Blair Witch  (2016)", "The Blair Witch Project (1999)", "V/H/S"], "groundtruth": ["Chronicle ", "Creep  (2014)", "Cloverfield "], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Horror%'\nAND primaryTitle NOT IN ('Blair Witch  (2016)', 'The Blair Witch Project (1999)', 'V/H/S')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 22101, "query": "Hello!  I'm in the mood to see a &quot;found footage&quot; type of movie.  You know, similar to Blair Witch  (2016)", "history": ["The Thing  (1982)", "The Thing  (2011)", "Elf  (2003)", "National Lampoon's Christmas Vacation (1989)"], "groundtruth": ["Jingle All the Way (1996)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%found footage%'\nAND startYear > 2016\nAND primaryTitle NOT IN ('The Thing  (1982)', 'The Thing  (2011)', 'Elf  (2003)', \"National Lampoon\\'s Christmas Vacation (1989)\")\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 22102, "query": "I know this will sound crazy, but my AC went out today and it's hot.  I want to watch a movie with SNOW.", "history": ["Memento  (2000)", "Gone Girl  (2014)"], "groundtruth": ["Mystic River  (2003)", "Zodiac  (2007)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Drama%' AND tb.genres LIKE '%Thriller%' AND tb.genres LIKE '%Mystery%'\nAND tb.startYear >= 2000 \nAND tb.startYear <= 2014\nAND tb.genres LIKE '%Snow%' \nAND tb.tconst NOT IN ('tt0209144', 'tt2267998');\n;"}
{"id": 22104, "query": "Hello!  It's going good.  Except, I really need a movie suggestion.", "history": ["Three Billboards Outside Ebbing, Missouri (2017)", "Catch Me If You Can (2002)", "Choke  (2008)"], "groundtruth": ["The Circle  (2017)"], "output": "SELECT primaryTitle, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Drama%' OR genres LIKE '%Crime%'\nAND startYear > 2000\nAND primaryTitle NOT IN ('Three Billboards Outside Ebbing, Missouri (2017)', 'Catch Me If You Can (2002)', 'Choke  (2008)')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 22106, "query": "I don't really have a favorite to be honest.  I'm in the mood for a sci-fi movie, maybe something comedic like Galaxy Quest (1999)", "history": [], "groundtruth": ["The Greatest Showman (2017)", "Les Mis\u00e9rables  (2012)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Sci-Fi%'\nAND tb.genres LIKE '%Comedy%'\nAND tb.startYear >= 1990\nAND tb.startYear <= 2000\nAND tr.averageRating > 7\nAND tb.primaryTitle != 'Galaxy Quest'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22108, "query": "HI. Can you recommend a good musical?", "history": ["Jurassic World (2015)", "The Martian  (2015)"], "groundtruth": ["Passengers  (2016)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Musical%'\nAND tb.startYear >= 2010\nAND tb.primaryTitle NOT IN ('Jurassic World (2015)', 'The Martian  (2015)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22117, "query": "Hello, what kind of family friendly films can you recommend?", "history": ["Allied (2016)", "Forever My Girl  (2018)", "Titanic  (1997)", "Titanic (2012)", "Romancing the Stone (1984)"], "groundtruth": ["Gone Girl  (2014)"], "output": "SELECT tb.primaryTitle, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.isAdult = 0\nAND tb.genres LIKE '%Family%'\nAND tr.averageRating >= 7\nAND tb.primaryTitle NOT IN ('Allied (2016)', 'Forever My Girl  (2018)', 'Titanic  (1997)', 'Titanic (2012)', 'Romancing the Stone (1984)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22119, "query": "I like action and romance!", "history": ["Sarah, Plain and Tall ", "The Seventh Sign (1988)", "The Prophecy (1995)", "Pulp Fiction (1994)", "The Dead Zone  (1983)"], "groundtruth": ["Allied (2016)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.genres, tr.averageRating \nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' OR tb.genres LIKE '%Romance%'\nAND tb.primaryTitle NOT IN ('Sarah, Plain and Tall ', 'The Seventh Sign (1988)', 'The Prophecy (1995)', 'Pulp Fiction (1994)', 'The Dead Zone  (1983)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22123, "query": "I was thinking of seeing something with Christopher Walken tonight.  Any ideas?", "history": ["Wonder Woman  (2017)", "Justice League  (2017)", "Batman v Superman: Dawn of Justice (2016)"], "groundtruth": ["Avengers: Infinity War (2018)"], "output": "SELECT tb1.primaryTitle \nFROM title_principals tp1\nJOIN name_basics nb ON tp1.nconst = nb.nconst\nJOIN title_basics tb1 ON tp1.tconst = tb1.tconst\nWHERE nb.primaryName = 'Christopher Walken'\nAND tb1.titleType = 'movie'\nAND tb1.startYear <= 2017\nAND tb1.tconst NOT IN ('tt0451279', 'tt0974015', 'tt2975590')\nORDER BY tb1.averageRating DESC, tb1.numVotes DESC\nLIMIT 5;"}
{"id": 22124, "query": "I like action movies like Justice League  (2017) .", "history": ["Citizen Kane (1941)", "The Fountain (2006)"], "groundtruth": ["Phantom Thread (2017)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%'\nAND tb.startYear >= 2017\nAND tb.primaryTitle != 'Justice League'\nAND tb.primaryTitle NOT IN ('Citizen Kane', 'The Fountain')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22128, "query": "Please do!  Horror, action or comedy?", "history": ["Star Wars: Episode VIII \u2013 The Last Jedi (2017)", "The Departed (2006)", "Star Wars"], "groundtruth": ["Law Abiding Citizen (2009)"], "output": "SELECT primaryTitle, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE genres IN ('Horror', 'Action', 'Comedy') \nAND primaryTitle NOT IN ('Star Wars: Episode VIII \u2013 The Last Jedi (2017)', 'The Departed (2006)', 'Star Wars') \nORDER BY averageRating DESC \nLIMIT 5;"}
{"id": 22132, "query": "That's a good one, but he's seen it a few times.  Maybe something for older kids?  It's okay if it's PG-13.", "history": ["A Low Down Dirty Shame (1994)", "The Martian  (2015)", "The Usual Suspects (1995)", "Choke  (2008)"], "groundtruth": ["Trainspotting  (1996)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.isAdult = 0\nAND tb.startYear <= 2000\nAND tb.genres LIKE '%Thriller%'\nAND tr.averageRating >= 7\nAND tb.primaryTitle NOT IN ('A Low Down Dirty Shame (1994)', 'The Martian  (2015)', 'The Usual Suspects (1995)', 'Choke  (2008)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22134, "query": "I have so many movies I like to see but no favorites. I am in the mood for a fantasy movie though. Like Harry Potter and the Deathly Hallows \u2013 Part 2 (2011)", "history": ["True Romance (1993)", "The Godfather (1972)", "Mafia! (1998)", "Goodfellas (1990)", "The Godfather Part II (1974)", "Pulp Fiction (1994)"], "groundtruth": ["The Freshman  (1990)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear\nFROM title_basics AS tb1\nJOIN title_ratings AS tr ON tb1.tconst = tr.tconst\nWHERE tb1.genres LIKE '%Fantasy%'\nAND tb1.startYear >= 2010\nAND tb1.tconst NOT IN (\n    SELECT DISTINCT tp.tconst\n    FROM title_principals AS tp\n    JOIN title_basics AS tb2 ON tp.tconst = tb2.tconst\n    WHERE tp.nconst IN ('tt0944947', 'tt0110912', 'tt0110357', 'tt0106332', 'tt0068646', 'tt0110912', 'tt0110912')\n)\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22138, "query": "I'm interested in seeing an old-fashioned cheesy road flick.  Something similar to The Cannonball Run (1981)", "history": ["Armageddon  (1997)", "It  (2017)", "Batman Forever (1995)", "The Dark Knight  (2008)"], "groundtruth": ["Deep Impact  (1998)"], "output": "SELECT tb.primaryTitle AS RecommendedMovie, tb.startYear AS Year\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' \nAND tb.genres LIKE '%Action%'\nAND tb.startYear < 1981\nAND tr.averageRating > 7\nAND tb.tconst NOT IN ('tt0119113', 'tt1396484', 'tt0112462', 'tt0468569')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22140, "query": "Looking for a nice chickflick movie for tomorrow. Some friends are coming over and I want to show the sappiest movie I can find", "history": ["Tron: Legacy (2010)", "Hell or High Water  (2016)"], "groundtruth": ["No Country for Old Men  (2007)", "True Grit  (2010)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Romance%'\nAND (tb.startYear >= 2000 AND tb.startYear <= 2022)\nAND tb.primaryTitle NOT IN ('Tron: Legacy (2010)', 'Hell or High Water  (2016)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22147, "query": "Hello!  My son just went on summer break and I'm thinking of watching some summer themed movies.  Something similar to Meatballs  (1979) .  Can you think of anything?", "history": ["Girls Trip (2017)", "A Nightmare on Elm Street (1984)", "Jigsaw (2017)", "Friday the 13th  (1980)"], "groundtruth": ["Uncle Buck"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Summer%'\nAND tb.startYear <= 1979\nAND tb.startYear >= 1970\nAND tb.primaryTitle <> 'Meatballs'\nAND tb.primaryTitle NOT IN ('Girls Trip (2017)', 'A Nightmare on Elm Street (1984)', 'Jigsaw (2017)', 'Friday the 13th  (1980)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22150, "query": "I am looking to have a movie night with friends, would you have any suggestions?", "history": ["Steel Magnolias (1989)", "Fried Green Tomatoes (1991)", "The Notebook (2004)"], "groundtruth": ["I Am Sam (2001)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 2000\nAND tb.genres LIKE '%Drama%'\nAND tb.primaryTitle NOT IN ('Steel Magnolias', 'Fried Green Tomatoes', 'The Notebook')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22152, "query": "I'm in the mood to see a tear jerker.  Something kind of like Steel Magnolias (1989)", "history": ["Mean Girls (2004)", "Saved! (2004)", "Election  (2005)"], "groundtruth": ["Thirteen  (2003)", "Easy A (2010)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres \nFROM title_basics tb \nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE (tb.genres LIKE '%Drama%' OR tb.genres LIKE '%Romance%') \nAND tb.startYear <= 1989 \nAND tr.averageRating >= 7 \nAND tb.tconst NOT IN ('tt0098384', 'tt0343314', 'tt0126886')\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 22155, "query": "I like comedy and action", "history": ["Scream  (1996)", "Annabelle  (2014)", "The Sixth Sense (1999)"], "groundtruth": ["The Others  (2001)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\n    OR tb.genres LIKE '%Action%'\n    AND tb.primaryTitle NOT IN ('Scream  (1996)', 'Annabelle  (2014)', 'The Sixth Sense (1999)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22158, "query": "Hey, you know any good horror flicks?", "history": ["Superman  (1978)", "Superman II (1980)", "The Dark Knight  (2008)"], "groundtruth": ["Guardians of the Galaxy  (2014)", "Spider-Man: Homecoming (2017)", "Guardians of the Galaxy Vol. 2 (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22159, "query": "I like everything.  You have any good action super hero movies?", "history": ["Love Stinks  (1999)", "True Romance (1993)"], "groundtruth": ["I Love You to Death (1990)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Action%'\nAND tb.genres LIKE '%Adventure%'\nAND tb.genres LIKE '%Superhero%'\nAND tr.averageRating >= 7\nAND tb.primaryTitle NOT IN ('Love Stinks  (1999)', 'True Romance (1993)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22161, "query": "Good! I like dark comedies, like Fargo  (1996),  do you have any recommendations?", "history": ["Big  (1988)", "The Parent Trap  (1998)", "The Hot Chick (2002)", "Freaky Friday  (2003)", "White Chicks (2004)"], "groundtruth": ["The Change-Up (2011)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE primaryTitle != 'Fargo' \nAND genres LIKE '%Comedy%' \nAND genres LIKE '%Drama%'\nAND startYear <= 1996\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 22162, "query": "I'm doing well, thanks!  I'm interested in finding a body swap type of movie.  Something similar to Freaky Friday  (2003) .  Can you think of anything?", "history": ["Halloween  (1978)", "A Nightmare on Elm Street (1984)"], "groundtruth": ["Phantasm  (1979)", "Rosemary's Baby  (1968)", "It's Alive  (1974)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' \nAND tb.genres LIKE '%Fantasy%'\nAND tb.genres LIKE '%Family%'\nAND tb.startYear >= 2000\nAND tb.startYear <= 2022\nAND tb.primaryTitle != 'Freaky Friday'\nAND (tb.primaryTitle NOT IN ('Halloween', 'A Nightmare on Elm Street'))\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22169, "query": "Sinister  (2012) is my favorite, do you have some recommendations", "history": ["La La Land  (2016)", "10 Things I Hate About You (1999)"], "groundtruth": ["The Big Sick (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND tb.startYear BETWEEN 2010 AND 2015\nAND tb.primaryTitle NOT IN ('Sinister', 'La La Land', '10 Things I Hate About You')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22175, "query": "maybe a romantic comedy like How to Lose a Guy in 10 Days (2003)", "history": ["Steel Magnolias (1989)", "9 to 5  (1980)"], "groundtruth": ["The Best Exotic Marigold Hotel"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating AS rating, tb.startYear AS release_year\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Romance%' AND tb.genres LIKE '%Comedy%' \nAND tb.startYear >= 2000\nAND tb.primaryTitle <> 'How to Lose a Guy in 10 Days'\nAND tb.primaryTitle NOT IN ('Steel Magnolias', '9 to 5')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22182, "query": "Yes, it was!", "history": ["Minority Report  (2002)", "Top Gun (1986)", "Interview with the Vampire  (1994)", "Magnolia  (1999)"], "groundtruth": ["Risky Business (1983)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 2000\nAND tr.averageRating > 7.5\nAND nb.primaryName = 'Tom Cruise'\nAND tb.primaryTitle NOT IN ('Minority Report', 'Top Gun', 'Interview with the Vampire', 'Magnolia')\nGROUP BY tb.primaryTitle\nORDER BY COUNT(*) DESC\nLIMIT 5;"}
{"id": 22185, "query": "I don't think I'm in the mood for that, though.  I was thinking of going to see a movie at the theaters.  Do you have a suggestion?", "history": ["The Shining  (1980)", "The Karate Kid (1984)", "Psycho  (1960)"], "groundtruth": ["The Birds  (1963)"], "output": "SELECT tb.primaryTitle AS recommended_movie, \n       tb.startYear AS release_year, \n       tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 1980\nAND tb.genres LIKE '%Horror%' OR tb.genres LIKE '%Thriller%' OR tb.genres LIKE '%Mystery%'\nAND tb.primaryTitle NOT IN ('The Shining', 'The Karate Kid', 'Psycho')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 3;"}
{"id": 22190, "query": "Can you recommend a good movie for me?", "history": ["Hangover (2010)", "Old School  (2003)"], "groundtruth": ["Super Troopers (2001)", "EuroTrip (2004)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie' \nAND tb.startYear <= 2010 \nAND tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Hangover (2010)', 'Old School  (2003)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 1;"}
{"id": 22192, "query": "I'm in the mood for a suspenseful movie.", "history": ["Blow  (2001)", "Fear and Loathing in Las Vegas  (1998)", "The Hangover (2009)", "The Rum Diary  (2011)"], "groundtruth": ["Brazil  (1985)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Suspense%'\nAND tb.primaryTitle NOT IN ('Blow  (2001)', 'Fear and Loathing in Las Vegas  (1998)', 'The Hangover (2009)', 'The Rum Diary  (2011)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22200, "query": "I really liked Gone Girl  (2014) and The Girl with the Dragon Tattoo  (2011) - looking for something like that", "history": ["This Is Spinal Tap (1984)", "Super Size Me (2004)"], "groundtruth": ["Man on Wire (2008)"], "output": "SELECT tb1.primaryTitle, tb1.startYear, tb1.genres, tr.averageRating \nFROM title_basics tb1 \nJOIN title_ratings tr ON tb1.tconst = tr.tconst \nWHERE tb1.genres LIKE '%Thriller%' \nAND tb1.startYear BETWEEN 2000 AND 2020 \nAND tb1.tconst NOT IN ('tt2267998', 'tt1568346') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 22204, "query": "comedies and documentaries mostly", "history": ["Coco  (2017)"], "groundtruth": ["Avengers: Infinity War (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Documentary%'\nAND tb.primaryTitle NOT IN ('Coco (2017)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22208, "query": "i need a good movie to watch with my kid", "history": ["Angels & Demons  (2009)", "National Treasure  (2004)"], "groundtruth": ["Cube  (1997)", "The Witch  (2015)", "The Circle  (2015)"], "output": "SELECT tb.primaryTitle \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Family%' \nAND tr.averageRating >= 7 \nAND (tb.primaryTitle NOT IN ('Angels & Demons  (2009)', 'National Treasure  (2004)')) \nORDER BY tr.averageRating DESC, tr.numVotes DESC \nLIMIT 1;"}
{"id": 22209, "query": "horrors and thrillers and mysteries", "history": ["Inception (2010)", "Doctor Strange  (2016)", "The Avengers  (2012)"], "groundtruth": ["Avengers: Infinity War (2018)", "Thor: Ragnarok (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%horrors%'\nAND tb.genres LIKE '%thrillers%'\nAND tb.genres LIKE '%mysteries%'\nAND tb.primaryTitle NOT IN ('Inception (2010)', 'Doctor Strange (2016)', 'The Avengers (2012)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22211, "query": "I need a funny movie to watch with my ex", "history": ["American Outlaws (2001)", "Desperado  (1995)", "The Magnificent Seven  (2016)", "True Grit  (2010)"], "groundtruth": ["3:10 to Yuma  (1957)"], "output": "SELECT distinct tb.primaryTitle\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' \nAND tb.primaryTitle NOT IN ('American Outlaws (2001)', 'Desparado (1995)', 'The Magnificent Seven (2016)', 'True Grit (2010)')\nAND tr.averageRating >= 7.0\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22213, "query": "I really liked the movie Mission: Impossible  (1996). Can you suggest any other movies like it?", "history": ["Man on Wire (2008)"], "groundtruth": ["I Am Big Bird: The Caroll Spinney Story (2014)", "Jihad: A Story of the Others (2015)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' \nAND tb.startYear >= 1990 \nAND tb.startYear <= 2000 \nAND tb.primaryTitle != 'Mission: Impossible'\nAND tr.averageRating >= 7\nAND tb.tconst NOT IN (SELECT tp.tconst \n                      FROM title_principals tp\n                      JOIN name_basics nb ON tp.nconst = nb.nconst\n                      WHERE nb.primaryName = 'Tom Cruise')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22215, "query": "I like crime thrillers", "history": ["The Rock  (1996)", "Escape from Alcatraz  (1979)", "Con Air (1997)", "The Shawshank Redemption (1994)"], "groundtruth": ["The Green Mile  (1999)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Crime%' AND tb.genres LIKE '%Thriller%' \nAND tb.primaryTitle NOT IN ('The Rock', 'Escape from Alcatraz', 'Con Air', 'The Shawshank Redemption')\nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 22217, "query": "I'm in the mood to see a fantasy movie, something that my 11-year old can watch with me.", "history": ["Jurassic Park", "The Adventures of Tintin  (2011)", "Jurassic Park  (1993)", "Back to the Future (1985)", "Indiana Jones and the Last Crusade (1989)"], "groundtruth": ["Indiana Jones and the Kingdom of the Crystal Skull (2008)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Fantasy%'\nAND tb.startYear >= 2000\nAND tb.isAdult = 0\nAND tb.primaryTitle NOT IN ('Jurassic Park', 'The Adventures of Tintin  (2011)', 'Jurassic Park  (1993)', 'Back to the Future (1985)', 'Indiana Jones and the Last Crusade (1989)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22218, "query": "I'm good!  I'm looking for an adventure film, something like Indiana Jones and the Last Crusade (1989)", "history": ["The Amityville Horror  (1979)"], "groundtruth": ["Winchester (2018)", "Tucker & Dale vs. Evil (2010)", "Come Back to Me  (2014)", "A Quiet Place (2018)"], "output": "SELECT tb1.primaryTitle, tb1.startYear, tb1.genres, tr.averageRating\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb1.genres LIKE '%Adventure%' \nAND tb1.startYear >= 1980\nAND tb1.startYear <= 1989\nAND tb1.tconst NOT IN \n  (SELECT tp.tconst\n   FROM title_principals tp\n   JOIN name_basics nb ON tp.nconst = nb.nconst\n   WHERE nb.primaryName = 'The Amityville Horror  (1979)')\nAND tb1.tconst <> 'tt0097576'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22243, "query": "I like dramas like Forrest Gump (1994) and Saving Private Ryan (1998)", "history": ["Gone Girl  (2014)", "The Girl on the Train  (2016)", "Murder on the Orient Express (2017)"], "groundtruth": ["L.A. Confidential  (1997)"], "output": "SELECT tb.primaryTitle AS movie_title, tb.startYear AS release_year, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Drama%'\nAND tb.startYear BETWEEN 1990 AND 2000\nAND tb.primaryTitle NOT IN ('Forrest Gump', 'Saving Private Ryan', 'Gone Girl', 'The Girl on the Train', 'Murder on the Orient Express')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22257, "query": "Hy, my friend. Long time no see. How are you doing? Yesterday I watched an awesome movie with my husband Murder on the Orient Express (2017) . Can you recommend something simmilar?", "history": ["The Hangover Part II (2011)", "Game Night (2018)", "The Hangover Part III (2013)", "The Hangover (2009)"], "groundtruth": ["Baywatch  (2017)", "The Lego Batman Movie (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Mystery%' \nAND tb.tconst <> 'tt3402236' \nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22297, "query": "hey great! I am looking for scary movies like Rosemary's Baby  (1968) and The Exorcist  (1973)", "history": ["Bridesmaids  (2011)", "Juno (2007)", "Pitch Perfect (2012)"], "groundtruth": ["I Feel Pretty (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE (tb2.primaryTitle = 'Rosemary\\'s Baby' AND tb2.startYear = 1968)\n   OR (tb2.primaryTitle = 'The Exorcist' AND tb2.startYear = 1973)\n   AND tb1.titleType = 'movie'\n   AND tb1.startYear > 1973\n   AND tb1.genres LIKE '%Horror%'\n   AND tb1.primaryTitle NOT IN ('Bridesmaids', 'Juno', 'Pitch Perfect')\nGROUP BY tb1.primaryTitle\nORDER BY tb1.averageRating DESC, tb1.numVotes DESC\nLIMIT 10;"}
{"id": 22298, "query": "Awesome! I just watched Bridesmaids  (2011) and Pitch Perfect (2012) and was looking for something similar- you know any good ones?", "history": ["Rush Hour  (1998)", "X-Men  (2000)"], "groundtruth": ["Deadpool 2  (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tb.genres\nFROM title_basics AS tb\nJOIN title_ratings AS tr ON tb.tconst = tr.tconst\nWHERE (tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Romance%')\nAND tb.startYear >= 2010\nAND tb.tconst NOT IN ('tt0119303', 'tt0212346')  -- excluding Bridesmaids and Pitch Perfect\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22304, "query": "I enjoy science fiction movies, especially ones with space ship combat.", "history": ["The 40-Year-Old Virgin (2005)", "Knocked Up (2007)"], "groundtruth": ["Anchorman ", "The Big Short  (2015)"], "output": "SELECT tb.primaryTitle AS Recommended_Movie, tb.startYear\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Sci-Fi%' AND tb.genres LIKE '%Action%'\nAND tb.primaryTitle NOT IN ('The 40-Year-Old Virgin (2005)', 'Knocked Up (2007)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22307, "query": "I'm looking for a good movie to watch on a date.", "history": ["Young Guns  (1988)", "Tombstone  (1993)", "The Outlaws  (1950)", "The Good, the Bad and the Ugly (1966)"], "groundtruth": ["El Dorado  (1966)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.titleType = 'movie' \nAND tb.startYear > 1990 \nAND tb.genres LIKE '%romance%' \nAND tb.primaryTitle NOT IN ('Young Guns', 'Tombstone', 'The Outlaws', 'The Good, the Bad and the Ugly')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22309, "query": "I haven't seen anything like Young Guns  (1988) in a long time.", "history": ["Love Stinks  (1999)", "Forgetting Sarah Marshall (2008)", "When Harry Met Sally... (1989)", "Pretty Woman (1990)"], "groundtruth": ["Love Actually (2003)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Western%'\nAND tb.startYear >= 1980\nAND tb.startYear <= 1990\nAND tb.primaryTitle != 'Young Guns'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22311, "query": "Any chance you know of some great comedies.  Something like Uncle Buck ?", "history": ["The Avengers  (2012)", "X-Men  (2000)", "The Wolverine  (2013)"], "groundtruth": ["Wonder Woman  (2017)", "Logan  (2017)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics AS tb1\nJOIN title_basics AS tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'Uncle Buck'\nAND tb1.titleType = 'movie'\nAND tb1.startYear >= 1990\nAND tb1.genres LIKE '%Comedy%'\nAND tb1.primaryTitle NOT IN ('The Avengers  (2012)', 'X-Men  (2000)', 'The Wolverine  (2013)')\nORDER BY tb1.averageRating DESC, tb1.numVotes DESC\nLIMIT 5;"}
{"id": 22314, "query": "Can you suggest some good horror movies for me to watch?", "history": ["Flatliners  (2017)"], "groundtruth": ["The Hospital (1971)", "Girl, Interrupted  (1999)"], "output": "SELECT tb.primaryTitle, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%' \nAND tb.primaryTitle != 'Flatliners  (2017)'\nAND tr.averageRating >= 8\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22315, "query": "I like movies about doctors. Do you know of any good ones?", "history": ["The Martian  (2015)", "Interstellar  (2014)"], "groundtruth": ["Red Sparrow (2018)"], "output": "SELECT primaryTitle \nFROM title_basics \nWHERE genres LIKE '%Drama%' \nAND (primaryTitle != 'The Martian' OR primaryTitle != 'Interstellar') \nAND (primaryTitle IN (SELECT primaryTitle \n                      FROM title_basics \n                      WHERE genres LIKE '%Sci-Fi%')\n     OR primaryTitle IN (SELECT primaryTitle \n                         FROM title_basics \n                         WHERE genres LIKE '%Thriller%'))\nORDER BY averageRating DESC \nLIMIT 5;"}
{"id": 22318, "query": "I'm really interested in watching a dramatic movie, like The Martian  (2015) . Can you make any suggestions?", "history": [], "groundtruth": ["Collateral Damage  (2002)", "Terminator Genisys (2015)"], "output": "SELECT t1.primaryTitle AS recommended_movie, t1.startYear AS year \nFROM title_basics t1 \nJOIN title_ratings t2 ON t1.tconst = t2.tconst \nWHERE t1.genres LIKE '%Drama%' \nAND t1.titleType = 'movie' \nAND t1.startYear <= 2015 \nAND t2.averageRating >= 8 \nAND t2.numVotes > 1000 \nORDER BY t2.averageRating DESC, t2.numVotes DESC \nLIMIT 5;"}
{"id": 22326, "query": "i'm looking to watch an awesome action movie. Something like Fast 8 or maybe The Terminator (1984)", "history": ["Making a Murderer", "The Godfather (1972)"], "groundtruth": ["Scarface  (1983)"], "output": "SELECT tb2.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb1.primaryTitle = 'Fast 8' OR tb1.primaryTitle = 'The Terminator (1984)'\nAND tb2.titleType = 'movie'\nAND tb2.averageRating > 7\nAND tb2.numVotes > 1000\nAND tb2.primaryTitle NOT IN ('Making a Murderer', 'The Godfather (1972)')\nORDER BY tb2.averageRating DESC, tb2.numVotes DESC\nLIMIT 5;"}
{"id": 22332, "query": "I do.  I'm in the mood for a comedy from the 80's.", "history": ["Lethal Weapon (1987)", "Forever Young  (1992)", "Mad Max (1979)"], "groundtruth": ["Braveheart (1995)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Comedy%'\nAND tb.startYear >= 1980\nAND tb.startYear <= 1989\nAND tb.primaryTitle NOT IN ('Lethal Weapon', 'Forever Young', 'Mad Max')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22348, "query": "I'm in the mood for a movie with ghosts.  For example, The Amityville Horror  (1979)  was great, but it can be other genres, too.", "history": ["How to Lose a Guy in 10 Days (2003)", "Failure to Launch (2006)", "The Wedding Planner (2001)"], "groundtruth": ["Wedding Crashers (2005)", "Notting Hill "], "output": "```sql\nSELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Ghost%'\nAND tb.primaryTitle != 'The Amityville Horror'\nORDER BY tr.averageRating DESC;\n```"}
{"id": 22352, "query": "so i am looking for a romantic comedy", "history": ["Forgetting Sarah Marshall (2008)"], "groundtruth": ["Step Brothers  (2008)", "The House  (2017)", "I Love You, Man (2009)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Romance%' AND tb.genres LIKE '%Comedy%' \nAND tb.tconst != 'tt0808417' \nORDER BY tr.averageRating DESC \nLIMIT 10;"}
{"id": 22354, "query": "I'd love to watch a good comedy now. Can you suggest any?", "history": ["It (1990)", "The Cabin in the Woods", "It  (2017)"], "groundtruth": ["The Amityville Horror  (2005)", "A Quiet Place (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.startYear >= 2010\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22357, "query": "Hey there, i'm looking for movies like Fellowship of the Ring (2001) because I loved it. Do you know of any other good fantasy movies?", "history": ["Scary Movie ", "The Purge (2013)", "The Purge ", "It  (2017)"], "groundtruth": ["Rosemary's Baby  (1968)", "Get Out (2017)", "The Purge: Anarchy (2014)"], "output": "SELECT primaryTitle, averageRating, genres\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Fantasy%'\nAND startYear > 2001\nAND averageRating > 7\nAND primaryTitle != 'Fellowship of the Ring'\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 22359, "query": "Titanic  (1997) was a good movie, although I did not particularly like it, because it was sad. Do you know of any happier romance movies?", "history": ["La La Land  (2016)", "Grease  (1978)", "Mamma Mia!  (2008)"], "groundtruth": ["Camp Rock", "High School Musical "], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Romance%' \nAND tb.genres NOT LIKE '%Drama%'\nAND tb.startYear > 1997\nAND tb.primaryTitle NOT IN ('Titanic', 'La La Land', 'Grease', 'Mamma Mia!')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22370, "query": "Hello!  I'm looking for a good movie based on a book.", "history": ["It  (2017)", "Sweeney Todd: The Demon Barber of Fleet Street  (2007)", "Mama  (2013)"], "groundtruth": ["Get Out (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Drama%'\nAND tb.startYear >= 2010\nAND tb.originalTitle IN ('It', 'Sweeney Todd: The Demon Barber of Fleet Street', 'Mama')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22372, "query": "Hey there. I'm looking for Hugh Jackman movies like The Wolverine  (2013)  or Logan  (2017)   . I really liked those.", "history": ["Jumanji (1995)", "Stir of Echoes (1999)", "Slum  (2013)"], "groundtruth": ["Clip  (2012)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_principals tp1 ON tb1.tconst = tp1.tconst\nJOIN name_basics nb1 ON tp1.nconst = nb1.nconst\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE nb1.primaryName = 'Hugh Jackman'\nAND tb2.primaryTitle IN ('The Wolverine', 'Logan')\nAND tb1.primaryTitle NOT IN ('Jumanji', 'Stir of Echoes', 'Slum')\nAND tb1.titleType = 'movie'\nAND tb1.startYear >= 2013\nORDER BY tb1.averageRating DESC\nLIMIT 5;"}
{"id": 22394, "query": "Hmmm.  I'm not sure.  I haven't been to the movies in awhile.  Tonight, I'm interested in seeing something with a serial killer.", "history": ["X-Men: Days of Future Past (2014)", "X-Men  (2000)", "The Wolverine  (2013)"], "groundtruth": ["Wonder Woman  (2017)"], "output": "SELECT tb.primaryTitle AS Recommended_Movies\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Thriller%' OR tb.genres LIKE '%Horror%'\nAND tr.averageRating > 7\nAND tb.primaryTitle NOT IN ('X-Men: Days of Future Past (2014)', 'X-Men  (2000)', 'The Wolverine  (2013)')\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 22403, "query": "Just finished watching Airplane! (1980) you know any other comedy movies or parody stuff?", "history": ["Scary Movie "], "groundtruth": ["Superhero Movie (2008)", "Happy Gilmore (1996)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE (tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Parody%')\nAND tb.startYear >= 1980\nAND tb.primaryTitle != 'Airplane!'\nAND tb.primaryTitle NOT IN ('Scary Movie')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22410, "query": "Can you suggest any good comedies for me?", "history": ["The Dark Knight  (2008)", "X-Men: The Last Stand (2006)"], "groundtruth": ["Avengers: Infinity War (2018)", "Logan  (2017)"], "output": "SELECT tb.primaryTitle AS Recommended_Comedy_Movies\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.startYear >= 2000\nAND tr.averageRating >= 7\nAND tb.primaryTitle NOT IN ('The Dark Knight (2008)', 'X-Men: The Last Stand (2006)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22411, "query": "You know any good action packed super hero movies? something like X-Men: The Last Stand (2006) ?", "history": ["The Last House on the Left  (1972)", "It  (2017)", "Mama  (2013)"], "groundtruth": ["Friday the 13th  (1980)", "A Nightmare on Elm Street (1984)"], "output": "```sql\nSELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' \nAND tb.genres LIKE '%Sci-Fi%'\nAND tb.primaryTitle != 'X-Men: The Last Stand'\nAND tb.startYear > 2000\nORDER BY tr.averageRating DESC;\n```"}
{"id": 22415, "query": "A little bit of everything, but I'd love suggestions for a good romantic comedy.  Maybe something like Love Stinks  (1999) .", "history": ["X-Men  (2000)", "The Dark Knight  (2008)"], "groundtruth": ["Spider-Man: Homecoming (2017)", "Thor: Ragnarok (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Romance%' AND tb.genres LIKE '%Comedy%' \nAND tb.startYear >= 1995 AND tb.startYear <= 2005\nAND tb.primaryTitle != 'Love Stinks'\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22417, "query": "to my like movies of horror how It  (2017) or Mama  (2013)", "history": ["X-Men  (2000)"], "groundtruth": ["Watchmen  (2009)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND (tb.primaryTitle = 'It (2017)' OR tb.primaryTitle = 'Mama (2013)')\nAND tb.primaryTitle NOT IN ('X-Men (2000)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22418, "query": "I really like super hero movies.", "history": ["The Boy  (2016)", "It  (2017)", "Mama  (2013)"], "groundtruth": ["The Forest  (2016)"], "output": "SELECT primaryTitle \nFROM title_basics \nWHERE genres LIKE '%Action%' OR genres LIKE '%Adventure%' \nAND primaryTitle NOT IN ('The Boy (2016)', 'It (2017)', 'Mama (2013)')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 22420, "query": "i'm looking for help picking out a movie", "history": ["Step Brothers  (2008)", "Rocky (1976)"], "groundtruth": ["I Love You, Man (2009)", "Fast 8"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating, tr.numVotes AS num_votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear > 2000\nAND tb.genres LIKE '%Comedy%'\nAND tb.tconst NOT IN ('tt0838283', 'tt0075148');"}
{"id": 22421, "query": "Could you suggest a couple of good action packed movies and maybe a couple comedies?", "history": ["It (1990)", "It  (2017)", "Mama  (2013)"], "groundtruth": ["The Texas Chainsaw Massacre  (2003)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE (tb.genres LIKE '%Action%' OR tb.genres LIKE '%Adventure%')\nAND tb.startYear > 2000\nAND tb.primaryTitle NOT IN ('It (1990)', 'It (2017)', 'Mama (2013)')\nORDER BY tr.averageRating DESC\nLIMIT 2\n\nUNION\n\nSELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('It (1990)', 'It (2017)', 'Mama (2013)')\nORDER BY tr.averageRating DESC\nLIMIT 2;"}
{"id": 22427, "query": "Ok, can you suggest some movies for me.", "history": ["Scream  (1996)", "Scary Movie "], "groundtruth": ["Bridesmaids  (2011)", "The Last House on the Left  (2009)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%' OR tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Scream (1996)', 'Scary Movie ')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22431, "query": "to my like movies of horror and comedy", "history": ["Grease  (1978)", "Beauty and the Beast  (2017)", "Rent  (2005)", "Chicago  (2002)"], "groundtruth": ["La La Land  (2016)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear, tb1.genres, tr.averageRating\nFROM title_basics tb1\nINNER JOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE (tb1.genres LIKE '%Horror%' OR tb1.genres LIKE '%Comedy%')\nAND (tb1.primaryTitle NOT IN ('Grease  (1978)', 'Beauty and the Beast  (2017)', 'Rent  (2005)', 'Chicago  (2002)'))\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22441, "query": "I really like comedy and action!", "history": ["Girls Trip (2017)", "How High (2001)", "The Hangover (2009)", "Super Troopers (2001)", "Pineapple Express  (2008)", "Hangover  (2014)", "Super Troopers 2 (2018)"], "groundtruth": ["Bandits  (2001)", "Vacation  (2015)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Action%'\nAND tb.primaryTitle NOT IN ('Girls Trip (2017)', 'How High (2001)', 'The Hangover (2009)', 'Super Troopers (2001)', 'Pineapple Express (2008)', 'Hangover (2014)', 'Super Troopers 2 (2018)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22445, "query": "I also love stoner comedies How High (2001)  and Pineapple Express  (2008)", "history": ["Donnie Darko (2001)", "Deadpool  (2016)"], "groundtruth": ["Girls Trip (2017)", "Game Night (2018)", "Deadpool 2  (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' AND tb.genres LIKE '%Stoner%'\nAND tb.startYear > 2000\nAND tb.primaryTitle NOT IN ('How High', 'Pineapple Express', 'Donnie Darko', 'Deadpool')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22447, "query": "So, I love movies like Girls Trip (2017) Pineapple Express  (2008) and Super Troopers (2001)", "history": ["Anchorman: The Legend of Ron Burgundy (2004)", "Uncle Buck", "Step Brothers  (2008)", "Super Troopers (2001)", "Pineapple Express  (2008)", "National Lampoon's Vacation (1983)", "National Lampoon's Christmas Vacation (1989)"], "groundtruth": ["Fear and Loathing in Las Vegas  (1998)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 2010\nAND tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('Girls Trip', 'Pineapple Express', 'Super Troopers', 'Anchorman: The Legend of Ron Burgundy', 'Uncle Buck', 'Step Brothers', 'Super Troopers', 'Pineapple Express', 'National Lampoon\\'s Vacation', 'National Lampoon\\'s Christmas Vacation')\nGROUP BY tb.primaryTitle\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22452, "query": "I love comedies like Pineapple Express  (2008)", "history": ["It (1990)", "Deadpool 2  (2018)", "Black Panther (2018)", "It  (2017)"], "groundtruth": ["How High (2001)", "Super Troopers (2001)", "Super Troopers 2 (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.startYear > 2008\nAND tb.tconst NOT IN ('tt0099864', 'tt5463162', 'tt1825683', 'tt1396484')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22458, "query": "Do you know any good comedies like Pineapple Express  (2008)  or 21 Jump Street  (2012)", "history": ["Psycho  (1960)", "Mama  (1990)", "It (1990)", "It  (2017)", "The Boy  (2015)"], "groundtruth": ["The Texas Chainsaw Massacre  (2003)", "The Shining  (1980)", "The Exorcist ", "Rosemary's Baby  (1968)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, \n       tb1.startYear AS release_year, \n       tb1.genres AS genre\nFROM title_basics AS tb1\nJOIN title_ratings AS tr ON tb1.tconst = tr.tconst\nWHERE (tb1.genres LIKE '%Comedy%' OR tb1.genres LIKE '%Action%')\nAND tb1.startYear BETWEEN 2000 AND 2022\nAND (tb1.primaryTitle <> 'Pineapple Express' AND tb1.primaryTitle <> '21 Jump Street')\nAND (tr.averageRating >= 7.5 AND tr.numVotes > 50000)\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22459, "query": "i like movies of horror", "history": ["Girls Trip (2017)", "It (1990)", "Super Troopers (2001)", "Super Troopers 2 (2018)", "Pineapple Express  (2008)", "Bad Boys  (1995)"], "groundtruth": ["It  (1966)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND tb.primaryTitle NOT IN ('Girls Trip (2017)', 'It (1990)', 'Super Troopers (2001)', 'Super Troopers 2 (2018)', 'Pineapple Express  (2008)', 'Bad Boys  (1995)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22461, "query": "I'm looking for a good romantic comedy movie like Knocked Up (2007)", "history": ["Love Actually (2003)", "Crazy, Stupid, Love (2011)", "Pretty Woman (1990)", "When Harry Met Sally... (1989)"], "groundtruth": ["Fifty Shades of Grey  (2015)"], "output": "SELECT primaryTitle, startYear, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Romance%' AND genres LIKE '%Comedy%'\nAND startYear >= 2000 \nAND startYear < 2023\nAND primaryTitle != 'Knocked Up'\nAND primaryTitle NOT IN ('Love Actually', 'Crazy, Stupid, Love', 'Pretty Woman', 'When Harry Met Sally...')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 22464, "query": "I'm in the mood for a good animation movie like The Incredibles (2004)  I can't wait for the new Incredibles 2 (2018)", "history": ["The Incredibles (2004)", "Moana  (2016)", "Coco  (2017)", "The Boss Baby (2017)", "Inside Out  (2015)", "Ice Age  (2002)", "Despicable Me (2010)"], "groundtruth": ["Incredibles 2 (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'The Incredibles'\nAND tb1.titleType = 'movie'\nAND tb1.startYear > 2004\nAND tb1.averageRating > 7\nAND tb1.numVotes > 1000\nAND tb1.primaryTitle NOT IN ('The Incredibles', 'Moana', 'Coco', 'The Boss Baby', 'Inside Out', 'Ice Age', 'Despicable Me')\nORDER BY tb1.averageRating DESC, tb1.numVotes DESC\nLIMIT 5;"}
{"id": 22478, "query": "Know of any good animated movies like Coco  (2017)", "history": ["The Incredibles (2004)", "Brave  (2012)", "Tangled (2010)", "Finding Dory (2016)", "The Little Prince  (2015)"], "groundtruth": ["Monster House  (2006)"], "output": "SELECT tb.primaryTitle \nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 2010\nAND tb.genres LIKE '%Animation%'\nAND tb.primaryTitle != 'Coco'\nAND (tb.primaryTitle IN ('The Incredibles', 'Brave', 'Tangled', 'Finding Dory', 'The Little Prince'))\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22482, "query": "I'm in the mood for a good comedy like Pineapple Express  (2008) or Super Troopers (2001)", "history": ["The Incredibles (2004)", "Super Troopers (2001)", "Pineapple Express  (2008)"], "groundtruth": ["Game Night (2018)", "Girls Trip (2017)", "Incredibles 2 (2018)", "Black Panther (2018)", "Super Troopers 2 (2018)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Comedy%'\nAND (primaryTitle <> 'Pineapple Express  (2008)' OR primaryTitle <> 'Super Troopers (2001)')\nAND primaryTitle NOT IN ('The Incredibles (2004)', 'Super Troopers (2001)', 'Pineapple Express  (2008)')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 22499, "query": "I love animated films the best like Coco  (2017)  or Sing  (2016)  and Moana  (2016)", "history": ["Black Panther (2018)", "Justice League  (2017)", "Batman "], "groundtruth": ["The Avengers  (2012)"], "output": "SELECT tb.primaryTitle AS Recommended_Movies\nFROM title_basics tb\nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Animation%'\nAND tb.startYear >= 2016\nAND tb.primaryTitle NOT IN ('Black Panther (2018)', 'Justice League  (2017)', 'Batman ')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22518, "query": "I'm interested in animated movies like Coco  (2017) and The Incredibles (2004)", "history": ["Casino  (1995)", "Guardians of the Galaxy  (2014)", "Goodfellas (1990)", "The Avengers  (2012)"], "groundtruth": ["Prisoners  (2013)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear\nFROM title_basics AS tb1\nJOIN title_ratings AS tr ON tb1.tconst = tr.tconst\nJOIN title_basics AS tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle IN ('Coco', 'The Incredibles')\nAND tb1.titleType = 'movie'\nAND tb1.startYear > 2004\nAND tb1.primaryTitle NOT IN ('Coco', 'The Incredibles', 'Casino', 'Guardians of the Galaxy', 'Goodfellas', 'The Avengers')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22531, "query": "I like crime movies like The Departed (2006)", "history": ["Thor: Ragnarok (2017)"], "groundtruth": ["Carol  (2015)", "Ocean's 8 (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'The Departed'\nAND tb1.titleType = 'movie'\nAND tb1.startYear > 2006\nAND tb1.tconst NOT IN (SELECT tp.tconst\n                       FROM title_principals tp\n                       JOIN name_basics nb ON tp.nconst = nb.nconst\n                       WHERE nb.primaryName = 'user_input'\n                       AND tp.category = 'actor')\nAND tb1.tconst NOT IN (SELECT tconst\n                       FROM title_basics\n                       WHERE primaryTitle IN ('Thor: Ragnarok (2017)'))\nGROUP BY tb1.primaryTitle\nORDER BY AVG(tb1.averageRating) DESC\nLIMIT 5;"}
{"id": 22543, "query": "i'm looking for movies with will ferrell", "history": ["Jumanji (1995)", "Finding Dory (2016)"], "groundtruth": ["Jumanji  (2017)", "Incredibles 2 (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE nb.primaryName = 'Will Ferrell' \nAND tb.titleType = 'movie'\nAND tb.startYear >= 2000\nAND tb.primaryTitle NOT IN ('Jumanji (1995)', 'Finding Dory (2016)')\nORDER BY tb.averageRating DESC, tb.numVotes DESC\nLIMIT 5;"}
{"id": 22544, "query": "I need some recommendations for good movies to watch with my family.", "history": ["Up  (2009)", "Finding Dory (2016)", "The Incredibles (2004)", "Coco  (2017)"], "groundtruth": ["The Greatest Showman (2017)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear AS release_year, tb2.averageRating AS rating\nFROM title_basics AS tb1\nJOIN title_ratings AS tb2 ON tb1.tconst = tb2.tconst\nWHERE tb1.titleType = 'movie'\nAND tb1.isAdult = 0\nAND tb1.genres LIKE '%Animation%'\nAND tb1.startYear > 2010\nAND tb2.averageRating >= 7\nAND tb1.primaryTitle NOT IN ('Up (2009)', 'Finding Dory (2016)', 'The Incredibles (2004)', 'Coco (2017)')\nORDER BY tb2.averageRating DESC\nLIMIT 5;"}
{"id": 22545, "query": "i need a movie for watch wit my family", "history": ["X-Men  (2000)", "Avenger  (2006)", "X-Men: Apocalypse (2016)"], "groundtruth": ["Avengers: Infinity War (2018)", "Logan  (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres \nFROM title_basics tb \nWHERE tb.titleType = 'movie' \nAND tb.isAdult = 0 \nAND tb.startYear <= 2022 \nAND tb.genres LIKE '%Family%'\nAND tb.tconst NOT IN ('X-Men (2000)', 'Avenger (2006)', 'X-Men: Apocalypse (2016)')\nORDER BY tb.averageRating DESC, tb.numVotes DESC\nLIMIT 5;"}
{"id": 22547, "query": "Sure can you suggest some good movies for me to watch.", "history": ["Toy Story (1995)", "Coco  (2017)", "Coraline  (2009)", "Finding Dory (2016)", "Mary Poppins  (1964)"], "groundtruth": ["The Karate Kid (1984)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear > 2010\nAND tb.genres LIKE '%Animation%'\nAND tb.primaryTitle NOT IN ('Toy Story (1995)', 'Coco  (2017)', 'Coraline  (2009)', 'Finding Dory (2016)', 'Mary Poppins  (1964)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22550, "query": "i need a movie for my kids", "history": ["Up  (2009)", "The Incredibles (2004)", "Finding Dory (2016)"], "groundtruth": ["Incredibles 2 (2018)"], "output": "SELECT primaryTitle, startYear, runtimeMinutes, genres\nFROM title_basics\nWHERE titleType = 'movie' \nAND isAdult = 0\nAND startYear >= 2010\nAND genres LIKE '%Animation%'\nAND primaryTitle NOT IN ('Up', 'The Incredibles', 'Finding Dory')\nORDER BY averageRating DESC, numVotes DESC\nLIMIT 5;"}
{"id": 22553, "query": "How about some action movies.", "history": ["The Incredibles (2004)", "Finding Dory (2016)", "Coco  (2017)"], "groundtruth": ["Incredibles 2 (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear, tr.averageRating\nFROM title_basics AS tb1\nJOIN title_ratings AS tr ON tb1.tconst = tr.tconst\nWHERE tb1.titleType = 'movie'\nAND tb1.genres LIKE '%Action%'\nAND tb1.primaryTitle NOT IN ('The Incredibles (2004)', 'Finding Dory (2016)', 'Coco  (2017)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22576, "query": "Hi, what is a good action movie?", "history": ["Star Wars  (1977)", "Paycheck  (2003)", "Guardians of the Galaxy  (2014)", "Jumanji (1995)", "Guardians of the Galaxy Vol. 2 (2017)"], "groundtruth": ["Jumanji  (2017)"], "output": "SELECT primaryTitle, startYear, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE titleType = 'movie' \nAND genres LIKE '%Action%' \nAND primaryTitle NOT IN ('Star Wars', 'Paycheck', 'Guardians of the Galaxy', 'Jumanji', 'Guardians of the Galaxy Vol. 2') \nORDER BY averageRating DESC \nLIMIT 5;"}
{"id": 22580, "query": "Hello, can you please recommend a good action movie that isn't rated R?", "history": ["Super Troopers (2001)", "American Pie  (1999)"], "groundtruth": ["American Pie 2 (2001)", "Game Night (2018)", "Super Troopers 2 (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Action%'\nAND tb.isAdult = 0\nAND tr.averageRating >= 7\nAND tb.primaryTitle NOT IN ('Super Troopers (2001)', 'American Pie  (1999)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22581, "query": "HI! Can you reccomend any good comedies?", "history": ["The Royal Tenenbaums (2001)", "Meet the Fockers (2004)", "The Life Aquatic with Steve Zissou (2004)", "What About Bob%3F (1991)", "Stripes  (1981)", "Rushmore  (1998)"], "groundtruth": ["Caddyshack II (1988)", "The Other Woman  (2014)"], "output": "SELECT t.primaryTitle, t.startYear, t.averageRating\nFROM title_basics t\nJOIN title_ratings r ON t.tconst = r.tconst\nWHERE t.titleType = 'movie'\nAND t.genres LIKE '%Comedy%'\nAND t.primaryTitle NOT IN ('The Royal Tenenbaums (2001)', 'Meet the Fockers (2004)', 'The Life Aquatic with Steve Zissou (2004)', 'What About Bob? (1991)', 'Stripes  (1981)', 'Rushmore  (1998)')\nORDER BY r.averageRating DESC\nLIMIT 10;"}
{"id": 22584, "query": "Hi, looking for a good drama film.", "history": ["Inception (2010)"], "groundtruth": ["2036 Origin Unknown (2018)", "The Martian  (2015)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Drama%'\nAND tb.startYear <= 2010\nAND tb.tconst NOT IN ('tt1375666')\nORDER BY tr.averageRating DESC, tb.startYear DESC\nLIMIT 10;"}
{"id": 22588, "query": "Hi--I'm looking for a good Sci Fi film", "history": ["The Shape of Water  (2017)", "The Hatching (2016)", "The Other (1972)"], "groundtruth": ["Pan's Labyrinth (2006)", "Suspiria (1977)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Sci-Fi%'\nAND tb.tconst NOT IN ('tt1234567', 'tt2345678', 'tt3456789') -- Exclude user's historical preferences\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 22589, "query": "Hi.  I love horror films.  I like The Shape of Water  (2017) Can you recommend something like that?", "history": ["Con Air (1997)", "The Rock  (1996)", "The Great Escape  (1963)", "The Greatest Showman (2017)", "Darkest Hour  (2017)"], "groundtruth": ["Moulin Rouge! (2001)", "Birdman of Alcatraz  (1962)", "Trees Lounge (1996)", "Cabaret  (1972)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%' \nAND tb.startYear >= 2010 \nAND tr.averageRating > 7 \nAND tb.tconst NOT IN ('tt5580390', 'tt0118880', 'tt0057115', 'tt1485796', 'tt4555426') \nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22591, "query": "I recently saw the The Greatest Showman (2017) and loved it. Do you have any recommendations for musicals?", "history": ["Phantom Thread (2017)", "The Darkest Hour  (2011)", "The Hurt Locker (2008)", "Dunkirk  (2017)", "Darkest Hour  (2017)"], "groundtruth": ["Allied (2016)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Musical%'\nAND tb.startYear <= 2017\nAND tb.tconst NOT IN ('tt5776858', 'tt5433138', 'tt0857191', 'tt5013056', 'tt4555426')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22592, "query": "I really enjoy drama/biography.  For example I enjoyed Phantom Thread (2017)", "history": ["The Sixth Sense (1999)", "The Shining  (1980)", "Picnic at Hanging Rock (1975)", "The Others  (2001)", "Bram Stoker's Dracula (1992)"], "groundtruth": ["Mary Shelley's Frankenstein  (1994)", "Mary Reilly  (1996)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Drama%' AND tb.genres LIKE '%Biography%'\nAND tb.startYear >= 2000\nAND tr.averageRating >= 7.5\nAND tb.primaryTitle NOT IN ('The Sixth Sense (1999)', 'The Shining (1980)', 'Picnic at Hanging Rock (1975)', 'The Others (2001)', \"Bram Stoker's Dracula (1992)\", 'Phantom Thread (2017)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22594, "query": "Hi--I'm looking for a good ghost story", "history": ["The Hurt Locker (2008)", "Inglourious Basterds (2009)", "Dunkirk  (2017)", "Darkest Hour  (2017)"], "groundtruth": ["Escape to Victory (1981)", "Ice Cold in Alex (1958)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%' AND tb.genres LIKE '%Mystery%'\nAND tb.startYear <= 2020\nAND tr.averageRating >= 7.5\nAND tb.primaryTitle NOT IN ('The Hurt Locker (2008)', 'Inglourious Basterds (2009)', 'Dunkirk  (2017)', 'Darkest Hour  (2017)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22595, "query": "I really like war movies like Darkest Hour  (2017)", "history": ["Lemmy  (2010)", "Immortal Beloved  (1994)", "Amadeus  (1984)"], "groundtruth": ["The Soloist (2009)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%War%'\nAND tb.startYear > 2010\nAND (tb.primaryTitle NOT IN ('Lemmy  (2010)', 'Immortal Beloved  (1994)', 'Amadeus  (1984)'))\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22596, "query": "Hi!  I love documentaries, especially docs about musicians.  Can you recommend something?", "history": ["Friday Night Lights  (2004)", "Clash of the Titans  (1981)", "Hoosiers (1986)"], "groundtruth": ["Radio  (2003)", "The Blind Side  (2009)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.titleType = 'documentary' \nAND tb.genres LIKE '%music%' \nAND tb.tconst NOT IN ('Friday Night Lights  (2004)', 'Clash of the Titans  (1981)', 'Hoosiers (1986)') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 22599, "query": "Hi there!  I really love Billy Bob Thornton.  Can you recommend something besides Sling Blade (1996) that has him in it?", "history": ["In Bruges (2008)", "Deuce Bigalow: Male Gigolo (1999)"], "groundtruth": ["Game Night (2018)", "The House  (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nLEFT JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE nb.primaryName = 'Billy Bob Thornton'\nAND tb.primaryTitle NOT LIKE 'Sling Blade%'\nAND tb.primaryTitle NOT IN ('In Bruges (2008)', 'Deuce Bigalow: Male Gigolo (1999)')\nAND tb.titleType = 'movie'\nORDER BY tr.averageRating DESC;\n"}
{"id": 22600, "query": "I like all kinds of stuff.  I'm looking for something funny to watch tonight", "history": ["The Shape of Water  (2017)", "The Sixth Sense (1999)"], "groundtruth": ["The Shack  (2017)", "Split (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.startYear >= 2000\nAND tb.tconst NOT IN ('tt5580390', 'tt0167404')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22601, "query": "I'm looking for a solid drama", "history": ["Rebecca  (1940)", "Touch of Evil (1958)", "Citizen Kane (1941)", "Vertigo  (1958)", "To Catch a Thief (1955)", "The Magnificent Ambersons  (1942)", "The Maltese Falcon  (1941)"], "groundtruth": ["Rebecca  (1963)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Drama%'\nAND tb.startYear < 1960\nAND tb.primaryTitle NOT IN ('Rebecca', 'Touch of Evil', 'Citizen Kane', 'Vertigo', 'To Catch a Thief', 'The Magnificent Ambersons', 'The Maltese Falcon')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22602, "query": "I like all kinds of movies.  I recently started watching a lot of old stuff on cable, and I really like Alfred Hitchcock, particularly Vertigo  (1958) and To Catch a Thief (1955).  Can you recommend any old movies?", "history": ["The Sixth Sense (1999)", "Titanic  (1997)", "The Other Woman  (2014)", "When Harry Met Sally... (1989)", "What About Bob%3F (1991)", "Say Anything... (1989)", "Love Story  (1986)", "Love Story  (1970)"], "groundtruth": ["Youth in Revolt  (2009)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.startYear < 1960 \nAND tb.genres LIKE '%Drama%' \nAND tb.tconst NOT IN ('tt0047396', 'tt0048728')  -- excluding Vertigo and To Catch a Thief\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22603, "query": "How about a good romance, like Say Anything... (1989)", "history": ["Die Hard (1988)", "The Avengers  (2012)", "Deadpool  (2016)"], "groundtruth": ["Point Break (1991)", "The Taking of Pelham One Two Three  (1974)", "The Taking of Pelham 123  (2009)"], "output": "```sql\nSELECT tb.primaryTitle, tb.startYear, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Romance%' \nAND tb.startYear <= 1989 \nAND tb.startYear >= 1980 \nAND tb.tconst NOT IN ('tt0098258', 'tt0095963', 'tt0107048', 'tt1431045') \nORDER BY tr.averageRating DESC \nLIMIT 5;\n```"}
{"id": 22604, "query": "I'm looking for a really exciting action film.", "history": ["Contact  (1997)", "Close Encounters of the Third Kind (1977)", "The Martian  (2015)", "Cocoon  (1985)", "The Abyss (1989)"], "groundtruth": ["Looper  (2012)"], "output": "SELECT primaryTitle, startYear, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE titleType = 'movie' \nAND genres LIKE '%Action%' \nAND primaryTitle NOT IN ('Contact', 'Close Encounters of the Third Kind', 'The Martian', 'Cocoon', 'The Abyss') \nORDER BY averageRating DESC \nLIMIT 5;"}
{"id": 22605, "query": "I'm looking for something to distract me!  Maybe sci-fi like Cocoon  (1985)", "history": ["Fargo  (1996)", "Heathers (1988)"], "groundtruth": ["The War of the Roses  (1989)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear AS release_year, tb1.genres \nFROM title_basics AS tb1 \nINNER JOIN title_basics AS tb2 ON tb1.genres = tb2.genres \nWHERE tb2.primaryTitle = 'Cocoon' \nAND tb2.startYear = 1985 \nAND tb1.titleType = 'movie' \nAND tb1.primaryTitle NOT IN ('Fargo', 'Heathers') \nORDER BY tb1.averageRating DESC, tb1.numVotes DESC \nLIMIT 5;"}
{"id": 22610, "query": "Good! Looking for a movie recommendation for this weekend. I like dark comedies, like Fargo  (1996).", "history": ["Jurassic World (2015)", "Deadpool 2  (2018)", "Superman  (1978)", "Black Panther (2018)", "Spiders 3D (2013)", "Avengers: Infinity War (2018)"], "groundtruth": ["Guardians of the Galaxy Vol. 2 (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' AND tb.genres LIKE '%Crime%'\nAND tb.startYear < 1996\nAND tr.averageRating >= 7.5\nAND tb.tconst NOT IN ('tt0369610', 'tt5463162', 'tt0078346', 'tt1825683', 'tt5658306', 'tt4154756')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22612, "query": "They recommend me a movie of heroes", "history": ["Memento  (2000)", "Eraserhead (1977)", "Aliens  (1986)", "The Silence of the Lambs  (1991)"], "groundtruth": ["Inception (2010)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Hero%' \nAND tb.primaryTitle NOT IN ('Memento', 'Eraserhead', 'Aliens', 'The Silence of the Lambs') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 22614, "query": "Hi there.  Can you recommend a movie for me?", "history": ["H. G. Wells' The War of the Worlds  (2005)", "Minority Report  (2002)", "Blade Runner (1982)", "The Fifth Element", "The War of the Worlds  (1953)"], "groundtruth": ["Blade Runner 2049 (2017)"], "output": "SELECT tb.primaryTitle AS Recommended_Movie\nFROM title_basics tb\nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear > 2005\nAND tb.genres LIKE '%Sci-Fi%'\nAND tb.tconst NOT IN ('tt0407304', 'tt0181689', 'tt0083658', 'tt0234215', 'tt0046534')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 1;"}
{"id": 22619, "query": "Hi, I'm looking for something edgy and exciting like Blade Runner (1982)", "history": ["The Other Woman  (2014)", "Ghostbusters  (2016)"], "groundtruth": ["Game Night (2018)", "Girls Trip (2017)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Sci-Fi%' \nAND tb.startYear <= 1982 \nAND tr.averageRating >= 7 \nAND tb.tconst NOT IN ('tt2387433', 'tt1289401') \nORDER BY tr.averageRating DESC, tb.startYear DESC \nLIMIT 5;"}
{"id": 22680, "query": "movies for kids", "history": ["The Incredibles (2004)", "Super Troopers (2001)", "Wreck-It Ralph (2012)", "Pineapple Express  (2008)"], "groundtruth": ["Kubo and the Two Strings (2016)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'The Incredibles (2004)' \n   OR tb2.primaryTitle = 'Super Troopers (2001)'\n   OR tb2.primaryTitle = 'Wreck-It Ralph (2012)'\n   OR tb2.primaryTitle = 'Pineapple Express (2008)'\n   AND tb1.isAdult = 0\n   AND tb1.titleType = 'movie'\n   AND tb1.startYear >= 2010\n   AND tb1.startYear <= 2022\n   AND tb1.averageRating >= 7.5\nORDER BY tb1.numVotes DESC\nLIMIT 5;"}
{"id": 22694, "query": "But you can recommend me some terror movies?", "history": ["The Martian  (2015)", "Super Troopers (2001)", "Aliens  (1986)", "Deadpool  (2016)", "Super Troopers 2 (2018)"], "groundtruth": ["Deadpool 2  (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Horror%' \nAND tb.primaryTitle NOT IN ('The Martian (2015)', 'Super Troopers (2001)', 'Aliens (1986)', 'Deadpool (2016)', 'Super Troopers 2 (2018)') \nORDER BY tr.averageRating DESC \nLIMIT 10;"}
{"id": 22695, "query": "Some action movie do you have in mind?", "history": ["A Good Day to Die Hard (2013)", "Die Hard with a Vengeance (1995)", "Die Hard (1988)", "Deadpool 2  (2018)", "Black Panther (2018)", "The Avengers  (2012)", "Avengers: Infinity War (2018)", "Live Free or Die Hard (2007)", "Deadpool  (2016)"], "groundtruth": ["Vacation  (2015)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Action%' \nAND tb.primaryTitle NOT IN ('A Good Day to Die Hard (2013)', 'Die Hard with a Vengeance (1995)', 'Die Hard (1988)', 'Deadpool 2  (2018)', 'Black Panther (2018)', 'The Avengers  (2012)', 'Avengers: Infinity War (2018)', 'Live Free or Die Hard (2007)', 'Deadpool  (2016)') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 22707, "query": "I'm looking for a good comedy or animated movie like The Incredibles (2004) because I'm so eager for the new Incredibles 2 (2018)", "history": ["Game Night (2018)", "Girls Trip (2017)", "21 Jump Street  (2012)", "What About Bob%3F (1991)", "Super Troopers (2001)", "Stripes  (1981)", "Pineapple Express  (2008)", "Half Baked (1998)"], "groundtruth": ["The Other Woman  (2014)"], "output": "SELECT tb1.primaryTitle, tb1.startYear, tb1.genres, tr.averageRating\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE (tb1.genres LIKE '%Comedy%' OR tb1.genres LIKE '%Animation%') \nAND tb1.startYear BETWEEN 1990 AND 2017 \nAND tb1.tconst <> 'tt0317705'  -- Exclude The Incredibles (2004)\nAND tb1.tconst NOT IN ('tt6193408', 'tt0083131', 'tt0910936', 'tt1567113', 'tt0114908', 'tt0083131', 'tt0077975', 'tt0116778')  -- Exclude historical preferences\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22708, "query": "I love funny movies like Pineapple Express  (2008) and Super Troopers (2001)", "history": ["Groundhog Day  (1993)", "Sixteen Candles (1984)", "Despicable Me 2 (2013)", "Super Troopers (2001)", "The Incredibles (2004)", "Say Anything... (1989)", "Minions  (2015)", "Super Troopers 2 (2018)", "Despicable Me 3 (2017)", "Despicable Me (2010)"], "groundtruth": ["St. Vincent  (2014)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE \n    tb2.primaryTitle IN ('Pineapple Express', 'Super Troopers')\n    AND tb1.titleType = 'movie'\n    AND tb1.startYear > 2000\n    AND tb1.primaryTitle NOT IN \n        ('Groundhog Day', 'Sixteen Candles', 'Despicable Me 2', \n        'Super Troopers', 'The Incredibles', 'Say Anything...', \n        'Minions', 'Super Troopers 2', 'Despicable Me 3', 'Despicable Me')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22709, "query": "I'd love some movie recommendations... good comedies like Super Troopers (2001)", "history": ["Game Night (2018)", "The Secret Life of Pets (2016)", "The Incredibles (2004)", "Brave  (2012)", "Coco  (2017)", "Super Troopers (2001)", "Moana  (2016)"], "groundtruth": ["Ferdinand (2017)"], "output": "SELECT tb.primaryTitle \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Comedy%' \nAND (tb.startYear BETWEEN 2000 AND 2010) \nAND tb.primaryTitle != 'Super Troopers' \nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22710, "query": "I'm looking for a good comedy or animated movie...", "history": ["Bridesmaids  (2011)"], "groundtruth": ["Game Night (2018)", "Super Troopers (2001)", "Super Troopers 2 (2018)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE (tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Animation%') \nAND tb.tconst NOT IN ('Bridesmaids  (2011)') \nAND tb.titleType = 'movie' \nAND tr.numVotes > 1000 \nORDER BY tr.averageRating DESC \nLIMIT 10;"}
{"id": 22711, "query": "Yes, I like comedies.", "history": ["Blade Runner (1982)", "Cocoon  (1985)", "The Abyss (1989)"], "groundtruth": ["Blade Runner 2049 (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Comedy%' \nAND tb.startYear >= 1982 \nAND tb.startYear <= 1989 \nAND tb.primaryTitle NOT IN ('Blade Runner (1982)', 'Cocoon  (1985)', 'The Abyss (1989)') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 22712, "query": "I'm looking for something like Blade Runner (1982)", "history": ["My Big Fat Greek Wedding (2002)", "Lars and the Real Girl (2007)"], "groundtruth": ["Muriel's Wedding (1994)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics AS tb1\nJOIN title_ratings AS tr1 ON tb1.tconst = tr1.tconst\nJOIN title_basics AS tb2 ON tb1.genres = tb2.genres\nJOIN title_ratings AS tr2 ON tb2.tconst = tr2.tconst\nWHERE tb1.startYear = 1982\nAND tb1.primaryTitle != 'Blade Runner'\nAND tb2.primaryTitle IN ('My Big Fat Greek Wedding', 'Lars and the Real Girl')\nAND tr1.averageRating > 7.5\nAND tr2.averageRating > 7.5\nGROUP BY tb1.primaryTitle\nORDER BY tr1.averageRating DESC\nLIMIT 5;"}
{"id": 22721, "query": "Hi, I'm looking for something fun to watch.  Maybe like Frozen (2013)", "history": ["Black Hawk Down  (2002)", "Atonement  (2007)", "Dunkirk  (2017)", "Darkest Hour  (2017)"], "groundtruth": ["Enemy at the Gates (2001)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Animation%'\nAND tb.startYear = 2013\nAND tb.primaryTitle != 'Frozen'\nAND tb.primaryTitle NOT IN ('Black Hawk Down', 'Atonement', 'Dunkirk', 'Darkest Hour')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22722, "query": "I;d like to see some war movies this weekend similar to Dunkirk  (2017) , Darkest Hour  (2017) , Atonement  (2007)", "history": ["Lars and the Real Girl (2007)", "Meet the Fockers (2004)", "What About Bob%3F (1991)", "The Best Exotic Marigold Hotel", "The Grand Budapest Hotel (2014)"], "groundtruth": ["The Other Woman  (2014)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%War%' \nAND (tb.primaryTitle = 'Dunkirk' OR tb.primaryTitle = 'Darkest Hour' OR tb.primaryTitle = 'Atonement')\nAND tb.primaryTitle NOT IN ('Lars and the Real Girl', 'Meet the Fockers', 'What About Bob%3F', 'The Best Exotic Marigold Hotel', 'The Grand Budapest Hotel')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22727, "query": "Sounds good. Can you tell me about other funny movies?", "history": ["Seven  (1995)", "Snatch  (2000)", "Fight Club (1999)"], "groundtruth": ["Seven Psychopaths (2012)", "John Wick (2014)", "Source Code (2011)"], "output": "SELECT primaryTitle, averageRating, numVotes\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Comedy%'\nAND primaryTitle NOT IN ('Seven', 'Snatch', 'Fight Club')\nORDER BY averageRating DESC, numVotes DESC\nLIMIT 10;"}
{"id": 22730, "query": "yes Fight Club (1999)", "history": ["A Quiet Place (2018)", "The Shining  (1980)", "Resolution  (2012)", "World War Z ", "The Witch  (2015)", "Cujo  (1983)"], "groundtruth": ["The Hatching (2016)", "The Shape of Water  (2017)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating, tr.numVotes AS num_votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear <= 1999\nAND tb.genres LIKE '%Drama%'\nAND tb.tconst NOT IN ('tt0137523', 'tt5052448', 'tt1490017', 'tt0816711', 'tt4263482', 'tt3498820')\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 22732, "query": "I don't really enjoy war movies. I much prefer horror. My favorites are The Shining  (1980) , The Witch  (2015) and Resolution  (2012)", "history": ["Mission: Impossible ", "The Manchurian Candidate  (2004)", "Gone Girl  (2014)"], "groundtruth": ["Unstoppable  (2013)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating, tr.numVotes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND tb.genres NOT LIKE '%War%'\nAND tb.primaryTitle NOT IN ('The Shining', 'The Witch', 'Resolution')\nAND tb.startYear BETWEEN 1980 AND 2015\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 22733, "query": "Suspense like The Manchurian Candidate  (2004)", "history": ["Fargo  (1996)", "A Quiet Place (2018)", "World War Z "], "groundtruth": ["The Sniper  (2009)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'The Manchurian Candidate'\nAND tb2.startYear = 2004\nAND tb1.primaryTitle NOT IN ('Fargo', 'A Quiet Place', 'World War Z')\nAND tb1.titleType = 'movie'\nORDER BY tb1.averageRating DESC\nLIMIT 5;"}
{"id": 22734, "query": "I do love horror movies", "history": ["The Lord of the Rings: The Fellowship of the Ring (2001)", "Avatar  (2009)", "Pirates of the Caribbean "], "groundtruth": ["Pan's Labyrinth (2006)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND tb.primaryTitle NOT IN ('The Lord of the Rings: The Fellowship of the Ring (2001)', 'Avatar  (2009)', 'Pirates of the Caribbean ')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22735, "query": "Hello!  I'm in the mood for an advernture or fantasy.  Something similar to Pirates of the Caribbean  .", "history": ["The Blair Witch Project (1999)", "Ghost Story  (1981)"], "groundtruth": ["Sleepy Hollow High (2000)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Adventure%' OR tb.genres LIKE '%Fantasy%'\nAND tb.tconst NOT IN ('tt0325980', 'tt0080803')  -- Exclude Pirates of the Caribbean and previous user preference history\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22736, "query": "Good afternoon!  I'm in the mood to sit in the cool air conditioning and watch a good ghost story.", "history": ["The Lion King (1994)", "The Jungle Book  (2016)", "Jungle Book  (2018)", "Shrek (2001)"], "groundtruth": ["Ferdinand (2017)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%' OR tb.genres LIKE '%Thriller%'\nAND tb.startYear <= 2021\nAND tb.primaryTitle NOT IN ('The Lion King (1994)', 'The Jungle Book  (2016)', 'Jungle Book  (2018)', 'Shrek (2001)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22739, "query": "Can you suggest some good sci-fi movie?", "history": ["What About Bob%3F (1991)", "Baby Mama  (2008)", "Bridesmaids  (2011)", "Stripes  (1981)", "Caddyshack (1980)"], "groundtruth": ["The Other Woman  (2014)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Sci-Fi%'\nAND tb.startYear >= 2000\nAND tb.primaryTitle NOT IN ('What About Bob%3F (1991)', 'Baby Mama  (2008)', 'Bridesmaids  (2011)', 'Stripes  (1981)', 'Caddyshack (1980)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22742, "query": "Not a fan of war movies. Can you recommend some good comedies?", "history": ["Game Night (2018)", "What About Bob%3F (1991)", "The Interview (2014)", "Anchorman "], "groundtruth": ["The Other Woman  (2014)"], "output": "SELECT primaryTitle, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE titleType = 'movie' \nAND genres LIKE '%Comedy%' \nAND genres NOT LIKE '%War%' \nAND primaryTitle NOT IN ('Game Night (2018)', 'What About Bob? (1991)', 'The Interview (2014)', 'Anchorman ') \nORDER BY averageRating DESC \nLIMIT 10;"}
{"id": 22796, "query": "I love comedy movies", "history": ["Jumanji (1995)", "Ocean's 8 (2018)", "National Treasure  (2004)"], "groundtruth": ["Jumanji  (2017)", "Solo  (2008)"], "output": "SELECT primaryTitle, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE titleType = 'movie' \nAND genres LIKE '%Comedy%' \nAND primaryTitle NOT IN ('Jumanji (1995)', \"Ocean's 8 (2018)\", 'National Treasure  (2004)')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 22800, "query": "I'm great, thanks for asking!  I'm in the mood for a great 80's horror film.  My favorite horror film of all time is probably The Lost Boys (1987) .", "history": ["Pretty Woman (1990)", "North by Northwest (1959)"], "groundtruth": ["Inception (2010)", "San Andreas  (2015)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Horror%'\nAND tb.startYear >= 1980 AND tb.startYear < 1990\nAND tb.tconst NOT IN ('tt0093437', 'tt0053125', 'tt0100405')  -- Excluding user's favorite and preferences\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22802, "query": "I'm good, and I Hope you are as well!  I'm  in the mood for a silly comedy.  Something along the lines of Weekend at Bernie's (1989) , perhaps?", "history": ["Indiana Jones and the Temple of Doom (1984)", "Indiana Jones ", "Romancing the Stone (1984)"], "groundtruth": ["Mad Max: Fury Road (2015)"], "output": "SELECT tb1.primaryTitle, tb1.startYear, tb1.runtimeMinutes, tb1.genres, tr.averageRating\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb1.genres LIKE '%Comedy%'\nAND tb1.startYear >= 1980\nAND tb1.startYear <= 1990\nAND tr.averageRating >= 6\nAND tb1.tconst NOT IN ('tt0098627', 'tt0087469', 'tt0088182')\nORDER BY tr.averageRating DESC, tb1.startYear DESC\nLIMIT 5;"}
{"id": 22816, "query": "I like family movies like The Greatest Showman (2017)", "history": ["The Karate Kid (1984)"], "groundtruth": ["Diary of a Wimpy Kid  (2010)", "The Karate Kid  (2010)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear AS release_year, tb1.genres\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'The Greatest Showman (2017)'\nAND tb1.titleType = 'movie'\nAND tb1.startYear > 2017\nAND tb1.primaryTitle != 'The Greatest Showman (2017)'\nAND tb1.primaryTitle NOT IN ('The Karate Kid (1984)')\nORDER BY tb1.numVotes DESC\nLIMIT 5;"}
{"id": 22818, "query": "Something scary.", "history": ["Scream  (1996)"], "groundtruth": ["The Conjuring (2013)"], "output": "SELECT t1.primaryTitle AS recommended_movie\nFROM title_basics t1\nJOIN title_basics t2 ON t1.genres = t2.genres\nWHERE t2.primaryTitle = 'Scream  (1996)'\nAND t1.titleType = 'movie'\nAND t1.averageRating > 7\nAND t1.numVotes > 1000\nAND t1.startYear >= 2000\nAND t1.primaryTitle != 'Scream  (1996)'\nORDER BY t1.averageRating DESC, t1.numVotes DESC\nLIMIT 5;"}
{"id": 22833, "query": "Do you know any good horror movies?", "history": [], "groundtruth": ["The Happening  (2008)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 22838, "query": "Ok I like action and comedy and good ones you know of", "history": ["The Nutty Professor  (1996)", "Overboard  (1987)", "Private Benjamin  (1980)", "Bad Moms (2016)"], "groundtruth": ["Rush Hour  (1998)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Action%' OR genres LIKE '%Comedy'\nAND primaryTitle NOT IN ('The Nutty Professor', 'Overboard', 'Private Benjamin', 'Bad Moms')\nORDER BY averageRating DESC\nLIMIT 10;"}
{"id": 22839, "query": "Yes, I do. Can you recommend some good ones?", "history": [], "groundtruth": ["The Other Woman  (2014)", "The Shape of Water  (2017)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics AS tb\nWHERE tb.titleType = 'movie'\nORDER BY tb.averageRating DESC, tb.numVotes DESC\nLIMIT 10;"}
{"id": 22841, "query": "I really like comedy and action and good recommendations ?!", "history": ["The Hurt Locker (2008)", "Black Hawk Down  (2002)", "Braveheart (1995)", "High Noon (1952)", "Saving Private Ryan (1998)", "MASH  (1970)"], "groundtruth": ["Dunkirk  (2017)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Action%'\nAND tb.primaryTitle NOT IN ('The Hurt Locker (2008)', 'Black Hawk Down  (2002)', 'Braveheart (1995)', 'High Noon (1952)', 'Saving Private Ryan (1998)', 'MASH  (1970)')\nAND (tb.startYear >= 2000 OR tb.startYear <= 2022)\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22843, "query": "Hey I'm in the mood for war movies!", "history": ["Jurassic World (2015)", "Jurassic Park  (1993)", "I, Robot  (2004)", "Lost in Space  (1998)", "A.I. Artificial Intelligence (2001)"], "groundtruth": ["A Quiet Place (2018)"], "output": "SELECT tb.primaryTitle\nFROM title_basics tb\nINNER JOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%War%'\nAND tb.primaryTitle NOT IN ('Jurassic World (2015)', 'Jurassic Park  (1993)', 'I, Robot  (2004)', 'Lost in Space  (1998)', 'A.I. Artificial Intelligence (2001)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 22844, "query": "Good!  Looking for some Sci-Fi", "history": ["Safe House  (2012)", "Deadpool 2  (2018)", "Inception (2010)", "Natural Born Killers (1994)"], "groundtruth": ["The Town  (2010)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Sci-Fi%'\nAND tb.primaryTitle NOT IN ('Safe House  (2012)', 'Deadpool 2  (2018)', 'Inception (2010)', 'Natural Born Killers (1994)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22849, "query": "Great so far.  I need something unusual to watch that will hold my attention.  I liked Never Let Me Go  (2010)", "history": ["Minority Report  (2002)"], "groundtruth": ["Lars and the Real Girl (2007)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 2010\nAND tb.genres LIKE '%Drama%'\nAND tb.tconst NOT IN ('tt1334260')  -- Exclude 'Never Let Me Go'\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 1;"}
{"id": 22868, "query": "Tomorrow night are the Tony Awards. I want to watch some musicals that were turned into movies like Les Mis\u00e9rables  (2012)", "history": ["Rush Hour  (1998)", "The Boxtrolls (2014)"], "groundtruth": ["Shrek (2001)"], "output": "SELECT tb1.tconst, tb1.primaryTitle, tb1.startYear, tb1.genres, tr.averageRating\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.originalTitle = tb2.originalTitle\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb2.primaryTitle = 'Les Mis\u00e9rables'\nAND tb1.titleType = 'movie'\nAND tb1.genres LIKE '%Musical%'\nAND tb1.startYear <= 2012\nAND tb1.startYear >= 2000\nAND tb1.tconst NOT IN ('tt0120815', 'tt0780622');"}
{"id": 22891, "query": "I like comedies and horror.", "history": ["Fifty Shades of Grey  (2015)"], "groundtruth": ["Gone Girl  (2014)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Horror%'\nAND tb.primaryTitle NOT IN ('Fifty Shades of Grey  (2015)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22899, "query": "Looking for a movie to watch with my boyfriend. I want to make him uncomortable.", "history": ["Prince of the City  (1981)", "No Country for Old Men  (2007)"], "groundtruth": ["Blood Simple (1984)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Thriller%' OR genres LIKE '%Horror%'\nAND startYear > 1980\nAND startYear < 2008\nAND primaryTitle NOT IN ('Prince of the City', 'No Country for Old Men')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 22900, "query": "I like crime movies", "history": ["High Noon (1952)", "Black Hawk Down  (2002)", "Never Let Me Go  (2010)", "Midway  (1976)", "The Inglorious Bastards (1978)", "Inglourious Basterds (2009)", "A.I. Artificial Intelligence (2001)"], "groundtruth": ["In Harm's Way (1965)", "Pan's Labyrinth (2006)"], "output": "SELECT primaryTitle\nFROM title_basics\nWHERE genres LIKE '%Crime%'\nAND tconst NOT IN ('tt0044706', 'tt0265086', 'tt1334260', 'tt0074899', 'tt0076584', 'tt0362227', 'tt0212720')\nORDER BY numVotes DESC\nLIMIT 5;"}
{"id": 22905, "query": "I'm looking for a movie to watch with monsters.  For example, I loved Colossal  (2017) .", "history": ["Fame  (2009)", "Mamma Mia!  (2008)", "La La Land  (2016)", "Oklahoma!  (1955)", "Dirty Dancing", "The Greatest Showman (2017)"], "groundtruth": ["Oklahoma  (1979)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Monster%' \nAND (tb.startYear >= 2010) \nAND tb.titleType = 'movie' \nAND tb.tconst NOT IN ('tt1014759', 'tt0795421', 'tt3783958', 'tt0048445')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22906, "query": "How about another musical?  Maybe something like La La Land  (2016)", "history": ["Chappie  (2015)", "I, Robot  (2004)", "Blade Runner (1982)", "A.I. Artificial Intelligence (2001)"], "groundtruth": ["Ex Machina  (2015)"], "output": "SELECT tb2.primaryTitle, tb2.startYear, tb2.runtimeMinutes, tb2.genres\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb1.primaryTitle = 'La La Land'\nAND tb1.startYear = 2016\nAND tb2.titleType = 'movie'\nAND tb2.primaryTitle NOT IN ('Chappie', 'I, Robot', 'Blade Runner', 'A.I. Artificial Intelligence')\nAND tb2.startYear < 2016\nORDER BY tb2.averageRating DESC\nLIMIT 5;"}
{"id": 22911, "query": "looking for something funny", "history": ["Up  (2009)", "WALL-E (2008)", "Inside Out  (2015)", "Old School  (2003)"], "groundtruth": ["Fist Fight (2017)"], "output": "SELECT primaryTitle, startYear, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE titleType = 'movie' \nAND genres LIKE '%Comedy%' \nAND primaryTitle NOT IN ('Up', 'WALL-E', 'Inside Out', 'Old School') \nORDER BY averageRating DESC \nLIMIT 5;"}
{"id": 22915, "query": "I love a good comedy or animated movie like The Secret Life of Pets (2016)", "history": ["Frozen (2013)", "Never Let Me Go  (2010)", "Frozen  (2010)"], "groundtruth": ["It (1990)", "It  (2017)", "Veronica  (2017)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres LIKE '%Comedy%' OR tb1.genres LIKE '%Animation%'\nWHERE tb2.primaryTitle IN ('Frozen (2013)', 'Never Let Me Go (2010)', 'Frozen (2010)')\nAND tb1.tconst != tb2.tconst\nAND tb1.titleType = 'movie'\nAND tb1.startYear >= 2010\nORDER BY tb1.averageRating DESC, tb1.numVotes DESC\nLIMIT 5;"}
{"id": 22916, "query": "Hi, I like horror films like Frozen  (2010)", "history": ["The Inglorious Bastards (1978)"], "groundtruth": ["Wild Horses  (2015)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating, tr.numVotes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND tb.startYear >= 2010\nAND tb.primaryTitle != 'Frozen'\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22918, "query": "Hi, I'm looking for a good Adventure movie to watch with my boyfriend.  I liked Indiana Jones and the Temple of Doom (1984)    Do you know of any good ones?", "history": ["Blade Runner (1982)", "Alien  (1979)"], "groundtruth": ["Blade Runner 2049 (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Adventure%'\nAND tb.startYear <= 1984\nAND (tb.primaryTitle != 'Indiana Jones and the Temple of Doom' OR tb.startYear != 1984)\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22919, "query": "Hi, I'm looking for a good SciFi movie.  I liked Alien  (1979)  because of its really good use of camera angles and special effects. Back in the day they didn't use computer graphics. Do you know of any good ones?", "history": ["Snow White  (1995)", "Snow White  (1987)", "Bambi (1942)", "Snow White  (1916)", "Robin Hood  (1991)", "Beauty and the Beast  (1992)"], "groundtruth": ["Ferdinand (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Sci-Fi%' \nAND tb.startYear >= 1970 \nAND tb.startYear < 1990 \nAND tb.tconst NOT IN ('tt0078748', 'tt0022913', 'tt0034492', 'tt0016847', 'tt0102798', 'tt0101414') \nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22921, "query": "Hi, I'm looking for a good old school Disney animated movie.  I enjoyed Robin Hood  (1991)  . Do you know of any good ones?", "history": ["Children of the Corn  (1984)", "Rosemary's Baby  (1968)", "Frozen  (2010)", "The Witch  (2015)"], "groundtruth": ["It's Alive  (1974)"], "output": "SELECT tb1.primaryTitle, tb1.startYear, tb1.genres, tr.averageRating\nFROM title_basics tb1\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb1.titleType = 'movie'\nAND tb1.startYear < 1991\nAND tb1.genres LIKE '%Animation%'\nAND tb1.genres LIKE '%Family%'\nAND tb1.originalTitle NOT IN ('Children of the Corn (1984)', \"Rosemary's Baby (1968)\", 'Frozen (2010)', 'The Witch (2015)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22922, "query": "Hi!  I'm into horror at the moment like Children of the Corn  (1984)", "history": ["WALL-E (2008)", "When Harry Met Sally... (1989)", "Pretty in Pink (1986)", "An Officer and a Gentleman", "The Witch  (2015)"], "groundtruth": ["Chappie  (2015)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND tb.startYear <= 1984\nAND tb.tconst NOT IN ('WALL-E (2008)', 'When Harry Met Sally... (1989)', 'Pretty in Pink (1986)', 'An Officer and a Gentleman', 'The Witch  (2015)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22931, "query": "I like action and war movies", "history": ["Full Metal Jacket (1987)", "Black Hawk Down  (2002)"], "groundtruth": ["Born on the Fourth of July  (1989)", "Kill Bill: Volume 1 (2003)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tb.startYear AS release_year, tr.averageRating AS rating, tr.numVotes AS total_votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' OR tb.genres LIKE '%War%'\nAND tb.primaryTitle NOT IN ('Full Metal Jacket (1987)', 'Black Hawk Down  (2002)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 22932, "query": "I'm looking for some war or action movies", "history": ["Children of the Corn  (1984)", "The Birds  (1963)", "Frozen  (2010)", "The Witch  (2015)"], "groundtruth": ["Occult  (2009)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%War%' OR tb.genres LIKE '%Action%'\nAND tb.primaryTitle NOT IN ('Children of the Corn  (1984)', 'The Birds  (1963)', 'Frozen  (2010)', 'The Witch  (2015)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22933, "query": "How about some horror films recommends?", "history": ["Carrie  (2013)", "Carrie  (1976)", "The Shining  (1980)", "Thinner  (1996)"], "groundtruth": ["The Mist  (2007)"], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Horror%' \nAND tb.primaryTitle NOT IN ('Carrie  (2013)', 'Carrie  (1976)', 'The Shining  (1980)', 'Thinner  (1996)') \nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22934, "query": "I'm in the mood for something by Stephen King.", "history": ["The Other Woman  (2014)", "When Harry Met Sally... (1989)", "50 First Dates (2004)"], "groundtruth": ["Me, Myself & Irene (2000)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_crew tc ON tb.tconst = tc.tconst\nJOIN name_basics nb ON tc.directors LIKE CONCAT('%', nb.nconst, '%')\nWHERE nb.primaryName = 'Stephen King'\nAND tb.genres LIKE '%Horror%'\nAND tb.primaryTitle NOT IN ('The Other Woman  (2014)', 'When Harry Met Sally... (1989)', '50 First Dates (2004)')\nORDER BY tb.startYear DESC\nLIMIT 5;"}
{"id": 22936, "query": "How about some comedies?  I liked The Other Woman  (2014)", "history": ["The Hurt Locker (2008)", "Black Hawk Down  (2002)", "Saving Private Ryan (1998)", "Full Metal Jacket (1987)"], "groundtruth": ["High Noon (1952)", "Dunkirk  (2017)", "Darkest Hour  (2017)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating AS rating, tr.numVotes AS num_votes\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.startYear >= 2010\nAND tb.primaryTitle != 'The Other Woman'\nAND tb.primaryTitle NOT IN ('The Hurt Locker (2008)', 'Black Hawk Down (2002)', 'Saving Private Ryan (1998)', 'Full Metal Jacket (1987)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22937, "query": "I like action and war movies", "history": ["Saving Private Ryan (1998)", "Full Metal Jacket (1987)"], "groundtruth": ["Lars and the Real Girl (2007)", "The Other Woman  (2014)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Action%' OR tb.genres LIKE '%War%'\nAND tb.primaryTitle NOT IN ('Saving Private Ryan (1998)', 'Full Metal Jacket (1987)')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22938, "query": "comedies, lol", "history": ["Full Metal Jacket (1987)"], "groundtruth": ["Dunkirk  (2017)", "The Green Berets  (1968)", "Darkest Hour  (2017)", "The Dirty Dozen (1967)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%comedies%'\nAND tb.primaryTitle != 'Full Metal Jacket (1987)'\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22939, "query": "I like action and war movies", "history": ["Black Hawk Down  (2002)", "MASH  (1970)", "Full Metal Jacket (1987)"], "groundtruth": ["The Green Berets  (1968)", "Atonement  (2007)", "The Zookeeper's Wife  (2017)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics AS tb1\nJOIN title_basics AS tb2 ON tb1.genres LIKE CONCAT('%', tb2.genres, '%')\nWHERE tb2.primaryTitle IN ('Black Hawk Down  (2002)', 'MASH  (1970)', 'Full Metal Jacket (1987)')\nAND tb1.titleType = 'movie'\nAND tb1.genres LIKE '%Action%'\nAND tb1.genres LIKE '%War%'\nAND tb1.primaryTitle NOT IN ('Black Hawk Down  (2002)', 'MASH  (1970)', 'Full Metal Jacket (1987)')\nGROUP BY tb1.primaryTitle\nORDER BY COUNT(tb1.primaryTitle) DESC\nLIMIT 5;"}
{"id": 22945, "query": "I'm babysitting next week and need some help finding good movies for kids.", "history": ["Jarhead  (2005)", "Inception (2010)"], "groundtruth": ["The Commuter  (2017)", "American Sniper (2014)", "Avengers: Infinity War (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie' \nAND tb.startYear >= 2000 \nAND tb.genres LIKE '%Family%'\nAND tb.primaryTitle NOT IN ('Jarhead', 'Inception')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22949, "query": "I'm looking for war and action movies", "history": [], "groundtruth": ["Solo: A Star Wars Story (2018)", "Avengers: Infinity War (2018)", "Breaking In (2018)", "Incredibles 2 (2018)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie' \nAND tb.isAdult = 0\nAND tb.genres LIKE '%War%' \nAND tb.genres LIKE '%Action%'\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22952, "query": "I\u2019m looking for a good action and comedy could you recommend any to me please ?!", "history": ["2012  (2009)"], "groundtruth": ["Takers (2010)"], "output": "SELECT DISTINCT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE genres LIKE '%Action%' AND genres LIKE '%Comedy%'\nAND tb.primaryTitle != '2012  (2009)'\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 22955, "query": "Hi. Can you recommend a some family friendly movies?", "history": ["Skyfall (2012)", "Spectre  (2015)"], "groundtruth": ["Wonder Woman  (2017)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Family%' AND tb.genres LIKE '%Fantasy%'\nAND tb.startYear >= 2010 \nAND tb.averageRating >= 7\nAND tb.primaryTitle NOT IN ('Skyfall (2012)', 'Spectre  (2015)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 22958, "query": "You consider that a war movie? I was thinking more like Dunkirk  (2017)  or Saving Private Ryan (1998)", "history": ["The Shining  (1980)", "The Birds  (1963)", "The Hills Have Eyes  (2006)", "Frozen  (2010)", "The Witch  (2015)"], "groundtruth": ["Oculus  (2013)"], "output": "SELECT tb1.primaryTitle AS recommended_movie, tb1.startYear AS year\nFROM title_basics AS tb1\nJOIN title_basics AS tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle IN ('Dunkirk', 'Saving Private Ryan')\nAND tb1.titleType = 'movie'\nAND tb1.primaryTitle NOT IN ('The Shining', 'The Birds', 'The Hills Have Eyes', 'Frozen', 'The Witch')\nAND tb1.startYear > 2010\nORDER BY tb1.averageRating DESC, tb1.numVotes DESC\nLIMIT 5;"}
{"id": 22959, "query": "Hi I'm in the mood for horror", "history": ["Pitch Perfect (2012)", "Mean Girls (2004)", "Legally Blonde (2001)"], "groundtruth": ["Half Baked (1998)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Horror%'\nAND tb.primaryTitle NOT IN ('Pitch Perfect (2012)', 'Mean Girls (2004)', 'Legally Blonde (2001)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 22965, "query": "what movies would you reccoment?", "history": ["Waterboys  (2001)", "The Little Mermaid  (1989)"], "groundtruth": ["Cult of Chucky (2017)", "Devil  (2010)", "Horrorween (2010)", "Popcorn  (1991)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Comedy%'\nAND tr.averageRating >= 7\nAND tb.startYear >= 2000\nAND tb.primaryTitle NOT IN ('Waterboys', 'The Little Mermaid')\nLIMIT 5;"}
{"id": 22966, "query": "what movie would you recommend?", "history": ["Moana  (2016)", "It (1990)", "It  (2017)", "The Kite  (2003)", "Lost  (2004)", "Princess  (2008)"], "groundtruth": ["Carrie  (1976)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 2010\nAND tb.genres LIKE '%Adventure%'\nAND tr.averageRating > 7\nAND tb.primaryTitle NOT IN ('Moana  (2016)', 'It (1990)', 'It  (2017)', 'The Kite  (2003)', 'Lost  (2004)', 'Princess  (2008)')\nORDER BY tr.averageRating DESC\nLIMIT 1;"}
{"id": 22971, "query": "im in the mood for a crime thriller. kinda like Kiss the Girls  (1997)", "history": ["Heat  (1995)", "The Town  (2010)", "Red  (2010)", "Den of Thieves (2018)"], "groundtruth": ["Death Wish "], "output": "SELECT tb.primaryTitle, tb.startYear, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Crime%' AND tb.genres LIKE '%Thriller%'\nAND tb.startYear > 1990\nAND tb.primaryTitle != 'Kiss the Girls'\nAND tb.primaryTitle NOT IN ('Heat', 'The Town', 'Red', 'Den of Thieves')\nORDER BY tr.averageRating DESC, tb.startYear DESC\nLIMIT 5;"}
{"id": 22973, "query": "I'm good.  I'm looking for something funny, but not slapstick", "history": ["Memphis Belle  (1990)", "Black Hawk Down  (2002)"], "groundtruth": ["Black  (2015)", "Waterworld (1995)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Comedy%' AND genres NOT LIKE '%Slapstick%'\nAND primaryTitle NOT IN ('Memphis Belle  (1990)', 'Black Hawk Down  (2002)')\nAND startYear <= 2002\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 22986, "query": "i'M LOOKING FOR HORROR FILMS", "history": ["Jumanji  (2017)"], "groundtruth": ["Enough  (2002)", "Takers (2010)", "Deadpool 2  (2018)", "List of accolades received by Inception", "The Commuter  (2017)"], "output": "SELECT tb.primaryTitle \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.genres LIKE '%Horror%' \nAND tr.averageRating > 7 \nAND tb.primaryTitle NOT IN ('Jumanji  (2017)') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 23003, "query": "yes, but based on a true story like Up Denali 3D (2003)", "history": [], "groundtruth": ["Black Panther (2018)", "The Theory of Everything  (2014)", "Insidious  (2011)", "Cast Away (2000)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'Up Denali 3D'\nAND tb2.titleType = tb1.titleType\nAND tb2.startYear = tb1.startYear\nAND tb1.tconst <> tb2.tconst\nAND tb1.titleType = 'movie'\nAND tb1.genres LIKE '%based on a true story%'\nAND tb1.startYear <= 2003\nORDER BY tb1.averageRating DESC\nLIMIT 5;"}
{"id": 23018, "query": "I\u2019m looking for a great comedy and or action movie any suggestions", "history": ["Deadpool 2  (2018)", "Deadpool  (2016)"], "groundtruth": ["The Vow  (2012)", "Adrift  (2009)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE (tb.genres LIKE '%comedy%' OR tb.genres LIKE '%action%')\nAND tb.primaryTitle NOT IN ('Deadpool 2 (2018)', 'Deadpool (2016)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 23021, "query": "i need a good crime movie", "history": ["The Secret Life of Walter Mitty  (2013)", "The Dark Knight  (2008)", "Into the Wild  (2007)"], "groundtruth": ["The Adventures of Sharkboy and Lavagirl in 3-D (2005)", "Pirates of the Caribbean: Dead Man's Chest (2006)"], "output": "SELECT tb.primaryTitle AS recommended_movie,\n       tr.averageRating AS rating,\n       tb.genres AS genre\n  FROM title_basics tb\n       JOIN title_ratings tr ON tb.tconst = tr.tconst\n WHERE tb.genres LIKE '%Crime%'\n   AND tb.startYear <= 2013\n   AND tb.tconst NOT IN ('tt0359950', 'tt0468569', 'tt0758758')  -- Exclude user's historical preferences\n ORDER BY tr.averageRating DESC\n LIMIT 3;"}
{"id": 23024, "query": "Hi I'm looking for thriller movies", "history": ["How to Lose a Guy in 10 Days (2003)", "When Harry Met Sally... (1989)", "Notting Hill "], "groundtruth": ["Clueless  (1995)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Thriller%'\nAND tb.primaryTitle NOT IN ('How to Lose a Guy in 10 Days (2003)', 'When Harry Met Sally... (1989)', 'Notting Hill ')\nORDER BY tr.averageRating DESC\nLIMIT 10;"}
{"id": 23026, "query": "i like romantic comedies", "history": ["A Fish Called Wanda (1988)", "Trading Places (1983)"], "groundtruth": ["Ocean's 8 (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie, tr.averageRating AS rating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Romance%' AND tb.genres LIKE '%Comedy%'\nAND tb.primaryTitle NOT IN ('A Fish Called Wanda (1988)', 'Trading Places (1983)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 23033, "query": "Actually, yes! I have been looking for good comedies.", "history": [], "groundtruth": ["Rush Hour  (1998)", "Wedding Crashers (2005)"], "output": "SELECT tb.primaryTitle \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Comedy%' \nAND tr.averageRating >= 7 \nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 23038, "query": "I like comedies mostly.", "history": ["Avengers: Infinity War (2018)"], "groundtruth": ["Spiders 3D (2013)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' \nAND tr.averageRating >= 7\nAND tb.primaryTitle != 'Avengers: Infinity War (2018)'\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 23050, "query": "Can you recommend some movies to watch?", "history": ["It (1990)", "The Shining  (1980)"], "groundtruth": ["It  (2017)", "The Babadook (2014)"], "output": "SELECT tb.primaryTitle\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear <= 1990\nAND tb.genres LIKE '%Horror%'\nAND tb.tconst NOT IN ('tt0099864', 'tt0081505')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 23053, "query": "Hi.  Good.  How about some war movies", "history": ["Black Hawk Down  (2002)", "Fight Club (1999)"], "groundtruth": ["The Other Woman  (2014)", "Never Let Me Go  (2010)", "Lars and the Real Girl (2007)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%War%' \nAND tb.primaryTitle NOT IN ('Black Hawk Down (2002)', 'Fight Club (1999)') \nORDER BY tr.averageRating DESC \nLIMIT 5;"}
{"id": 23056, "query": "Can you recommend some movies to watch?", "history": ["The Hurt Locker (2008)", "Fight Club (1999)"], "groundtruth": ["Children of the Corn  (1984)", "Lars and the Real Girl (2007)", "PT 109  (1963)", "Frozen  (2010)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE titleType = 'movie' \nAND startYear <= 2008 \nAND genres LIKE '%Action%' \nAND primaryTitle NOT IN ('The Hurt Locker', 'Fight Club')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 23058, "query": "Can you recommend some movies to watch?", "history": ["Fight Club (1999)", "Bambi (1942)"], "groundtruth": ["Jungle Book  (2018)", "50 First Dates (2004)", "High Noon (1952)", "Into Thin Air: Death on Everest (1997)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.primaryTitle NOT IN ('Fight Club (1999)', 'Bambi (1942)')\nAND (tb.genres LIKE '%Drama%' OR tb.genres LIKE '%Thriller%')\nAND tr.averageRating >= 8\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 23060, "query": "I love horror flicks", "history": ["Jerry Maguire (1996)", "Field of Dreams (1989)"], "groundtruth": ["The Natural  (1984)", "Radio  (2003)", "The Blind Side  (2009)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres LIKE '%Horror%' AND tb1.tconst != tb2.tconst\nJOIN title_ratings tr ON tb1.tconst = tr.tconst\nWHERE tb2.primaryTitle IN ('Jerry Maguire', 'Field of Dreams')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 23064, "query": "I enjoy Adventure movies.", "history": [], "groundtruth": ["Jurassic World (2015)", "Avengers: Infinity War (2018)", "Deadpool 2  (2018)"], "output": "SELECT primaryTitle \nFROM title_basics \nWHERE genres LIKE '%Adventure%' \nORDER BY averageRating DESC, numVotes DESC \nLIMIT 10;"}
{"id": 23093, "query": "Nope. I like scary movies, ones when you don't know who the killer is.", "history": ["The Boxtrolls (2014)"], "groundtruth": ["The Secret Life of Pets (2016)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'The Boxtrolls (2014)'\nAND tb1.titleType = 'movie'\nAND tb1.primaryTitle != 'The Boxtrolls (2014)'\nAND tb1.genres LIKE '%Horror%'\nAND tb1.genres LIKE '%Mystery%'\n;"}
{"id": 23144, "query": "got any movies to recommend?", "history": ["The Princess Bride  (1987)", "Snow White  (1962)"], "groundtruth": ["Toy Story (1995)", "Cinderella  (2015)", "Frozen (2013)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.runtimeMinutes, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE \n(tb.genres LIKE '%Adventure%' OR tb.genres LIKE '%Fantasy%' OR tb.genres LIKE '%Romance%')\nAND tb.startYear > 1962\nAND tb.tconst NOT IN ('tt0093779', 'tt0022913')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 23150, "query": "Hi,  I liked  The Purge (2013) can you recommend something similar?", "history": ["The Purge (2013)", "Hereditary (2018)"], "groundtruth": ["The Texas Chain Saw Massacre (1974)", "The Blair Witch Project (1999)", "The Babadook (2014)", "The Hitcher  (1986)"], "output": "SELECT tb2.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb1.primaryTitle = 'The Purge (2013)'\nAND tb2.primaryTitle NOT IN ('The Purge (2013)', 'Hereditary (2018)')\nAND tb2.titleType = 'movie'\nORDER BY tb2.numVotes DESC\nLIMIT 1;"}
{"id": 23152, "query": "Hi!! Can you recommend me some movie?? I like movies like The Purge (2013)", "history": ["Seven  (1995)", "The Dark Knight Rises (2012)", "Zodiac  (2007)"], "groundtruth": ["Twisted  (2004)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Thriller%' \nAND startYear >= 2010 \nAND startYear <= 2015 \nAND primaryTitle != 'The Purge (2013)' \nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 23161, "query": "Hi!! Can you recommend me some movie?? I like movies like Seven  (1995)", "history": ["The Purge (2013)", "Panic Room (2002)"], "groundtruth": ["A Quiet Place (2018)", "Breaking In (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'Seven'\nAND tb1.titleType = 'movie'\nAND tb1.startYear > 1995\nAND tb1.primaryTitle NOT IN ('The Purge', 'Panic Room')\nORDER BY tb1.averageRating DESC\nLIMIT 5;"}
{"id": 23164, "query": "I'm looking for some fun movies for a girls night", "history": ["A Perfect Getaway (2009)", "Friday the 13th  (1980)", "The Purge (2013)"], "groundtruth": ["Children of the Corn  (1984)"], "output": "SELECT tb.primaryTitle \nFROM title_basics tb \nJOIN title_ratings tr ON tb.tconst = tr.tconst \nWHERE tb.titleType = 'movie' \nAND tb.genres LIKE '%Comedy%' \nAND tb.startYear >= 2000 \nAND tb.averageRating >= 6.5 \nAND tb.primaryTitle NOT IN ('A Perfect Getaway (2009)', 'Friday the 13th (1980)', 'The Purge (2013)') \nORDER BY tr.numVotes DESC \nLIMIT 5;"}
{"id": 23180, "query": "I recently saw Spotlight  (2015)  and The Post (2017) You know anything similar?", "history": ["Signs  (2002)", "Get Out (2017)"], "groundtruth": ["The Shape of Water  (2017)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres IN (\n    SELECT genres\n    FROM title_basics\n    WHERE primaryTitle IN ('Spotlight', 'The Post')\n)\nAND tb.tconst NOT IN (\n    SELECT tconst\n    FROM title_basics\n    WHERE primaryTitle IN ('Spotlight', 'The Post')\n)\nAND tb.startYear >= 2010\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 23181, "query": "I like movies like The Sixth Sense (1999) and The Village  (2004) do you have any suggestions?", "history": ["Black Panther (2018)"], "groundtruth": ["Ocean's 8 (2018)", "Incredibles 2 (2018)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres IN \n    (SELECT genres\n     FROM title_basics\n     WHERE primaryTitle IN ('The Sixth Sense', 'The Village'))\nAND tb.startYear < 2004\nAND tb.tconst NOT IN ('tt0287717', 'tt0172495')  -- Excluding The Sixth Sense and The Village\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 23182, "query": "can you recommend a movie", "history": ["Natural Born Killers (1994)", "Fight Club (1999)", "Gone Girl  (2014)"], "groundtruth": ["Inception (2010)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.startYear >= 2010\nAND tb.genres LIKE '%Thriller%'\nAND tb.primaryTitle NOT IN ('Natural Born Killers', 'Fight Club', 'Gone Girl')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 23191, "query": "I don't mind what genre you recommend. But I do like comedies and horror.", "history": ["Natural Born Killers (1994)", "Fight Club (1999)"], "groundtruth": ["Bringing Out the Dead (1999)", "Choke  (2008)", "The Machinist (2004)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE (tb.genres LIKE '%Comedy%' OR tb.genres LIKE '%Horror%')\nAND tb.titleType = 'movie'\nAND tb.primaryTitle NOT IN ('Natural Born Killers (1994)', 'Fight Club (1999)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 23195, "query": "Yes!! Can you recommend me a movie like  Fight Club (1999)?", "history": ["Resident Evil  (2002)", "The Purge (2013)", "Taken  (2008)"], "groundtruth": ["Pet Sematary  (1989)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE tb.genres LIKE '%Drama%' AND tb.startYear > 1990\nAND tr.averageRating > 7\nAND tb.tconst != 'tt0137523' -- Excluding Fight Club\nAND (nb.primaryName = 'David Fincher' OR nb.primaryName = 'Brad Pitt' OR nb.primaryName = 'Edward Norton')\nAND tb.primaryTitle NOT IN ('Resident Evil (2002)', 'The Purge (2013)', 'Taken (2008)')\nGROUP BY tb.primaryTitle\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 1;"}
{"id": 23197, "query": "Hi!! Can you recommend me some movie?? I like movies like The Purge (2013)", "history": ["The Purge (2013)", "Fight Club (1999)", "Natural Born Killers (1994)"], "groundtruth": ["Den of Thieves (2018)", "The Town  (2010)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Thriller%' \nAND tb.startYear >= 1990\nAND tb.tconst NOT IN ('tt2184339', 'tt0137523', 'tt0110632')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 23199, "query": "Hi!! Can you recommend me some movie?? I like movies like The Purge (2013)", "history": ["Fight Club (1999)", "The Town  (2010)", "The Purge (2013)"], "groundtruth": ["Natural Born Killers (1994)"], "output": "SELECT primaryTitle\nFROM title_basics\nWHERE genres LIKE '%Thriller%' AND startYear > 2013\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 23200, "query": "Hi!! Can you recommend me some movie?? I like movies like The Purge (2013)", "history": ["The Purge (2013)", "Fight Club (1999)", "The Dark Knight  (2008)", "Natural Born Killers (1994)"], "groundtruth": ["Apocalypse Now (1979)", "Inception (2010)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE tb.genres LIKE '%Thriller%'\nAND nb.primaryName = 'James DeMonaco'\nAND tb.startYear > 2013\nAND tr.averageRating > 7\nAND tb.primaryTitle NOT IN ('The Purge (2013)', 'Fight Club (1999)', 'The Dark Knight  (2008)', 'Natural Born Killers (1994)')\nGROUP BY tb.primaryTitle\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 23201, "query": "Hi!! Can you recommend me some movie?? I like movies like The Purge (2013)?", "history": ["White Chicks (2004)", "Snatch  (2000)", "Pineapple Express  (2008)"], "groundtruth": ["Trainspotting  (1996)", "Half Baked (1998)"], "output": "SELECT tb.primaryTitle AS Recommended_Movies\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON nb.nconst = tp.nconst\nWHERE tb.tconst != 'The Purge (2013)'\nAND tb.genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'The Purge (2013)')\nAND tr.averageRating >= 7.5\nAND nb.primaryName NOT IN ('White Chicks (2004)', 'Snatch  (2000)', 'Pineapple Express  (2008)')\nGROUP BY tb.primaryTitle\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 23216, "query": "hi, i am good. i was wondering if you could help suggest some good movies for me ?", "history": ["Wonder  (2017)", "The Incredibles (2004)", "Coco  (2017)"], "groundtruth": ["The Boss Baby (2017)", "Home Alone (1990)"], "output": "SELECT primaryTitle, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE titleType = 'movie'\nAND startYear >= 2000\nAND primaryTitle NOT IN ('Wonder', 'The Incredibles', 'Coco')\nORDER BY averageRating DESC\nLIMIT 5;"}
{"id": 23245, "query": "Hi, I'd like to see something like Toy Story That Time Forgot", "history": ["Seven  (1995)", "Fatal Attraction (1987)"], "groundtruth": ["Edge of Darkness  (2010)", "Zodiac  (2007)", "The Silence of the Lambs  (1991)"], "output": "SELECT primaryTitle, averageRating\nFROM title_basics\nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Animation%' AND primaryTitle != 'Toy Story That Time Forgot'\nORDER BY numVotes DESC\nLIMIT 5;"}
{"id": 23247, "query": "Hi!! Can you recommend me some movies? I like movies like Seven  (1995)", "history": ["Frozen (2013)", "Coco  (2017)", "Finding Dory (2016)"], "groundtruth": ["Moana  (2016)", "Inside Out  (2015)"], "output": "SELECT tb.primaryTitle AS recommended_movies\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Mystery%'\nAND tb.startYear >= 1990\nAND tb.startYear <= 2000\nAND tr.averageRating >= 7\nAND tb.tconst NOT IN ('tt2294629', 'tt4846340', 'tt2277860')\nAND tb.tconst NOT IN ('tt0126029', 'tt1049413', 'tt2277860')\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 23248, "query": "i need a movie for wath whit my kids", "history": ["What About Bob%3F (1991)", "Lars and the Real Girl (2007)", "Stripes  (1981)", "The Man Who Knew Too Much  (1956)"], "groundtruth": ["Trading Places (1983)"], "output": "SELECT primaryTitle, startYear, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE genres LIKE '%Family%' \nAND startYear > 2000 \nAND averageRating > 7 \nAND primaryTitle NOT IN ('What About Bob%3F (1991)', 'Lars and the Real Girl (2007)', 'Stripes  (1981)', 'The Man Who Knew Too Much  (1956)')  \nORDER BY averageRating DESC \nLIMIT 5;"}
{"id": 23249, "query": "Hi!  I loved What About Bob%3F (1991) Looking for something like that now", "history": ["Halloween  (2007)", "Ring  (1998)"], "groundtruth": ["Friday the 13th  (1980)"], "output": "SELECT tb.tconst, tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Comedy%' \nAND tb.startYear >= 1990 \nAND tb.startYear <= 1995\nAND tb.tconst NOT IN ('tt0384806', 'tt0178868')  -- Excluding the user's historical preferences\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 23250, "query": "i need a movie of horror", "history": ["Toy Story (1995)", "The Secret Life of Pets (2016)", "Ferdinand (2017)"], "groundtruth": ["The Nut Job (2014)", "Maya the Bee  (2014)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres, tr.averageRating\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Horror%'\nAND tb.primaryTitle NOT IN ('Toy Story (1995)', 'The Secret Life of Pets (2016)', 'Ferdinand (2017)')\nORDER BY tr.averageRating DESC\nLIMIT 5;"}
{"id": 23254, "query": "Hi, I'm in the mood for something like Ferdinand (2017) and The Secret Life of Pets (2016)", "history": ["The Purge: Election Year (2016)", "The Purge (2013)"], "groundtruth": ["Jigsaw (2017)"], "output": "```sql\nSELECT DISTINCT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_ratings tr1 ON tb1.tconst = tr1.tconst\nJOIN title_principals tp1 ON tp1.tconst = tb1.tconst\nJOIN title_basics tb2 ON tb2.primaryTitle = 'Ferdinand'\nJOIN title_basics tb3 ON tb3.primaryTitle = 'The Secret Life of Pets'\nWHERE tp1.nconst IN (tb2.tconst, tb3.tconst)\nAND tb1.titleType = 'movie'\nAND tb1.startYear >= 2013\nAND tb1.startYear <= 2017\nAND tb1.tconst NOT IN ('tt4094724', 'tt5052448')  -- Exclude movies Ferdinand (2017) and The Secret Life of Pets (2016)\nORDER BY tr1.averageRating DESC, tr1.numVotes DESC\nLIMIT 5;\n```"}
{"id": 23258, "query": "Hi!! Can you recommend me some movies? I like movies like The Purge (2013)", "history": ["The Purge: Election Year (2016)", "The Purge (2013)", "The Purge: Anarchy (2014)"], "groundtruth": ["Jigsaw (2017)", "It  (2017)"], "output": "SELECT primaryTitle, genres, averageRating \nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst \nWHERE title_basics.genres LIKE '%Thriller%' \nAND title_basics.startYear >= 2010 \nAND title_basics.tconst NOT IN ('tt2184339', 'tt2184333', 'tt2975578') \nORDER BY averageRating DESC\nLIMIT 10;"}
{"id": 23259, "query": "Hi!! Can you recommend me some movies? I like movies like The Purge (2013)", "history": ["Seven  (1995)", "It  (2017)", "Jigsaw (2017)"], "groundtruth": ["The Purge (2013)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'The Purge'\nAND tb2.startYear = 2013\nAND tb1.primaryTitle NOT IN ('Seven', 'It', 'Jigsaw')\nAND tb1.titleType = 'movie'\nORDER BY tb1.averageRating DESC\nLIMIT 5;"}
{"id": 23260, "query": "Hi!! Can you recommend me some movies? I like movies like Seven  (1995)", "history": ["Frozen (2013)", "Moana  (2016)", "Finding Nemo (2003)", "Coco  (2017)", "Finding Dory (2016)"], "groundtruth": ["Inside Out  (2015)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres LIKE '%Crime%' \nAND tb.startYear >= 1990 \nAND tb.startYear <= 2000 \nAND tb.primaryTitle != 'Seven (1995)'\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 23262, "query": "i need a movie for watch with my kids like Finding Dory (2016) or Finding Nemo (2003)", "history": ["It  (2017)", "Ring  (1998)", "Jigsaw (2017)"], "groundtruth": ["Mama  (2013)"], "output": "SELECT primaryTitle, startYear, averageRating\nFROM title_basics \nJOIN title_ratings ON title_basics.tconst = title_ratings.tconst\nWHERE genres LIKE '%Animation%' \nAND (primaryTitle LIKE '%Finding Dory%' OR primaryTitle LIKE '%Finding Nemo%') \nAND startYear > 2000\nAND averageRating > 7\nAND primaryTitle NOT IN ('It  (2017)', 'Ring  (1998)', 'Jigsaw (2017)')\nORDER BY averageRating DESC, startYear DESC\nLIMIT 5;"}
{"id": 23263, "query": "Hi!! Can you recommend me some movies? I like movies like Ring  (1998)", "history": ["The Purge: Election Year (2016)", "Jigsaw (2017)", "The Purge (2013)"], "groundtruth": ["Scream 4 (2011)"], "output": "SELECT tb.primaryTitle\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.startYear = 1998\nAND tb.genres LIKE '%Horror%'\nAND tb.tconst NOT IN ('The Purge: Election Year (2016)', 'Jigsaw (2017)', 'The Purge (2013)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 23264, "query": "Hi!! Can you recommend me some movies? I like movies like The Purge (2013)", "history": ["White Chicks (2004)", "Deadpool  (2016)", "Fast & Furious  (2009)"], "groundtruth": ["Wonder Woman  (2009)", "The Fate of the Furious (2017)"], "output": "SELECT tb.primaryTitle AS Recommended_Movies\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'The Purge (2013)')\nAND tb.primaryTitle NOT IN ('White Chicks (2004)', 'Deadpool (2016)', 'Fast & Furious (2009)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 5;"}
{"id": 23265, "query": "Hi!! Can you recommend me some movies? I like movies like White Chicks (2004)", "history": ["Finding Dory (2016)", "Finding Nemo (2003)", "Deadpool  (2016)"], "groundtruth": ["Deadpool 2  (2018)"], "output": "SELECT tb1.primaryTitle AS recommended_movie\nFROM title_basics tb1\nJOIN title_basics tb2 ON tb1.genres = tb2.genres\nWHERE tb2.primaryTitle = 'White Chicks' AND tb2.startYear = 2004\nAND tb1.primaryTitle NOT IN ('Finding Dory', 'Finding Nemo', 'Deadpool')\nAND tb1.titleType = 'movie'\nORDER BY tb1.averageRating DESC, tb1.numVotes DESC\nLIMIT 5;"}
{"id": 23281, "query": "I need a child movie, to see it as a family", "history": ["The Lord of the Rings ", "Thor "], "groundtruth": ["Elf  (2003)"], "output": "SELECT tb.primaryTitle, tb.startYear, tb.genres\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nWHERE tb.titleType = 'movie'\nAND tb.genres LIKE '%Family%'\nAND tb.genres LIKE '%Animation%'\nAND tb.startYear > 2000\nAND tr.averageRating > 7\nAND tb.primaryTitle NOT IN ('The Lord of the Rings', 'Thor')\nORDER BY tr.averageRating DESC, tb.startYear DESC\nLIMIT 5;"}
{"id": 23294, "query": "Hi!! Can you recommend me some movies? I like movies like Thor ", "history": ["Training Day (2001)", "The Purge (2013)"], "groundtruth": ["The Town  (2010)", "Jason Bourne  (2016)", "Den of Thieves (2018)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE tb.genres LIKE '%Action%' \n    AND nb.primaryName = 'Chris Hemsworth'\n    AND tb.primaryTitle NOT IN ('Training Day (2001)', 'The Purge (2013)')\nORDER BY tb.averageRating DESC\nLIMIT 5;"}
{"id": 23295, "query": "Hi!! Can you recommend me some movies? I like movies like The Purge (2013)", "history": ["Fight Club (1999)", "Pitch Perfect (2012)"], "groundtruth": ["Half Baked (1998)"], "output": "SELECT tb.primaryTitle AS recommended_movie\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE nb.primaryName = 'James DeMonaco'\nAND tb.titleType = 'movie'\nAND tr.averageRating >= 7\nAND (tb.startYear BETWEEN 2010 AND 2020)\nAND tb.genres = (SELECT genres FROM title_basics WHERE primaryTitle = 'The Purge (2013)')\nAND tb.primaryTitle NOT IN ('Fight Club (1999)', 'Pitch Perfect (2012)')\nGROUP BY tb.primaryTitle\nORDER BY tr.numVotes DESC\nLIMIT 5;"}
{"id": 23298, "query": "Hi!! Can you recommend me some movies? I like movies like Pitch Perfect (2012)", "history": ["The Purge (2013)", "Avenger  (2006)"], "groundtruth": ["The Nightmare Before Christmas (1993)"], "output": "SELECT tb.primaryTitle\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_crew tc ON tb.tconst = tc.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE tb.genres LIKE '%Comedy%'\nAND tb.startYear >= 2010\nAND tb.tconst != 'tt1981658' -- exclude Pitch Perfect (2012)\nAND tb.primaryTitle NOT IN ('The Purge (2013)', 'Avenger  (2006)') -- exclude historical preferences\nAND nb.primaryName IN\n    (SELECT nb2.primaryName\n     FROM title_basics tb2\n     JOIN title_principals tp2 ON tb2.tconst = tp2.tconst\n     JOIN name_basics nb2 ON tp2.nconst = nb2.nconst\n     WHERE tb2.primaryTitle = 'Pitch Perfect (2012)')\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
{"id": 23299, "query": "Hi!! Can you recommend me some movies? I like movies like The Purge (2013)", "history": ["The President  (2014)", "Taken  (2008)", "Resident Evil  (2002)"], "groundtruth": ["Saw  (2003)"], "output": "SELECT tb.primaryTitle\nFROM title_basics tb\nJOIN title_ratings tr ON tb.tconst = tr.tconst\nJOIN title_principals tp ON tb.tconst = tp.tconst\nJOIN name_basics nb ON tp.nconst = nb.nconst\nWHERE nb.primaryName = 'The Purge'\nAND tb.titleType = 'movie'\nAND tr.averageRating >= 7\nAND (tb.genres LIKE '%Action%' OR tb.genres LIKE '%Horror%')\nAND tb.primaryTitle NOT IN ('The President  (2014)', 'Taken  (2008)', 'Resident Evil  (2002)')\nAND tb.startYear >= 2000\nAND tb.isAdult = 0\nORDER BY tr.averageRating DESC, tr.numVotes DESC\nLIMIT 10;"}
