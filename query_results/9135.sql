SELECT * FROM `movielens` WHERE `rating` >= $input AND (`year` < $preferedYear OR $preferedYear = \'\') ORDER BY RAND() LIMIT 10